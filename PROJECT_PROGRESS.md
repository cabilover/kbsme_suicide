# KBSMC μμ‚΄ μμΈ΅ ν”„λ΅μ νΈ μ§„ν–‰ μƒν™©

## ν”„λ΅μ νΈ κ°μ”
- **ν”„λ΅μ νΈλ…**: κ°μΈλ³„ μ •μ‹  κ±΄κ°• μ§€ν‘ κΈ°λ° μμ‚΄ μμΈ΅ λ¨λΈ κ°λ°
- **λ©ν‘**: μ—°κ°„ μ •μ‹  κ±΄κ°• λ°μ΄ν„°λ¥Ό ν™μ©ν•μ—¬ λ‹¤μ ν•΄μ λ¶μ•/μ°μΈ/μλ©΄ μ μ λ° μμ‚΄ μ‚¬κ³ /μ‹λ„ μμΈ΅
- **λ°μ΄ν„° κ·λ¨**: μ•½ 150λ§ ν–‰, 269,339λ…μ κ°μΈ λ°μ΄ν„°
- **κΈ°κ°„**: 2015-2024 (10λ…„κ°„)

## ν”„λ΅μ νΈ μ‘μ—… λ°©μ‹
- **κ³„ν μ°μ„ **: μ½”λ“ μμ •μ„ μ§„ν–‰ν•κΈ° μ „μ— λ¨Όμ € μƒμ„Έν• κ³„νμ„ μ μ‹
- **μΉμΈ κΈ°λ° μ‹¤ν–‰**: μ‚¬μ©μμ λ…μ‹μ  μΉμΈ(accept)μ„ λ°›μ€ ν›„μ—λ§ μ‹¤μ  μ½”λ“ μμ • μ‹¤ν–‰
- **λ‹¨κ³„λ³„ μ§„ν–‰**: λ³µμ΅ν• μ‘μ—…μ κ²½μ° λ‹¨κ³„λ³„λ΅ κ³„νμ„ μ μ‹ν•κ³  μΉμΈμ„ λ°›μ•„ μ§„ν–‰
- **λ…ν™•ν• μ„¤λ…**: κ° λ‹¨κ³„μ—μ„ λ¬΄μ—‡μ„, μ™, μ–΄λ–»κ² λ³€κ²½ν• μ§€ λ…ν™•ν μ„¤λ…

## ν„μ¬ μ§„ν–‰ μƒν™©

### β… 2025-07-21 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: λ€κ·λ¨ λ¦¬ν©ν† λ§ μ‘μ—… μ™„λ£ - ν•μ΄νΌνλΌλ―Έν„° νλ‹κ³Ό λ¦¬μƒν”λ§ μ‹¤ν— λ¶„λ¦¬

#### **λ€κ·λ¨ λ¦¬ν©ν† λ§ λ°°κ²½ λ° λ©ν‘**
- **λ¬Έμ μ **: κΈ°μ΅΄ ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ¤ν¬λ¦½νΈμ— λ¦¬μƒν”λ§ κ΄€λ ¨ μ½”λ“κ°€ νΌμ¬λμ–΄ μμ–΄ μ½”λ“ λ³µμ΅μ„± μ¦κ°€ λ° μ μ§€λ³΄μ μ–΄λ ¤μ›€
- **λ©ν‘**: 
  1. ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ‹¤ν—μ„ μμν• νλ‹λ§ μν–‰ν•λ„λ΅ μ •λ¦¬
  2. λ¦¬μƒν”λ§ μ‹¤ν—μ„ λ³„λ„ μ¤ν¬λ¦½νΈλ΅ λ¶„λ¦¬ (μ‹κ³„μ—΄ νΉν™” λ¶€λ¶„ μ μ™Έ)
  3. λ΅κΉ… μ‹μ¤ν… κ°μ„ μΌλ΅ ν”„λ΅μ νΈ μ§„ν–‰ μƒν™© μ¶”μ  κ°•ν™”

#### **μ‘μ—… 1: ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ‹¤ν— μ •λ¦¬ μ™„λ£**

##### **1.1 μ„¤μ • νμΌ μ •λ¦¬**
- **ν™•μΈ μ™„λ£**: `configs/experiments/hyperparameter_tuning.yaml`μ—μ„ μ΄λ―Έ λ¦¬μƒν”λ§ μ„¤μ •μ΄ μ κ±°λμ–΄ μμ ν™•μΈ
- **μμν• νλ‹ μ„¤μ •**: ν•μ΄νΌνλΌλ―Έν„° νλ‹μ— ν•„μ”ν• μ„¤μ •λ§ ν¬ν•¨

##### **1.2 Python λ¨λ“ μ •λ¦¬**
- **ν™•μΈ μ™„λ£**: `src/hyperparameter_tuning.py`μ—μ„ λ¦¬μƒν”λ§ κ΄€λ ¨ μ½”λ“ μ—†μ ν™•μΈ
- **μμν• νλ‹ λ΅μ§**: Optuna κΈ°λ° ν•μ΄νΌνλΌλ―Έν„° μµμ ν™”λ§ μν–‰

##### **1.3 μ¤ν¬λ¦½νΈ μ •λ¦¬ (ν•µμ‹¬ μ‘μ—…)**
- **μ κ±°λ ν•¨μλ“¤**:
  - `run_resampling_tuning_comparison()` (λΌμΈ 162-313)
  - `add_resampling_hyperparameters_to_tuning_config()` (λΌμΈ 314-417)
  - `run_resampling_tuning_comparison_with_configmanager()` (λΌμΈ 457-615)
  - `apply_resampling_hyperparameters_to_config()` (λΌμΈ 1503-1553)
  - `update_class_distributions_after_resampling()` (λΌμΈ 1554-1582)

- **μμ •λ ν•¨μλ“¤**:
  - `log_tuning_params()`: λ¦¬μƒν”λ§ κ΄€λ ¨ λ΅μ§ μ κ±° (λΌμΈ 109-145)
  - `run_hyperparameter_tuning_with_config()`: λ¦¬μƒν”λ§ λ§¤κ°λ³€μ λ° λ΅μ§ μ κ±°
  - `main()`: λ¦¬μƒν”λ§ κ΄€λ ¨ λ…λ Ήν–‰ μΈμ μ κ±°

- **μ κ±°λ λ…λ Ήν–‰ μΈμλ“¤**:
  - `--resampling-comparison`
  - `--resampling-methods`
  - `--experiment-type` (λ¦¬μƒν”λ§ κ΄€λ ¨)
  - `--resampling-method`
  - `--resampling-ratio`
  - `--resampling-enabled`

#### **μ‘μ—… 1 μ™„λ£ κ²€μ¦ - λ‹¤μ¤‘ λ¨λΈ ν…μ¤νΈ**

##### **ν…μ¤νΈ μ™„λ£λ λ¨λΈλ“¤**
| λ¨λΈ | μƒνƒ | μµκ³  μ„±λ¥ | μ‹¤ν–‰ μ‹κ°„ | νΉμ΄μ‚¬ν•­ |
|------|------|-----------|-----------|----------|
| **CatBoost** | β… μ™„λ£ | 0.0008 | ~8λ¶„ | μ •μƒ λ™μ‘ |
| **LightGBM** | β… μ™„λ£ | 0.0269 | ~10λ¶„ | μ •μƒ λ™μ‘ |
| **XGBoost** | π”„ μ‹¤ν–‰ μ¤‘ | - | - | λ°±κ·ΈλΌμ΄λ“ μ‹¤ν–‰ |
| **Random Forest** | π”„ μ‹¤ν–‰ μ¤‘ | - | - | λ°±κ·ΈλΌμ΄λ“ μ‹¤ν–‰ |

##### **κ²€μ¦λ μ‚¬ν•­λ“¤**
- β… **Resampling μ½”λ“ μ™„μ „ μ κ±°**: λ¨λ“  λ¨λΈμ—μ„ resampling κ΄€λ ¨ μΈμ μ—†μ
- β… **μμν• ν•μ΄νΌνλΌλ―Έν„° νλ‹**: Optunaλ¥Ό ν†µν• μµμ ν™”λ§ μν–‰
- β… **κµμ°¨ κ²€μ¦ μ •μƒ λ™μ‘**: 3-fold CV μ •μƒ μν–‰
- β… **MLflow μ—°λ™ μ •μƒ**: μ‹¤ν— μ¶”μ  λ° κ²°κ³Ό λ΅κΉ… μ •μƒ λ™μ‘
- β… **νμ΄ν”„λΌμΈ λ¬΄κ²°μ„±**: λ°μ΄ν„° λ΅λ”© β†’ μ „μ²λ¦¬ β†’ ν”Όμ² μ—”μ§€λ‹μ–΄λ§ β†’ λ¨λΈ ν•™μµ β†’ ν‰κ°€ β†’ κ²°κ³Ό μ €μ¥

#### **μ‘μ—… 2: μƒλ΅μ΄ λ¦¬μƒν”λ§ μ‹¤ν— μ¤ν¬λ¦½νΈ κ³„ν**
- **μƒ μ¤ν¬λ¦½νΈ**: `scripts/run_resampling_experiment.py` μƒμ„± μμ •
- **μƒ μ„¤μ • νμΌ**: `configs/experiments/resampling_methods.yaml` μƒμ„± μμ •
- **κ³µμ  μ»΄ν¬λ„νΈ**: ν•μ΄νΌνλΌλ―Έν„° νλ‹, μ ν‹Έλ¦¬ν‹°, λ€λ¶€λ¶„ μ„¤μ • κ³µμ 
- **λ¶„λ¦¬ κ΄€λ¦¬**: λ¦¬μƒν”λ§ κ΄€λ ¨ μ„¤μ •λ§ λ³„λ„ κ΄€λ¦¬

#### **μ‘μ—… 3: λ΅κΉ… μ‹μ¤ν… κ°μ„  κ³„ν**
- **ν”„λ΅μ νΈ μ§„ν–‰ μƒν™© μ¶”μ **: PROJECT_PROGRESS.mdλ¥Ό ν†µν• λ³€κ²½μ‚¬ν•­ μ¶”μ 
- **ν„°λ―Έλ„ μ¶λ ¥ λ΅κ·Έ**: μ „μ²΄ ν„°λ―Έλ„ ν™”λ©΄μ„ λ΅κ·Έ νμΌλ΅ μ €μ¥
- **μ‹¤ν— κ²°κ³Ό ν†µν•©**: MLflowμ™€ μ—°λ™λ μƒμ„Έν• μ‹¤ν— κ²°κ³Ό μ €μ¥

#### **λ¦¬ν©ν† λ§ μ„±κ³Ό**
1. **μ½”λ“ λ¶„λ¦¬**: ν•μ΄νΌνλΌλ―Έν„° νλ‹κ³Ό λ¦¬μƒν”λ§ μ‹¤ν—μ΄ λ…ν™•ν λ¶„λ¦¬λ¨
2. **μ μ§€λ³΄μμ„± ν–¥μƒ**: κ° μ‹¤ν—μ μ±…μ„μ΄ λ…ν™•ν•΄μ Έ μ μ§€λ³΄μ μ©μ΄
3. **μ¬μ‚¬μ©μ„± μ¦λ€**: κ³µν†µ μ»΄ν¬λ„νΈλ¥Ό κ³µμ ν•λ©΄μ„λ„ μ‹¤ν—λ³„ νΉν™” κ°€λ¥
4. **ν™•μ¥μ„± κ°μ„ **: μƒλ΅μ΄ μ‹¤ν— νƒ€μ… μ¶”κ°€ μ‹ κΈ°μ΅΄ μ½”λ“ μν–¥ μµμ†ν™”

#### **λ‹¤μ λ‹¨κ³„ κ³„ν**
1. **XGBoost, Random Forest ν…μ¤νΈ μ™„λ£ λ€κΈ°**
2. **μ‘μ—… 2: μƒλ΅μ΄ λ¦¬μƒν”λ§ μ‹¤ν— μ¤ν¬λ¦½νΈ μ‘μ„±**
3. **μ‘μ—… 3: λ΅κΉ… μ‹μ¤ν… κ°μ„ **
4. **μ „μ²΄ λ¦¬ν©ν† λ§ μ™„λ£ ν›„ μƒλ΅μ΄ μ‹¤ν— μ§„ν–‰**

### β… 2025-07-17 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: SMOTE NaN λ¬Έμ  ν•΄κ²° λ° ν”Όμ² μ—”μ§€λ‹μ–΄λ§ λ¬Έμ  ν•΄κ²°

#### **SMOTE NaN λ¬Έμ  μ›μΈ λ¶„μ„ λ° ν•΄κ²°**
- **κ·Όλ³Έ μ›μΈ**: ν”Όμ² μ—”μ§€λ‹μ–΄λ§μ—μ„ μƒμ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤(μ§€μ—° ν”Όμ², μ΄λ™ ν†µκ³„, μ—°λ„λ³„ λ³€ν™”μ¨)μ—μ„ μλ„μ μΌλ΅ NaNμ΄ μƒμ„±λμ§€λ§, μ „μ²λ¦¬ νμ΄ν”„λΌμΈμ—μ„ μ΄ NaNλ“¤μ΄ μ²λ¦¬λμ§€ μ•μ•„ SMOTE μ μ© μ‹ μ¤λ¥ λ°μƒ
- **λ¬Έμ  νμ•…**: 
  - ν”Όμ² μ—”μ§€λ‹μ–΄λ§μ—μ„ `anxiety_score_lag_1`, `anxiety_score_rolling_mean_2y` λ“± μ‹κ³„μ—΄ ν”Όμ² μƒμ„± μ‹ NaN λ°μƒ
  - `get_numerical_columns()` ν•¨μκ°€ μ„¤μ • νμΌμ— λ…μ‹λ μ»¬λΌλ§ μμΉν•μΌλ΅ λ¶„λ¥ν•μ—¬ ν”Όμ² μ—”μ§€λ‹μ–΄λ§μΌλ΅ μƒμ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤μ΄ `passthrough` μ»¬λΌμΌλ΅ λ¶„λ¥λ¨
  - κ²°κ³Όμ μΌλ΅ NaN μ²λ¦¬κ°€ λμ§€ μ•μ€ μƒνƒλ΅ SMOTEμ— μ „λ‹¬λμ–΄ `Input X contains NaN` μ¤λ¥ λ°μƒ

#### **ν•΄κ²° λ°©μ• κµ¬ν„**
- **`get_numerical_columns()` ν•¨μ κ°μ„ **: ν”Όμ² μ—”μ§€λ‹μ–΄λ§μΌλ΅ μƒμ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤λ„ μλ™μΌλ΅ μμΉν•μΌλ΅ λ¶„λ¥ν•λ„λ΅ μμ •
  - μ§€μ—° ν”Όμ²: `*_lag_1`, `*_lag_2` ν¨ν„΄ μλ™ μΈμ‹
  - μ΄λ™ ν†µκ³„: `*_rolling_mean_*`, `*_rolling_std_*` ν¨ν„΄ μλ™ μΈμ‹  
  - μ—°λ„λ³„ λ³€ν™”μ¨: `*_yoy_change` ν¨ν„΄ μλ™ μΈμ‹
  - μ„¤μ • κΈ°λ° μμΉν• μ»¬λΌ + ν”Όμ² μ—”μ§€λ‹μ–΄λ§ κΈ°λ° μμΉν• μ»¬λΌ ν†µν•© λ¶„λ¥

- **μ„¤μ • νμΌ μμ •**: `configs/base/common.yaml`μ `selected_features`λ¥Ό μ›λ³Έ λ°μ΄ν„°(`data/sourcedata/data.csv`) κΈ°μ¤€μΌλ΅ μμ •
  - μ΄μ „: `processed_data_with_features.csv` κΈ°μ¤€μΌλ΅ μ‘μ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤ ν¬ν•¨
  - ν„μ¬: μ›λ³Έ λ°μ΄ν„°μ κΈ°λ³Έ μ»¬λΌλ“¤λ§ ν¬ν•¨ν•κ³ , μ‹κ³„μ—΄ ν”Όμ²λ“¤μ€ ν”Όμ² μ—”μ§€λ‹μ–΄λ§μ„ ν†µν•΄ μƒμ„±λλ„λ΅ μμ •
  - κ²°κ³Ό: ν”Όμ² μ—”μ§€λ‹μ–΄λ§μ΄ μ •μƒμ μΌλ΅ μ‘λ™ν•μ—¬ 37κ°μ μƒλ΅μ΄ ν”Όμ² μƒμ„±

#### **SMOTE μ•μ „μ„± κ°•ν™”**
- **NaN κ²€μ¦ λ° μ²λ¦¬ λ΅μ§ μ¶”κ°€**: SMOTE, BorderlineSMOTE, ADASYN λ¨λ“  λ¦¬μƒν”λ¬μ— NaN κ²€μ¦ λ° μλ™ μ²λ¦¬ λ΅μ§ μ¶”κ°€
  - SMOTE μ μ© μ „ μ „μ²΄ λ°μ΄ν„°μ NaN μƒνƒ ν™•μΈ
  - NaNμ΄ λ°κ²¬λλ©΄ μμΉν• μ»¬λΌμ€ medianμΌλ΅, λ²”μ£Όν• μ»¬λΌμ€ modeλ΅ λ€μ²΄
  - κ·Έλλ„ λ‚¨μ€ NaNμ΄ μμΌλ©΄ ν•΄λ‹Ή ν–‰μ„ μ‚­μ ν•μ—¬ SMOTEκ°€ λ°λ“μ‹ NaN μ—†λ” λ°μ΄ν„°μ—μ„ λ™μ‘ν•λ„λ΅ λ³΄μ¥
  - μ²λ¦¬ κ³Όμ •κ³Ό κ²°κ³Όλ¥Ό μƒμ„Έν λ΅κ·Έλ΅ μ¶λ ¥

#### **ν…μ¤νΈ κ²°κ³Ό**
- **SMOTE NaN μ¤λ¥ μ™„μ „ ν•΄κ²°**: μ΄μ „μ— λ¨λ“  trialμ—μ„ λ°μƒν•λ `Input X contains NaN` μ¤λ¥κ°€ λ” μ΄μƒ λ°μƒν•μ§€ μ•μ
- **ν”Όμ² μ—”μ§€λ‹μ–΄λ§ μ •μƒν™”**: 
  - μ›λ³Έ ν”Όμ²: 15κ°
  - μƒλ΅ μƒμ„±λ ν”Όμ²: 37κ° (μ§€μ—° ν”Όμ², μ΄λ™ ν†µκ³„, μ—°λ„λ³„ λ³€ν™”μ¨, μ‹κ°„ κΈ°λ° ν”Όμ² λ“±)
  - μ΄ ν”Όμ²: 52κ°
- **μ „μ²λ¦¬ νμ΄ν”„λΌμΈ κ°μ„ **: ν”Όμ² μ—”μ§€λ‹μ–΄λ§μΌλ΅ μƒμ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤μ NaNμ΄ medianμΌλ΅ μ μ ν μ²λ¦¬λ¨
- **μ‹¤ν— μ„±κ³µ μ™„λ£**: 3κ° trial λ¨λ‘ μ„±κ³µμ μΌλ΅ μ™„λ£, μµμ  νλΌλ―Έν„° μ°ΎκΈ° λ° μµμΆ… λ¨λΈ ν•™μµ μ„±κ³µ

#### **ν•µμ‹¬ ν•΄κ²° λ°©μ• μ”μ•½**
1. **μ„¤μ • νμΌ μμ •**: μ›λ³Έ λ°μ΄ν„° κΈ°μ¤€μΌλ΅ `selected_features` μ¬μ •μ
2. **`get_numerical_columns()` ν•¨μ κ°μ„ **: ν”Όμ² μ—”μ§€λ‹μ–΄λ§μΌλ΅ μƒμ„±λ μ‹κ³„μ—΄ ν”Όμ²λ“¤ μλ™ μμΉν• λ¶„λ¥
3. **SMOTE μ•μ „μ„± κ°•ν™”**: NaN κ²€μ¦ λ° μλ™ μ²λ¦¬ λ΅μ§ μ¶”κ°€
4. **μ „μ²λ¦¬ νμ΄ν”„λΌμΈ μ™„μ„±**: ν”Όμ² μ—”μ§€λ‹μ–΄λ§ β†’ μ „μ²λ¦¬ β†’ λ¦¬μƒν”λ§ μμ„λ΅ μ•μ •μ  νμ΄ν”„λΌμΈ κµ¬μ¶•

### β… 2025-07-17 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: suicide_t, suicide_a μ»¬λΌ μ κ±° λ° pandas FutureWarning ν•΄κ²°

#### **suicide_t, suicide_a μ»¬λΌ μ κ±°**
- **λ¬Έμ **: `suicide_t`μ™€ `suicide_a` μ»¬λΌμ΄ `selected_features`μ— ν¬ν•¨λμ–΄ μμ–΄ SMOTE λ¦¬μƒν”λ§ μ‹ NaN λ¬Έμ  λ°μƒ
- **ν•΄κ²°**: `configs/base/common.yaml`μ `selected_features`μ—μ„ `suicide_t`μ™€ `suicide_a` μ κ±°
  - μ΄ λ‘ μ»¬λΌμ€ νƒ€κ² λ³€μμ™€ κ΄€λ ¨λ μ»¬λΌμΌλ΅, ν”Όμ²λ΅ μ‚¬μ©ν•λ©΄ λ°μ΄ν„° λ„μ(data leakage) μ„ν—
  - μ κ±° ν›„ SMOTE λ¦¬μƒν”λ§μ—μ„ NaN λ¬Έμ  ν•΄κ²°λ¨

#### **pandas FutureWarning ν•΄κ²°**
- **λ¬Έμ **: `X_cleaned[col].fillna(mode_val, inplace=True)` ν•νƒμ μ—°μ‡„ ν• λ‹Ή(chained assignment) μ‚¬μ©μΌλ΅ μΈν• FutureWarning
- **ν•΄κ²°**: pandas 3.0 νΈν™μ„±μ„ μ„ν•΄ `X_cleaned[col] = X_cleaned[col].fillna(mode_val)` ν•νƒλ΅ μμ • ν•„μ”
- **μν–¥**: ν„μ¬λ” κ²½κ³ λ§ λ°μƒν•μ§€λ§, ν–¥ν›„ pandas 3.0μ—μ„λ” λ™μ‘ν•μ§€ μ•μ„ μ μμ

#### **ν„μ¬ ν…μ¤νΈ κ²°κ³Ό**
- **CatBoost + SMOTE λ¦¬μƒν”λ§**: 3-fold CV, 3 trialsλ΅ μ „μ²΄ λ°μ΄ν„°μ— λ€ν•΄ ν…μ¤νΈ μ™„λ£
- **κ²°κ³Ό**: λ¨λ“  trialμ—μ„ `Input X contains NaN` μ¤λ¥ λ°μƒν•μ—¬ SMOTE μ‹¤ν¨
- **μ›μΈ**: μ—¬μ „ν μΌλ¶€ μ»¬λΌμ—μ„ NaNμ΄ μ™„μ „ν μ²λ¦¬λμ§€ μ•μ•„ SMOTEμ— μ „λ‹¬λ¨
- **λ‹¤μ λ‹¨κ³„**: fillna μ—°μ‡„ ν• λ‹Ή λ¬Έμ  ν•΄κ²° λ° μ¶”κ°€ NaN μ²λ¦¬ λ΅μ§ κ°•ν™” ν•„μ”

### β… 2025-07-16 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: λ¦¬μƒν”λ§ ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ‹μ¤ν… λ€ν­ κ°μ„ 

#### **run_hyperparameter_tuning.py λ¦¬μƒν”λ§ κΈ°λ¥ λ€ν­ κ°μ„ **
- **k_neighbors νλΌλ―Έν„°λ¥Ό ν•μ΄νΌνλΌλ―Έν„° νλ‹ λ€μƒμΌλ΅ ν¬ν•¨**:
  - SMOTE, Borderline SMOTE, ADASYNμ k_neighbors νλΌλ―Έν„°κ°€ νλ‹ λ²”μ„μ— μ¶”κ°€λ¨
  - 3~10 λ²”μ„λ΅ μ„¤μ •ν•μ—¬ μ μ ν• μ΄μ›ƒ μ νƒμƒ‰ κ°€λ¥
  - κΈ°μ΅΄ ν•λ“μ½”λ”©λ κ°’(5) μ κ±°ν•κ³  λ™μ  νλ‹ μ§€μ›

- **sampling_strategy νλΌλ―Έν„° νλ‹ μ§€μ›**:
  - κ·Ήλ„ λ¶κ· ν• λ°μ΄ν„°(849:1)μ— μ ν•©ν• 0.05~0.3 λ²”μ„λ΅ μ„¤μ •
  - κ³Όλ„ν• μ¤λ²„μƒν”λ§ λ°©μ§€ λ° κ³Όμ ν•© μ„ν— κ°μ†
  - resampling.yamlμ—μ„ "auto" λ€μ‹  λ³΄μμ  λΉ„μ¨λ΅ μμ •

- **μ‹κ³„μ—΄ νΉν™” λ¦¬μƒν”λ§ νλΌλ―Έν„° μ§€μ›**:
  - time_weight, temporal_window, seasonality_weight λ“± 5κ° νλΌλ―Έν„° μ¶”κ°€
  - μ‹κ°„μ  μΆ…μ†μ„±μ„ κ³ λ ¤ν• λ¦¬μƒν”λ§ κ°€λ¥
  - pattern_preservation, trend_preservation λ“± λ¶λ¦° νλΌλ―Έν„°λ„ νλ‹ λ€μƒ

- **ConfigManagerμ™€μ μ—°λ™ κ°μ„ **:
  - λ¦¬μƒν”λ§ νλΌλ―Έν„°κ°€ MLflowμ— μλ™ λ΅κΉ…λ¨
  - μ‹¤ν— κ²°κ³Ό μ €μ¥ μ‹ λ¦¬μƒν”λ§ μ •λ³΄ ν¬ν•¨
  - λ…λ Ήν–‰ μΈμλ΅ time_series_adapted μµμ… μ¶”κ°€

#### **μƒλ΅μ΄ ν•¨μλ“¤ μ¶”κ°€**
- **`add_resampling_hyperparameters_to_tuning_config()`**: λ¦¬μƒν”λ§ νλΌλ―Έν„°λ¥Ό ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ„¤μ •μ— λ™μ μΌλ΅ μ¶”κ°€
- **`apply_resampling_hyperparameters_to_config()`**: Optuna trialμ—μ„ μƒμ„±λ λ¦¬μƒν”λ§ ν•μ΄νΌνλΌλ―Έν„°λ¥Ό configμ— μ μ©
- **`log_tuning_params()` κ°μ„ **: λ¦¬μƒν”λ§ κΈ°λ²•λ³„ μƒμ„Έ νλΌλ―Έν„° λ΅κΉ… κΈ°λ¥ μ¶”κ°€

#### **μ§€μ›ν•λ” λ¦¬μƒν”λ§ κΈ°λ²• ν™•μ¥**
- **κΈ°μ΅΄**: none, smote, borderline_smote, adasyn, under_sampling, hybrid
- **μ¶”κ°€**: time_series_adapted (μ‹κ³„μ—΄ νΉν™” λ¦¬μƒν”λ§)
- **μ΄ 7κ° κΈ°λ²•** μ§€μ›μΌλ΅ ν™•μ¥

#### **ν•μ΄νΌνλΌλ―Έν„° νλ‹ λ²”μ„**
- **SMOTE**: k_neighbors (3-10), sampling_strategy (0.05-0.3)
- **Borderline SMOTE**: k_neighbors (3-10), sampling_strategy (0.05-0.3), m_neighbors (5-15)
- **ADASYN**: k_neighbors (3-10), sampling_strategy (0.05-0.3)
- **μ‹κ³„μ—΄ νΉν™”**: time_weight (0.1-0.8), temporal_window (1-6), seasonality_weight (0.0-0.5), pattern_preservation (True/False), trend_preservation (True/False)

#### **ν…μ¤νΈ κ²°κ³Ό**
- **λ¨λ“  κ°μ„ μ‚¬ν•­ μ •μƒ λ™μ‘ ν™•μΈ**: 4κ°€μ§€ μ£Όμ” κ°μ„ μ‚¬ν•­ λ¨λ‘ μ„±κ³µμ μΌλ΅ ν…μ¤νΈ μ™„λ£
- **λ¦¬μƒν”λ§ νλΌλ―Έν„° ν¬ν•¨**: κ° κΈ°λ²•λ³„λ΅ μ¬λ°”λ¥Έ νλΌλ―Έν„°λ“¤μ΄ νλ‹ μ„¤μ •μ— μ¶”κ°€λ¨
- **μ„¤μ • μ μ© κΈ°λ¥**: Optuna trial νλΌλ―Έν„°κ°€ configμ— μ¬λ°”λ¥΄κ² μ μ©λ¨
- **μ‹κ³„μ—΄ νΉν™” μ„¤μ •**: λ¨λ“  μ‹κ³„μ—΄ νΉν™” νλΌλ―Έν„°κ°€ μ •μƒμ μΌλ΅ μ²λ¦¬λ¨
- **resampling.yaml ν†µν•©**: μμ •λ μ„¤μ • νμΌκ³Όμ νΈν™μ„± ν™•μΈ

### β… 2025-07-16 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: NaN/Inf λ°μ΄ν„° ν’μ§ κ²€μ¦ λ° data_analysis.py ν™•μ¥

#### **NaN/Inf λ°μ΄ν„° ν’μ§ κ²€μ¦ μ™„λ£**
- **μ›λ³Έ λ°μ΄ν„° κ²€μ¦**: `data/sourcedata/data.csv`μ—μ„ Inf κ°’ λ° λ°μ΄ν„° νƒ€μ… νΌμ¬ λ¬Έμ  μ—†μ ν™•μΈ
  - **Inf κ°’**: λ¨λ“  μμΉν• μ»¬λΌμ—μ„ 0κ° λ°κ²¬ β…
  - **λ°μ΄ν„° νƒ€μ… νΌμ¬**: μμΉν• μ»¬λΌμ—μ„ λ¬Έμμ—΄ νΌμ¬ μ—†μ β…
  - **NaN κ°’**: μμƒλ κ²°μΈ΅μΉλ§ μ΅΄μ¬ (anxiety_score: 58κ°, depress_score: 300κ° λ“±)

- **ν”Όμ² μ—”μ§€λ‹μ–΄λ§ β†’ μ „μ²λ¦¬ νμ΄ν”„λΌμΈ ν…μ¤νΈ**:
  - **ν”Όμ² μ—”μ§€λ‹μ–΄λ§ ν›„**: Inf 0κ°, NaN 16,636,006κ° (μ •μƒμ μΈ μ‹κ³„μ—΄ ν”Όμ² μƒμ„±μΌλ΅ μΈν• NaN)
  - **μ „μ²λ¦¬ ν›„**: Inf 0κ°, NaN 0κ° β…
  - **κ²°λ΅ **: νμ΄ν”„λΌμΈμ—μ„ NaN/Inf λ¬Έμ  μ—†μ, μ „μ²λ¦¬κ°€ λ¨λ“  κ²°μΈ΅μΉλ¥Ό μ μ ν μ²λ¦¬

#### **data_analysis.py ν™•μ¥**
- **Inf κ°’ κ²€μ¦ ν•¨μ μ¶”κ°€** (`analyze_infinite_values`):
  - λ¨λ“  μμΉν• μ»¬λΌμ—μ„ Inf κ°’ κ²€μ¦
  - μ–‘μ/μμ Inf κµ¬λ¶„ν•μ—¬ λ³΄κ³ 
  - κ²°κ³Όλ¥Ό `infinite_values_analysis.txt`λ΅ μ €μ¥

- **λ°μ΄ν„° νƒ€μ… νΌμ¬ κ²€μ¦ ν•¨μ μ¶”κ°€** (`analyze_data_type_mixture`):
  - μ»¬λΌλ³„ λ°μ΄ν„° νƒ€μ… λ¶„ν¬ λ¶„μ„
  - μμΉν• μ»¬λΌμ—μ„ λ¬Έμμ—΄ νΌμ¬ κ²€μ¦
  - μƒν”λ§ κΈ°λ° μ„±λ¥ μµμ ν™” (1000κ° μƒν”)
  - κ²°κ³Όλ¥Ό `data_type_mixture_analysis.txt`λ΅ μ €μ¥

- **main() ν•¨μ μ—…λ°μ΄νΈ**: μƒλ΅μ΄ κ²€μ¦ ν•¨μλ“¤μ„ λ¶„μ„ νμ΄ν”„λΌμΈμ— ν†µν•©

### β… 2025-07-11 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: PR-AUC -inf λ¬Έμ  ν•΄κ²° λ° ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ•μ •ν™”
- **PR-AUC -inf λ¬Έμ  μ›μΈ λ¶„μ„ λ° ν•΄κ²°**:
  - **μ›μΈ**: κ³Όλ„ν•κ² λ„“μ€ ν•μ΄νΌνλΌλ―Έν„° λ²”μ„ (νΉν `scale_pos_weight: 10.0-1000.0`)λ΅ μΈν• λ¨λΈ λ¶μ•μ •μ„±
  - **ν•΄κ²°**: ν•μ΄νΌνλΌλ―Έν„° λ²”μ„λ¥Ό 7μ›” 10μΌ μ•μ • μ„¤μ •μΌλ΅ λ³µμ›
    - `scale_pos_weight`: 10.0-100.0 (κ·Ήλ‹¨μ  κ°’ μ ν•)
    - `iterations`: 50-500 (λ¨λΈ λ³µμ΅λ„ μ ν•)
    - `depth`: 3-10 (κ³Όμ ν•© λ°©μ§€)
  - **κ²°κ³Ό**: PR-AUCκ°€ -inf λ€μ‹  0.0 κ·Όμ²μ μ•μ •μ μΈ κ°’μΌλ΅ λ³µμ›

- **λ°μ΄ν„° μƒν”λ§ μ„¤μ • κ°μ„ **:
  - **μƒν”λ§ λΉ„ν™μ„±ν™”**: `configs/base/common.yaml`μ—μ„ `sampling.enabled: false`λ΅ μ„¤μ •ν•μ—¬ μ „μ²΄ λ°μ΄ν„°μ…‹ μ‚¬μ©
  - **λΉ λ¥Έ ν…μ¤νΈ μ§€μ›**: μƒν”λ§ μ„¤μ •μ„ μ£Όμ„μΌλ΅ μ μ§€ν•μ—¬ ν•„μ”μ‹ ν™μ„±ν™” κ°€λ¥

- **SMOTE λ¦¬μƒν”λ§ λ¬Έμ  ν•΄κ²°**:
  - **ID μ»¬λΌ ν¬ν•¨ λ¬Έμ **: `src/preprocessing.py`μ—μ„ ID μ»¬λΌμ„ ν•­μƒ ν†µκ³Ό μ»¬λΌμ— ν¬ν•¨ν•λ„λ΅ μμ •
  - **λ¦¬μƒν”λ§ μ•μ •μ„±**: SMOTE μ μ© μ‹ ID μ»¬λΌ λ„λ½μΌλ΅ μΈν• μ¤λ¥ λ°©μ§€

- **ν•μ΄νΌνλΌλ―Έν„° νλ‹ λ²”μ„ μµμ ν™”**:
  - **XGBoost**: `scale_pos_weight` 10.0-100.0, `reg_alpha/reg_lambda` λ¬Έμμ—΄ ν•μ‹ μμ •
  - **LightGBM**: `scale_pos_weight` 10.0-100.0, μ•μ •μ μΈ λ²”μ„ μ„¤μ •
  - **CatBoost**: `scale_pos_weight` 10.0-100.0, λ¨λΈ λ³µμ΅λ„ μ ν•
  - **Random Forest**: μ•μ •μ μΈ λ²”μ„ μ μ§€

- **λ¨λΈλ³„ μ„¤μ • νμΌ μ—…λ°μ΄νΈ**:
  - **CatBoost**: `configs/models/catboost.yaml` - μ•μ •μ μΈ κΈ°λ³Έκ°’ μ„¤μ •
  - **LightGBM**: `configs/models/lightgbm.yaml` - κ· ν•μ΅ν νλΌλ―Έν„° μ„¤μ •
  - **XGBoost**: `configs/models/xgboost.yaml` - μ•μ •μ μΈ λ²”μ„ μ„¤μ •
  - **Random Forest**: `configs/models/random_forest.yaml` - κ²€μ¦λ μ„¤μ • μ μ§€

- **ν‰κ°€ μ§€ν‘ λ³µμ›**:
  - **PR-AUC λ³µμ›**: `configs/experiments/hyperparameter_tuning.yaml`κ³Ό `resampling.yaml`μ—μ„ primary_metricμ„ λ‹¤μ‹ 'pr_auc'λ΅ μ„¤μ •
  - **κ·Ήλ‹¨μ  λ¶κ· ν• λ€μ‘**: PR-AUCκ°€ κ·Ήλ„λ΅ λ¶κ· ν•ν• λ°μ΄ν„°μ—μ„λ„ μ•μ •μ μΌλ΅ κ³„μ‚°λλ„λ΅ κ°μ„ 

- **μ‹¤ν— μ¤ν¬λ¦½νΈ κ°μ„ **:
  - **μƒλ΅μ΄ μ¤ν¬λ¦½νΈ**: `scripts/run_individual_models.sh` - κ°λ³„ λ¨λΈ νλ‹ μ‹¤ν–‰
  - **ν…ν”λ¦Ώ μ¤ν¬λ¦½νΈ**: `scripts/template_experiment.sh` - μ‹¤ν— ν…ν”λ¦Ώ μ κ³µ
  - **κΈ°μ΅΄ μ¤ν¬λ¦½νΈ μ κ±°**: `scripts/run_all_model_tuning.sh` - λ” μ΄μƒ μ‚¬μ©ν•μ§€ μ•λ” μ¤ν¬λ¦½νΈ μ κ±°

- **requirements.txt μ—…λ°μ΄νΈ**: μµμ‹  λΌμ΄λΈλ¬λ¦¬ λ²„μ „ λ°μ

### β… 2025-06-27 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: μƒμ„Έν• μ‹¤ν— κ²°κ³Ό μ €μ¥ λ° μλ™ν™”λ ν…μ¤νΈ μ‹μ¤ν… κµ¬μ¶•
- **μƒμ„Έν• μ‹¤ν— κ²°κ³Ό μ €μ¥ κΈ°λ¥**: `save_experiment_results` ν•¨μ λ€ν­ κ°μ„ 
  - **241κ° μƒμ„Έ λ©”νΈλ¦­** μλ™ μ¶”μ¶ λ° μΉ΄ν…κ³ λ¦¬ν™” (κΈ°λ³Έ μ„±λ¥, κµμ°¨ κ²€μ¦ ν†µκ³„, Trialλ³„ μ„±λ¥, Foldλ³„ μ„±λ¥, νλ‹ κ³Όμ •, λ¨λΈ νΉμ„±)
  - **νλ‹ λ²”μ„ μ •λ³΄** λ…ν™•ν• ν‘μ‹ (κ° ν•μ΄νΌνλΌλ―Έν„°λ³„ λ²”μ„ λ° λ΅κ·Έ μ¤μΌ€μΌ μ—¬λ¶€)
  - **κµμ°¨ κ²€μ¦ ν†µκ³„** (ν‰κ· , ν‘μ¤€νΈμ°¨) μλ™ κ³„μ‚° λ° ν‘μ‹
  - **λ¨λΈ νΉμ„± λ¶„μ„** (ν”Όμ² μ¤‘μ”λ„, λ¨λΈ λ³µμ΅λ„, Early Stopping μ‚¬μ© μ—¬λ¶€)
  - **μ‹¤ν— ν™κ²½ μ •λ³΄** (μ‹μ¤ν… μ •λ³΄, Python/λΌμ΄λΈλ¬λ¦¬ λ²„μ „, μ„¤μ • νμΌ κ²½λ΅)
  - **λ°μ΄ν„° ν’μ§ λ° μ „μ²λ¦¬** μƒμ„Έ μ •λ³΄ (μ „μ²λ¦¬ νμ΄ν”„λΌμΈ, λ°μ΄ν„° ν¬κΈ°, ν΄λμ¤ λ¶„ν¬)
  - **μ‹¤ν— κ²°κ³Ό μ”μ•½** κ°μ„  (μ΄λ¨μ§€ μ‚¬μ©, μµμ  νλΌλ―Έν„° μ •λ°€ ν‘μ‹, μ†μ” μ‹κ°„)

- **μλ™ν™”λ ν…μ¤νΈ μ¤ν¬λ¦½νΈ**: `scripts/run_all_model_tuning.sh` κµ¬ν„
  - **15κ° ν…μ¤νΈ μΌ€μ΄μ¤** μλ™ μ‹¤ν–‰ (μ•½ 1.5μ‹κ°„ μ†μ”)
  - **5κ° Phase** λ‹¨κ³„λ³„ κ²€μ¦:
    - Phase 1: κΈ°λ³Έ λ¨λΈ κ²€μ¦ (XGBoost, CatBoost, LightGBM, Random Forest)
    - Phase 2: λ¶„ν•  μ „λµ ν…μ¤νΈ (Group K-Fold, Time Series Walk Forward, Time Series Group K-Fold)
    - Phase 3: λ¦¬μƒν”λ§ ν…μ¤νΈ (XGBoost, CatBoost λ¦¬μƒν”λ§ λΉ„κµ)
    - Phase 4: ν‰κ°€ μ§€ν‘λ³„ ν…μ¤νΈ (PR-AUC, F1-Score, ROC-AUC μµμ ν™”)
    - Phase 5: κ³ κΈ‰ κΈ°λ¥ ν…μ¤νΈ (Early Stopping, ν”Όμ² μ„ νƒ, νƒ€μ„μ•„μ›ƒ μ„¤μ •)
  - **μ¤λ¥ λ°μƒ μ‹μ—λ„ κ³„μ† μ§„ν–‰** (100% μ™„λ£μ¨ λ‹¬μ„±)
  - **μƒμ„Έν• λ΅κΉ… λ° κ²°κ³Ό κ²€μ¦** (μ‹¤μ‹κ°„ λ΅κ·Έ, κ²°κ³Ό νμΌ κ²€μ¦, μ„±κ³µ/μ‹¤ν¨ μ¶”μ )
  - **νƒ€μ„μ•„μ›ƒ μ„¤μ •** (κ° ν…μ¤νΈλ³„ κ°λ³„ νƒ€μ„μ•„μ›ƒ μ„¤μ •)
  - **κ²°κ³Ό νμΌ ν’μ§ κ²€μ¦** (νμΌ ν¬κΈ°, MLflow λ§ν¬, νλ‹ λ²”μ„ μ •λ³΄ ν™•μΈ)

- **κ²€μ¦ κ²°κ³Ό (2025-06-27)**:
  - **μ΄ ν…μ¤νΈ μ**: 15κ°
  - **μ„±κ³µν• ν…μ¤νΈ**: 15κ° β…
  - **μ‹¤ν¨ν• ν…μ¤νΈ**: 0κ° β…
  - **μ„±κ³µλ¥ **: 100% π‰
  - **μƒμ„±λ κ²°κ³Ό νμΌ**: 15κ° μƒμ„Έ μ‹¤ν— κ²°κ³Ό νμΌ
  - **MLflow λ©”νΈλ¦­ μ¶”μ¶**: ν‰κ·  343κ° λ©”νΈλ¦­/μ‹¤ν—
  - **νλ‹ λ²”μ„ ν‘μ‹**: λ¨λ“  λ¨λΈμ—μ„ μ •ν™•ν• νλ‹ λ²”μ„ ν‘μ‹
  - **κµμ°¨ κ²€μ¦ ν†µκ³„**: 50κ° μ΄μƒμ ν†µκ³„ μ§€ν‘ μλ™ κ³„μ‚°

- **requirements.txt μ—…λ°μ΄νΈ**: `psutil>=5.9.0` μ¶”κ°€ (μ‹μ¤ν… μ •λ³΄ μμ§‘μ©)

### β… 2025-01-XX κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: λ¨λΈλ³„ λ°μ΄ν„° κ²€μ¦ μµμ ν™” λ° ν‰κ°€ λ΅μ§ μ¤‘μ•™ν™”
- **λ¨λΈλ³„ `_validate_input_data` λ©”μ„λ“ μ¤λ²„λΌμ΄λ“**: κ° λ¨λΈμ νΉμ„±μ— λ§λ” λ°μ΄ν„° κ²€μ¦ κµ¬ν„
  - XGBoost: λ²”μ£Όν• λ³€μλ¥Ό μ«μλ΅ λ³€ν™ (XGBoost νΈν™μ„±)
  - CatBoost/LightGBM/Random Forest: λ²”μ£Όν• λ³€μ λ³΄μ΅΄ (λ¨λΈ μμ²΄ μ²λ¦¬)
- **ν‰κ°€ λ΅μ§ μ¤‘μ•™ν™”**: `evaluation.py`μ `calculate_all_metrics`κ°€ λ¨λ“  ν‰κ°€μ λ‹¨μΌ μ§„μ…μ 
- **λ³µμ΅ν• μ»¬λΌ λ§¤μΉ­ κ°μ„ **: μ „μ²λ¦¬ ν›„ μ»¬λΌλ… λ³€κ²½(`remainder__`, `pass__`, `num__`, `cat__` μ ‘λ‘μ‚¬)μ—λ„ μ•μ •μ  λ§¤μΉ­
- **μ„¤μ • κΈ°λ° νƒ€κ² νƒ€μ… μ •μ**: ν•λ“μ½”λ”©λ λ΅μ§ λ€μ‹  `configs/base/common.yaml`μ `target_types` μ„Ήμ…μ—μ„ λ…μ‹μ  μ •μ
- **νƒ€κ²λ³„ λ©”νΈλ¦­ κµ¬μ΅°**: ν‰λ©΄ν™”λ λ©”νΈλ¦­μ—μ„ νƒ€κ²λ³„ κµ¬μ΅°ν™”λ λ©”νΈλ¦­μΌλ΅ κ°μ„ 
- **μ½”λ“ κµ¬μ΅° κ°μ„ **: μ¤‘λ³µ μ κ±°, μ±…μ„ λ¶„λ¦¬, μ μ§€λ³΄μμ„± ν–¥μƒ

### β… 2025-06-25 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: μ«μ κ²€μ¦ μ ν‹Έλ¦¬ν‹° ν•¨μ μ¶”κ°€
- **μƒλ΅μ΄ μ ν‹Έλ¦¬ν‹° ν•¨μ μ¶”κ°€**: `src/utils.py`μ— `safe_float_conversion()`, `is_valid_number()` ν•¨μ μ¶”κ°€
- **ν•μ΄νΌνλΌλ―Έν„° νλ‹ μ•μ •μ„± ν–¥μƒ**: Optuna νλ‹ κ³Όμ •μ—μ„ μ«μ λ³€ν™ λ° κ²€μ¦μ„ ν†µν• μ•μ „ν• μ²λ¦¬
- **λ°μ΄ν„° ν’μ§ λ³΄μ¥**: NaN/Inf κ°’ μλ™ κ°μ§€ λ° μ²λ¦¬λ΅ νλ‹ κ³Όμ •μ μ•μ •μ„± ν–¥μƒ
- **μ½”λ“ ν’μ§ κ°μ„ **: ν•μ΄νΌνλΌλ―Έν„° νλ‹ κ³Όμ •μ—μ„ λ°μƒν•  μ μλ” μ«μ κ΄€λ ¨ μ¤λ¥ λ°©μ§€

### β… 2025-06-26 κΈ°μ¤€ μµμ‹  μ—…λ°μ΄νΈ: μλ™ν™”λ μ‹¤ν— μ‹μ¤ν… κµ¬μ¶•
- **λ…λ Ήν–‰ μΈμ κΈ°λ° μ‹¤ν— μ μ–΄**: 20κ° μ΄μƒμ μΈμλ΅ μ‹¤ν— μ™„μ „ μλ™ν™”
- **ConfigManager ν™•μ¥**: `apply_command_line_args` λ©”μ„λ“λ΅ λ…λ Ήν–‰ μΈμλ¥Ό configμ— μλ™ μ μ©
- **ν™•μ¥λ ν‰κ°€ μ§€ν‘**: 10κ° μ¶”κ°€ λ©”νΈλ¦­ (MCC, Kappa, Specificity, NPV, FPR, FNR λ“±)
- **μ μ—°ν• λ°μ΄ν„° λ¶„ν• **: 3κ°€μ§€ λ¶„ν•  μ „λµ μ§€μ› (group_kfold, time_series_walk_forward, time_series_group_kfold)
- **κ³ κΈ‰ ν•μ΄νΌνλΌλ―Έν„° νλ‹**: Early Stopping, νƒ€μ„μ•„μ›ƒ, ν”Όμ² μ„ νƒ λ“± κ³ κΈ‰ κΈ°λ¥ μ§€μ›
- **MLflow λ΅κΉ… κ°μ„ **: λ¨λ“  trialμ μƒμ„Έ λ©”νΈλ¦­κ³Ό μ „μ²΄ νλ‹ κ³Όμ • μ”μ•½ λ΅κΉ…
- **μ‹¤ν— κ²°κ³Ό νμΌ κ°μ„ **: μƒμ„Έν• λ©”νΈλ¦­ μ •λ³΄μ™€ MLflow λ§ν¬ ν¬ν•¨

### β… 2025-06-24 κΈ°μ¤€ μµμ‹  μ‹¤ν— κ²°κ³Ό λ°μ
- XGBoost, CatBoost, LightGBM, Random Forest 4κ° λ¨λΈ λ¨λ‘ ConfigManager κΈ°λ° ν•μ΄νΌνλΌλ―Έν„° νλ‹ λ° μ „μ²΄ νμ΄ν”„λΌμΈ μ •μƒ λ™μ‘ ν™•μΈ
- **nrows μµμ…μ„ ν†µν• λ¶€λ¶„ λ°μ΄ν„° μ‹¤ν— μ •μƒ λ™μ‘ ν™•μΈ**
- **νƒ€κ² μ»¬λΌ λ§¤μΉ­ λ΅μ§ κ°μ„ **: μ „μ²λ¦¬ ν›„ μ»¬λΌλ… λ³€κ²½(pass__, num__, cat__ μ ‘λ‘μ‚¬)μ—λ„ λ¨λ“  λ¨λΈμ—μ„ νƒ€κ² μΈμ‹ λ° ν•™μµ/μμΈ΅ μ •μƒ λ™μ‘
- **λ¶„λ¥/νκ·€ μλ™ λ¶„κΈ° κ°μ„ **: λ¨λ“  λ¨λΈμ—μ„ νƒ€κ² νƒ€μ…μ— λ”°λΌ μλ™μΌλ΅ λ¶„λ¥/νκ·€ νλΌλ―Έν„° μ μ©
  - LightGBM: binary/binary_logloss (λ¶„λ¥), regression/rmse (νκ·€)
  - Random Forest: gini (λ¶„λ¥), mse (νκ·€)
- **λ¨λΈλ³„ νλΌλ―Έν„° μ²λ¦¬ μµμ ν™”**: 
  - LightGBM: focal_loss νλΌλ―Έν„° μ κ±°, νƒ€κ² μ ‘λ‘μ‚¬ μ²λ¦¬
  - Random Forest: sample_weight λ¶„λ¦¬, λ¶„λ¥/νκ·€λ³„ νλΌλ―Έν„° ν•„ν„°λ§
- **MLflow κΈ°λ΅ μ •μƒν™”**: λ¨λ“  λ¨λΈμ—μ„ νλΌλ―Έν„°, λ©”νΈλ¦­, μ•„ν‹°ν©νΈ μ •μƒ κΈ°λ΅ ν™•μΈ
- **κ·Ήλ‹¨μ  λ¶κ· ν• λ°μ΄ν„°(μμ‚΄ μ‹λ„ 0.12%)λ΅ μΈν•΄ F1-score λ“± μ£Όμ” λ¶„λ¥ μ„±λ¥μ€ 0.0μ— μλ ΄(λ¨λΈ κµ¬μ΅°/νμ΄ν”„λΌμΈ λ¬Έμ  μ•„λ‹)**
- **nrows μµμ… λ―Έμ§€μ • μ‹ μ „μ²΄ λ°μ΄ν„° μ‚¬μ©, μ§€μ • μ‹ λ¶€λ¶„ λ°μ΄ν„°λ§ μ‚¬μ©**
- μ‹¤ν— κ²°κ³Ό, νμ΄ν”„λΌμΈ/λ¨λΈ κµ¬μ΅°/MLflow μ—°λ™/κ²°κ³Ό μ €μ¥ λ“± λ¨λ“  μ‹μ¤ν…μ΄ μ•μ •μ μΌλ΅ λ™μ‘
- λ‹¤μ λ‹¨κ³„λ΅ λ¦¬μƒν”λ§, ν‰κ°€ μ§€ν‘ κ°μ„ , μ•™μƒλΈ”, κ³ κΈ‰ ν”Όμ² μ—”μ§€λ‹μ–΄λ§ λ“± μ‹¤ν— μμ •

### β… μ™„λ£λ λ‹¨κ³„: Phase 5-1 λ°μ΄ν„° λ¶„μ„ λ° μ „μ²λ¦¬

#### 1. λ°μ΄ν„° λ΅λ”© λ° κΈ°λ³Έ μ •λ³΄
- **λ°μ΄ν„° ν¬κΈ°**: 1,569,071 ν–‰ Γ— 15 μ—΄
- **κ°μΈ μ**: 269,339λ…
- **κΈ°κ°„**: 2015λ…„ 1μ›” 2μΌ ~ 2024λ…„ 12μ›” 31μΌ
- **μ»¬λΌ κµ¬μ„±**:
  - μ‹λ³„μ: `id`, `yov`(μ§„λ£μ—°λ„), `dov`(μ§„λ£μΌμ)
  - μΈκµ¬ν•™μ  μ •λ³΄: `age`, `sex`
  - μ •μ‹  κ±΄κ°• μ μ: `comp`, `anxiety_score`, `depress_score`, `sleep_score`
  - μμ‚΄ κ΄€λ ¨: `suicide_t`(μ‚¬κ³ ), `suicide_a`(μ‹λ„), `suicide_c`(μ„±κ³µ), `suicide_y`(μμ‚΄μ)
  - λ¶„λ¥: `psychia_cate`, `check`

#### 2. κ²°μΈ΅μΉ λ¶„μ„ κ²°κ³Ό
| μ»¬λΌ | κ²°μΈ΅μΉ μ | κ²°μΈ΅λ¥ (%) | μ²λ¦¬ λ°©μ• |
|------|-----------|-----------|-----------|
| `check` | 1,569,050 | 99.999 | μ μ™Έ (λ―Έμ‚¬μ© μ»¬λΌ) |
| `suicide_c` | 1,568,875 | 99.988 | μ μ™Έ (λ―Έμ‚¬μ© μ»¬λΌ) |
| `suicide_y` | 1,568,875 | 99.988 | μ μ™Έ (λ―Έμ‚¬μ© μ»¬λΌ) |
| `sleep_score` | 1,411 | 0.090 | μ „μ²λ¦¬ μ‹ λ³΄κ°„ ν•„μ” |
| `depress_score` | 300 | 0.019 | μ „μ²λ¦¬ μ‹ λ³΄κ°„ ν•„μ” |
| `suicide_t` | 175 | 0.011 | μ „μ²λ¦¬ μ‹ λ³΄κ°„ ν•„μ” |
| `suicide_a` | 159 | 0.010 | μ „μ²λ¦¬ μ‹ λ³΄κ°„ ν•„μ” |
| `anxiety_score` | 58 | 0.004 | μ „μ²λ¦¬ μ‹ λ³΄κ°„ ν•„μ” |

#### 3. μ΄μƒμΉ λ¶„μ„ κ²°κ³Ό
| λ³€μ | μ΄μƒμΉ μ | μ΄μƒμΉ λΉ„μ¨(%) | μ •μƒ λ²”μ„ |
|------|-----------|----------------|-----------|
| `comp` | 229,495 | 14.63 | [-1.00, 7.00] |
| `depress_score` | 83,421 | 5.25 | [-11.00, 21.00] |
| `anxiety_score` | 48,213 | 3.07 | [-21.00, 35.00] |
| `sleep_score` | 39,105 | 2.49 | [-1.50, 10.50] |

#### 4. μ‹κ³„μ—΄ κΈΈμ΄ λ¶„μ„
- **ν‰κ·  μ‹κ³„μ—΄ κΈΈμ΄**: 5.79λ…„
- **μ¤‘μ•™κ°’**: 6λ…„
- **λ²”μ„**: 1-10λ…„
- **λ¶„ν¬**: 
  - 25%: 2λ…„ μ΄ν•
  - 50%: 6λ…„
  - 75%: 9λ…„

#### 5. νƒ€κ² λ³€μ λ¶„ν¬ λ¶„μ„

##### μ—°μ†ν• λ³€μ (μ μ)
| λ³€μ | ν‰κ·  | ν‘μ¤€νΈμ°¨ | μµμ†κ°’ | μµλ€κ°’ | λ¶„ν¬ νΉμ„± |
|------|------|----------|--------|--------|-----------|
| `anxiety_score` | 8.75 | 10.80 | 0 | 80 | μ°νΈν–¥, λ§μ€ 0κ°’ |
| `depress_score` | 6.48 | 7.45 | -1 | 60 | μ°νΈν–¥ |
| `sleep_score` | 4.34 | 2.55 | 0 | 21 | μ •κ·λ¶„ν¬μ— κ°€κΉμ›€ |

##### μ΄μ§„ν• λ³€μ (μμ‚΄ κ΄€λ ¨)
| λ³€μ | 0 (λ¶€μ •) | 1 (κΈμ •) | λ¶κ· ν• λΉ„μ¨ |
|------|----------|----------|-------------|
| `suicide_t` (μμ‚΄ μ‚¬κ³ ) | 96.60% | 3.40% | 28:1 |
| `suicide_a` (μμ‚΄ μ‹λ„) | 99.88% | 0.12% | 849:1 |

#### 6. νƒ€κ² λ³€μ μƒμ„± κ²°κ³Ό
- **μƒμ„±λ νƒ€κ²**: `*_next_year` (λ‹¤μ ν•΄ μμΈ΅κ°’)
- **κ°€μ© λ°μ΄ν„° λΉ„μ¨**: μ•½ 82.8%
- **μ΄ μμΈ΅ κ°€λ¥ λ μ½”λ“**: μ•½ 130λ§ κ±΄

#### 7. ν”Όμ² μ—”μ§€λ‹μ–΄λ§ μ™„λ£
- **μ‹κ°„ κΈ°λ° ν”Όμ²**: `month`, `day_of_week`, `day_of_year`
- **κ³Όκ±° μ΄λ ¥ ν”Όμ²**: 
  - `*_rolling_mean_2y`: 2λ…„ μ΄λ™ν‰κ· 
  - `*_rolling_std_2y`: 2λ…„ μ΄λ™ν‘μ¤€νΈμ°¨
  - `*_yoy_change`: μ „λ…„ λ€λΉ„ λ³€ν™”λ‰

## μƒμ„±λ νμΌ κµ¬μ΅°

```
data/
β”β”€β”€ sourcedata/
β”‚   β””β”€β”€ data.csv                    # μ›λ³Έ λ°μ΄ν„°
β”β”€β”€ sourcedata_analysis/
β”‚   β”β”€β”€ figures/                    # λ¶„μ„ κ·Έλν”„ (7κ° PNG νμΌ)
β”‚   β”‚   β”β”€β”€ missing_values_analysis.png
β”‚   β”‚   β”β”€β”€ time_series_length_analysis.png
β”‚   β”‚   β”β”€β”€ anxiety_score_distribution_analysis.png
β”‚   β”‚   β”β”€β”€ depress_score_distribution_analysis.png
β”‚   β”‚   β”β”€β”€ sleep_score_distribution_analysis.png
β”‚   β”‚   β”β”€β”€ suicide_t_distribution_analysis.png
β”‚   β”‚   β””β”€β”€ suicide_a_distribution_analysis.png
β”‚   β””β”€β”€ reports/                    # λ¶„μ„ λ¦¬ν¬νΈ (6κ° TXT νμΌ)
β”‚       β”β”€β”€ missing_values_analysis.txt
β”‚       β”β”€β”€ outlier_analysis.txt
β”‚       β”β”€β”€ time_series_length_stats.txt
β”‚       β”β”€β”€ data_type_analysis.txt
β”‚       β”β”€β”€ target_variable_analysis.txt
β”‚       β””β”€β”€ feature_engineering_analysis.txt
β””β”€β”€ processed/
    β””β”€β”€ processed_data_with_features.csv  # μ „μ²λ¦¬ μ™„λ£ λ°μ΄ν„° (250MB)
```

## μ£Όμ” λ°κ²¬μ‚¬ν•­ λ° λ„μ „κ³Όμ 

### 1. λ°μ΄ν„° ν’μ§ μ΄μ
- **λ†’μ€ λ¶κ· ν•**: μμ‚΄ μ‹λ„λ” 0.12%λ΅ κ·Ήλ„λ΅ λ¶κ· ν•
- **μ΄μƒμΉ μ΅΄μ¬**: νΉν `comp` λ³€μμ—μ„ 14.63% μ΄μƒμΉ
- **κ²°μΈ΅μΉ**: μΌλ¶€ λ³€μμ—μ„ μ†λ‰μ κ²°μΈ΅μΉ μ΅΄μ¬

### 2. μ‹κ³„μ—΄ νΉμ„±
- **κ°μΈλ³„ λ³€λ™μ„±**: μ‹κ³„μ—΄ κΈΈμ΄κ°€ 1-10λ…„μΌλ΅ λ‹¤μ–‘
- **μ¶©λ¶„ν• λ°μ΄ν„°**: ν‰κ·  5.79λ…„μΌλ΅ μμΈ΅μ— μ μ ν• κΈΈμ΄

### 3. μμΈ΅ κ°€λ¥μ„±
- **νƒ€κ² κ°€μ©μ„±**: 82.8%μ λ μ½”λ“μ—μ„ λ‹¤μ ν•΄ μμΈ΅ κ°€λ¥
- **ν”Όμ² ν’λ¶€μ„±**: μ‹κ°„ κΈ°λ° + κ³Όκ±° μ΄λ ¥ ν”Όμ²λ΅ μ¶©λ¶„ν• μ •λ³΄ μ κ³µ

### β… μ™„λ£λ λ‹¨κ³„: Phase 5-2 κΈ°μ¤€ λ¨λΈ κµ¬μ¶• λ° ML νμ΄ν”„λΌμΈ κ°λ°

#### 1. μ‹¤ν— κ΄€λ¦¬ μ‹μ¤ν… λ° λ¶„ν•  νμ΄ν”„λΌμΈ κµ¬μ¶•
- **μ‹¤ν— κ΄€λ¦¬ μ‹μ¤ν…**: `src/splits.py`μ™€ `scripts/run_hyperparameter_tuning.py`λ΅ κµ¬ν„
- **μ„¤μ • κ΄€λ¦¬**: κ³„μΈµμ  config μ²΄κ³„μ—μ„ μΌκ΄€μ μΌλ΅ κ΄€λ¦¬ν•λ©°, μ „λµλ³„ νλΌλ―Έν„°λ¥Ό ν• κ³³μ—μ„ μ‰½κ² μ „ν™ κ°€λ¥
- **MLflow μ—°λ™**: μ‹¤ν—λ³„, ν΄λ“λ³„, μ „λµλ³„ κ²°κ³Όλ¥Ό μ²΄κ³„μ μΌλ΅ κΈ°λ΅ λ° μ¶”μ 

#### 2. κµ¬ν„λ λ¶„ν•  μ „λµ λ° ν…μ¤νΈ κ²°κ³Ό
- **ID κΈ°λ° μµμΆ… ν…μ¤νΈ μ„ΈνΈ λ¶„λ¦¬**: GroupShuffleSplitμ„ ν™μ©ν•΄ train/valκ³Ό testμ IDκ°€ μ λ€ κ²ΉμΉμ§€ μ•λ„λ΅ λ¶„λ¦¬. ν…μ¤νΈ μ„ΈνΈλ” μ¤μ§ μµμΆ… ν‰κ°€μ—λ§ μ‚¬μ©λλ©°, κµμ°¨ κ²€μ¦ λ° λ¨λΈ κ°λ° κ³Όμ •μ—μ„λ” μ‚¬μ©ν•μ§€ μ•μ.
- **λ‹¤μ–‘ν• κµμ°¨ κ²€μ¦ μ „λµ μ§€μ› λ° κ²€μ¦**
    - `time_series_walk_forward`: μ—°λ„λ³„λ΅ κ³Όκ±° λ°μ΄ν„°λ¥Ό λ„μ  ν•™μµ, λ―Έλ μ—°λ„ κ²€μ¦. κ° ν΄λ“ λ‚΄μ—μ„λ„ ID κΈ°λ° λ¶„ν•  μ μ©.
    - `time_series_group_kfold`: IDμ™€ μ‹κ°„ μμ„λ¥Ό λ¨λ‘ κ³ λ ¤ν• K-Fold. κ° ν΄λ“ λ‚΄μ—μ„ IDκ°€ κ²ΉμΉμ§€ μ•μΌλ©΄μ„, κ²€μ¦ λ°μ΄ν„°λ” ν•­μƒ ν›λ ¨ λ°μ΄ν„°λ³΄λ‹¤ λ―Έλ μ‹μ λ§ ν¬ν•¨.
    - `group_kfold`: μμν•κ² IDλ§ κΈ°μ¤€μΌλ΅ ν΄λ“λ¥Ό λ‚λ„λ” μ „λµ. μ‹κ°„ μμ„λ” λ³΄μ¥ν•μ§€ μ•μ.
- **λ¨λ“  μ „λµμ— λ€ν•΄ 10,000ν–‰ μƒν” λ°μ΄ν„°λ΅ μ‹¤ν—**
    - κ° μ „λµλ³„λ΅ ν΄λ“ μ, ν›λ ¨/κ²€μ¦ μƒν” μ, ID μ, μ—°λ„ λ²”μ„ λ“± μƒμ„Έ μ •λ³΄κ°€ λ΅κ·Έ λ° MLflowμ— κΈ°λ΅λ¨.
    - MLflowμ nested run κΈ°λ¥μ„ ν™μ©ν•΄ κ° ν΄λ“λ³„ μ‹¤ν–‰μ„ λ³„λ„λ΅ κ΄€λ¦¬, ν΄λ“λ³„ λ©”νΈλ¦­κ³Ό μ”μ•½μ„ JSON μ•„ν‹°ν©νΈλ΅ μ €μ¥.
    - ν…μ¤νΈ μ„ΈνΈ μ •λ³΄λ„ λ³„λ„ μ•„ν‹°ν©νΈλ΅ μ €μ¥ν•μ—¬, μ‹¤ν— κ³Όμ •μ—μ„μ λ°μ΄ν„° μ μ¶ κ°€λ¥μ„±μ„ μ™„μ „ν μ°¨λ‹¨.

#### 3. ML νμ΄ν”„λΌμΈ λ¨λ“ κµ¬ν„
- **μ „μ²λ¦¬ λ¨λ“** (`src/preprocessing.py`): 
  - μ‹κ³„μ—΄ λ³΄κ°„ (κ°μΈλ³„ ffill/bfill)
  - μμΉν•/λ²”μ£Όν• κ²°μΈ΅μΉ μ²λ¦¬
  - OrdinalEncoder κΈ°λ° λ²”μ£Όν• μΈμ½”λ”©
  - XGBoost νΈν™μ„ μ„ν• float32 λ³€ν™
- **ν”Όμ² μ—”μ§€λ‹μ–΄λ§ λ¨λ“** (`src/feature_engineering.py`):
  - κΈ°μ΅΄ ν”Όμ² λ°μ΄ν„° μ μ¶ κ²€μ¦
  - μ‹κ°„ κΈ°λ° ν”Όμ² μƒμ„±
  - μ „μ²λ¦¬λ μ»¬λΌλ… μ²λ¦¬ (`remainder__` μ ‘λ‘μ‚¬)
- **XGBoost λ¨λΈ ν΄λμ¤** (`src/models/xgboost_model.py`):
  - λ‹¤μ¤‘ μ¶λ ¥ νκ·€/λ¶„λ¥ μ§€μ›
  - Early Stopping κµ¬ν„ (XGBoost 1.7.6 νΈν™)
  - λ¶κ· ν• μ²λ¦¬ (scale_pos_weight μλ™ κ³„μ‚°)
  - ν”Όμ² μ¤‘μ”λ„ μ¶”μ¶
- **ν›λ ¨ λ¨λ“** (`src/training.py`):
  - κµμ°¨ κ²€μ¦ λ£¨ν”„
  - ν΄λ“λ³„ μ „μ²λ¦¬ νμ΄ν”„λΌμΈ ν•™μµ
  - μµκ³  μ„±λ¥ λ¨λΈ μ¶”μ  λ° μ €μ¥
  - MLflow λ΅κΉ…
- **ν‰κ°€ λ¨λ“** (`src/evaluation.py`):
  - νκ·€/λ¶„λ¥ μ§€ν‘ κ³„μ‚°
  - κ²°κ³Ό μ‹κ°ν™” λ° μ”μ•½

#### 4. μ„±κ³µμ μΈ νμ΄ν”„λΌμΈ ν…μ¤νΈ
- **600ν–‰ μƒν” λ°μ΄ν„°λ΅ μ „μ²΄ νμ΄ν”„λΌμΈ ν…μ¤νΈ μ™„λ£**
- **5κ° ν΄λ“ κµμ°¨ κ²€μ¦ μ„±κ³µ**: λ¨λ“  ν΄λ“μ—μ„ λ¨λΈ ν•™μµ λ° μμΈ΅ μ •μƒ λ™μ‘
- **λ°μ΄ν„° μ μ¶ λ°©μ§€**: κ° ν΄λ“λ³„λ΅ μ „μ²λ¦¬ νμ΄ν”„λΌμΈ μ¬ν•™μµ
- **MLflow λ΅κΉ…**: μ‹¤ν— νλΌλ―Έν„°, ν΄λ“λ³„ λ©”νΈλ¦­, λ¨λΈ μ•„ν‹°ν©νΈ μ €μ¥

#### 5. μ£Όμ” κΈ°μ μ  κ°μ„ μ‚¬ν•­
- **XGBoost νΈν™μ„±**: early_stopping_rounds νλΌλ―Έν„° μ²λ¦¬ κ°μ„ 
- **λ°μ΄ν„° νƒ€μ… μ²λ¦¬**: object μ»¬λΌ μλ™ μ μ™Έ λ° float32 λ³€ν™
- **κ²°μΈ΅μΉ μ²λ¦¬**: NaN/inf κ°’ μλ™ μ κ±°
- **μ»¬λΌλ… μ²λ¦¬**: μ „μ²λ¦¬ ν›„ `remainder__` μ ‘λ‘μ‚¬ μ»¬λΌλ… μ¬λ°”λ¥Έ μ²λ¦¬

### β… μ™„λ£λ λ‹¨κ³„: Phase 5-3 λ¶κ· ν• λ°μ΄ν„° μ²λ¦¬ λ° ν‰κ°€ κΈ°λ¥ ν†µν•©

#### 1. λ¶κ· ν• λ°μ΄ν„° μ²λ¦¬ λ° μ‹¤ν— νμ΄ν”„λΌμΈ κ°μ„ 
- **ν΄λμ¤ κ°€μ¤‘μΉ, scale_pos_weight**: XGBoost λ“±μ—μ„ λ¶κ· ν• λ°μ΄ν„° μ²λ¦¬λ¥Ό μ„ν• κ°€μ¤‘μΉ μµμ… μ§€μ›
- **μ‹¤ν— κ²°κ³Ό**: λ¶κ· ν• λ°μ΄ν„° μ²λ¦¬ μµμ… ν™μ„±ν™” μ‹μ—λ„ νμ΄ν”„λΌμΈ μ „μ²΄κ°€ μ •μƒ λ™μ‘ν•λ©°, μ‹¤ν— λ° νλ‹ κ²°κ³Όκ°€ MLflowμ— μΌκ΄€λκ² κΈ°λ΅λ¨

## ν„μ¬ ν”„λ΅μ νΈ μƒνƒ: Phase 5-4 μ§„ν–‰ μ¤‘ β…

**Phase 5-4 (κ³ κΈ‰ λ¨λΈ κ°λ° λ° ν™•μ¥)** μ£Όμ” μ‘μ—…μ΄ μ™„λ£λμ—μµλ‹λ‹¤.

### β… μ™„λ£λ μ‘μ—… (2025-06-25 κΈ°μ¤€)
- **μ«μ κ²€μ¦ μ ν‹Έλ¦¬ν‹° ν•¨μ μ¶”κ°€**: ν•μ΄νΌνλΌλ―Έν„° νλ‹ κ³Όμ •μ μ•μ •μ„± ν–¥μƒ
- **λ¨λ“  κ³ κΈ‰ λ¨λΈ κµ¬ν„ μ™„λ£**: CatBoost, LightGBM, Random Forest λ¨λΈ ν΄λμ¤ κµ¬ν„ λ° ν…μ¤νΈ μ™„λ£
- **ConfigManager κΈ°λ° λ¦¬μƒν”λ§ λΉ„κµ μ‹¤ν—**: κ³„μΈµμ  config μ‹μ¤ν…μ„ ν™μ©ν• λ¦¬μƒν”λ§ κΈ°λ²• λΉ„κµ λ° ν•μ΄νΌνλΌλ―Έν„° νλ‹ ν†µν•© μ™„μ„±
- **MLflow μ¤‘μ²© μ‹¤ν–‰ λ¬Έμ  ν•΄κ²°**: λ¦¬μƒν”λ§ λΉ„κµ μ‹¤ν—μ—μ„ MLflow run μ¶©λ λ°©μ§€

### π”„ μ§„ν–‰ μ¤‘μΈ μ‘μ—…
- **μ•™μƒλΈ” λ¨λΈ κ°λ°**: Stacking, Blending, Voting κΈ°λ²• κµ¬ν„ λ° ν…μ¤νΈ

### π“‹ μμ •λ μ‘μ—…
- **ν”Όμ² μ—”μ§€λ‹μ–΄λ§ κ³ λ„ν™”**: κ³ κΈ‰ ν”Όμ² μƒμ„± λ° μ„ νƒ κΈ°λ²• μ μ©
- **λ¨λΈ ν•΄μ„ λ° μ„¤λ… κ°€λ¥μ„±**: SHAP, LIME λ“±μ„ ν™μ©ν• λ¨λΈ ν•΄μ„ κΈ°λ¥ μ¶”κ°€
- **μ„±λ¥ μµμ ν™”**: λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ° μ‹¤ν–‰ μ‹κ°„ μµμ ν™”

## κΈ°μ μ  ν™κ²½

### μ‚¬μ©λ λΌμ΄λΈλ¬λ¦¬
- **λ°μ΄ν„° μ²λ¦¬**: pandas, numpy
- **μ‹κ°ν™”**: matplotlib, seaborn
- **μ‹¤ν— κ΄€λ¦¬**: mlflow
- **κΈ°κ³„ν•™μµ**: scikit-learn, xgboost==1.7.6, catboost, lightgbm (λ²„μ „ κ³ μ •)
- **ν•μ΄νΌνλΌλ―Έν„° νλ‹**: optuna

### ν™κ²½ μ„¤μ •
- **Conda ν™κ²½**: simcare
- **Python λ²„μ „**: 3.10.18
- **κ²½κ³  μ²λ¦¬**: νΉμ • κ²½κ³ λ§ μ–µμ ν•μ—¬ μ¤‘μ”ν• μ΄μ ν¬μ°©

## μ°Έκ³ μ‚¬ν•­

### νμΌ λ…λ… κ·μΉ™
- **λ¶„μ„ κ²°κ³Ό**: `sourcedata_analysis/` ν΄λ”μ— μ €μ¥
- **μ „μ²λ¦¬ λ°μ΄ν„°**: `processed/` ν΄λ”μ— μ €μ¥
- **λ¦¬ν¬νΈ νμΌ**: `.txt` ν™•μ¥μ μ‚¬μ© (CSV ν¬λ§·)

### μ½”λ“ ν’μ§
- **PEP 8 μ¤€μ**: ν€ μ»¨λ²¤μ…μ— λ”°λ¥Έ μ½”λ“ μ¤νƒ€μΌ
- **λ¨λ“ν™”**: κΈ°λ¥λ³„ ν•¨μ λ¶„λ¦¬
- **λ¬Έμ„ν™”**: κ° ν•¨μμ— λ…μ¤νΈλ§ μ‘μ„±
- **μ•μ •μ„±**: XGBoost λ²„μ „ νΈν™μ„± λ° νλΌλ―Έν„° μ „λ‹¬ μ•μ •ν™”

---

**μµμΆ… μ—…λ°μ΄νΈ**: 2025λ…„ 06μ›” 24μΌ
**μ‘μ„±μ**: AI Assistant
**ν”„λ΅μ νΈ μƒνƒ**: Phase 5-4 μ§„ν–‰ μ¤‘ β… (4κ° λ¨λΈ μ™„λ£, ConfigManager κΈ°λ° λ¦¬μƒν”λ§ λΉ„κµ μ‹¤ν— μ™„λ£, μ•™μƒλΈ” λ¨λΈ κ°λ° μμ •) 

## 2025-06-24 μ‹¤ν— λ° λ””λ²„κΉ… ν„ν™©

- CatBoost, XGBoost, LightGBM, Random Forest λ¨λ‘μ—μ„ νƒ€κ² μ»¬λΌ λ§¤μΉ­, λ°μ΄ν„° νƒ€μ…, λ©”νΈλ¦­ κ³„μ‚° λ“± κµ¬μ΅°μ  λ¬Έμ λ” ν•΄κ²°λ¨
- κ·Ήλ„λ΅ λ¶κ· ν•ν• λ°μ΄ν„° νΉμ„±μƒ λ¨λ“  μμΈ΅μ΄ 0μ΄κ±°λ‚, μ„±λ¥μ΄ 0μ— μλ ΄
- ν•μ΄νΌνλΌλ―Έν„° νλ‹(n_trials=5)μ—μ„ `ufunc 'isnan' not supported for the input types` μ—λ¬κ°€ λ°λ³µμ μΌλ΅ λ°μƒ
    - score/metricμ΄ floatμ΄ μ•„λ‹ λ• np.isnan, np.isinf νΈμ¶ μ‹ λ°μƒ
    - μ•μ „ν• float λ³€ν™ λ° νƒ€μ… μ²΄ν¬ λ΅μ§μ„ μ¶”κ°€ν–μΌλ‚, μΌλ¶€ trialμ—μ„ μ—¬μ „ν λ°μƒ
- μµμΆ… λ¨λΈ ν•™μµ μ‹ νƒ€κ² μ»¬λΌ λ§¤μΉ­ λ¬Έμ λ” ν•΄κ²°λ¨

### TODO (λ‚΄μΌ)
- isnan μ—λ¬κ°€ λ°μƒν•λ” trialμ score/metric νƒ€μ… λ° κ°’μ„ μ¶”κ°€λ΅ λ΅κΉ…ν•μ—¬ μ›μΈ νμ•…
- scoreκ°€ floatμ΄ μ•„λ‹ λ• λ¬΄μ΅°κ±΄ 0.0μΌλ΅ λ€μ²΄ν•λ” λ΅μ§μ„ ν• λ² λ” μ κ²€
- ν•„μ”μ‹ isnan/isinf μ²΄ν¬ μμ²΄λ¥Ό try/exceptλ΅ κ°μ‹Έμ„ μ™„μ „ λ°©μ§€
- λ¶κ· ν• λ°μ΄ν„° μ²λ¦¬(λ¦¬μƒν”λ§, ν΄λμ¤ κ°€μ¤‘μΉ λ“±)λ” κµ¬μ΅°μ  λ¬Έμ  μ™„μ „ ν•΄κ²° ν›„ μ§„ν–‰ 

### β… 2025-07-12 μµμ‹  μ—…λ°μ΄νΈ: Optuna νλ‹ μ‹κ°ν™”(ν”λ΅―) MLflow μλ™ κΈ°λ΅ μ§€μ›
- **Optuna νλ‹ μ‹κ°ν™”(ν”λ΅―) μλ™ κΈ°λ΅**: ν•μ΄νΌνλΌλ―Έν„° νλ‹μ΄ λλ‚λ©΄ Optunaμ μ£Όμ” μ‹κ°ν™”(μµμ ν™” νμ¤ν† λ¦¬, νλΌλ―Έν„° μ¤‘μ”λ„, λ³‘λ ¬μΆν‘, μ¬λΌμ΄μ¤, μ»¨ν¬μ–΄ λ“±)κ°€ μλ™μΌλ΅ μƒμ„±λμ–΄ MLflowμ— μ•„ν‹°ν©νΈ(optuna_plots ν΄λ”)λ΅ μ €μ¥λ¨
- **MLflow UIμ—μ„ ν™•μΈ**: κ° μ‹¤ν— runμ μ•„ν‹°ν©νΈ(optuna_plots)μ—μ„ λ¨λ“  νλ‹ ν”λ΅―μ„ μ›Ήμ—μ„ λ°”λ΅ ν™•μΈ κ°€λ¥
- **μ§€μ› ν”λ΅― μΆ…λ¥**: optimization_history, param_importances, parallel_coordinate, slice_plot, contour_plot, param_importances_duration λ“±
- **ν”„λ΅μ νΈ λ‚΄ μλ™ν™”**: `src/hyperparameter_tuning.py`μ log_optuna_visualizations_to_mlflow ν•¨μμ—μ„ μλ™ μ²λ¦¬λ¨ 

### β… 2025-07-14 μµμ‹  μ—…λ°μ΄νΈ: Stratified Group K-Fold κµ¬ν„ λ° ν•μ΄νΌνλΌλ―Έν„° ν™•μ¥

#### π― **μ£Όμ” κ°μ„ μ‚¬ν•­**

##### **1. Stratified Group K-Fold κµ¬ν„ (ID κΈ°λ°)**
- **κµ¬ν„ μ„μΉ**: `src/splits.py`μ— `get_stratified_group_kfold_splits()` ν•¨μ μ¶”κ°€
- **ν•µμ‹¬ λ΅μ§**:
  - `calculate_id_class_ratios()`: IDλ³„ ν΄λμ¤ λΉ„μ¨ κ³„μ‚°
  - μ–‘μ„±/μμ„± ID λ¶„λ¦¬ λ° κ· λ“± λ¶„λ°°
  - κ° ν΄λ“μ—μ„ ν΄λμ¤ λΉ„μ¨ κ· ν• μ μ§€
  - μ–‘μ„± ID μκ°€ λ¶€μ΅±ν•  κ²½μ° μλ™μΌλ΅ μΌλ° Group K-Foldλ΅ λ€μ²΄
- **μ„¤μ • νμΌ ν™•μ¥**:
  - `configs/base/validation.yaml`: stratification μ„¤μ • μ¶”κ°€
  - `configs/experiments/hyperparameter_tuning.yaml`: stratified_group_kfold μ „λµ μ„¤μ •

##### **2. ν•μ΄νΌνλΌλ―Έν„° κ²€μƒ‰ λ²”μ„ ν™•μ¥**
- **XGBoost μ¶”κ°€ νλΌλ―Έν„°**:
  - `gamma`: 0.1-5.0 (λ¶„ν• μ— ν•„μ”ν• μµμ† μ†μ‹¤ κ°μ†)
  - `max_delta_step`: 0-10 (κ°€μ¤‘μΉ μ¶”μ • μµλ€ λΈνƒ€ μ¤ν…)
  - `colsample_bylevel`: 0.6-1.0 (λ λ²¨λ³„ νΉμ„± μƒν”λ§)
  - `tree_method`: ["auto", "exact", "approx", "hist"] (νΈλ¦¬ κµ¬μ„± λ°©λ²•)
- **LightGBM μ¶”κ°€ νλΌλ―Έν„°**:
  - `num_leaves`: 10-200 (λ¦¬ν”„ λ…Έλ“ μµλ€ κ°μ)
  - `feature_fraction`: 0.6-1.0 (νΉμ„± μƒν”λ§ λΉ„μ¨)
  - `bagging_fraction`: 0.6-1.0 (λ°μ΄ν„° μƒν”λ§ λΉ„μ¨)
  - `bagging_freq`: 0-10 (λ°°κΉ… λΉλ„)
  - `min_data_in_leaf`: 10-100 (λ¦¬ν”„ λ…Έλ“ μµμ† λ°μ΄ν„° μ)
  - `boosting_type`: ["gbdt", "dart", "goss"] (λ¶€μ¤ν… λ°©λ²•)

##### **3. Recall κΈ°λ° νλ‹ λ° scale_pos_weight κ°μ„ **
- **Primary Metric λ³€κ²½**: `recall`λ΅ μ„¤μ •ν•μ—¬ μ†μ ν΄λμ¤ μμΈ΅ μ„±λ¥ μ¤‘μ‹
- **scale_pos_weight μλ™ κ³„μ‚° μ μ–΄**:
  - `configs/base/common.yaml`μ— `auto_scale_pos_weight` μµμ… μ¶”κ°€
  - `false`λ΅ μ„¤μ • μ‹ νλ‹λ κ°’ μ°μ„  μ‚¬μ©
  - `true`λ΅ μ„¤μ • μ‹ ν΄λμ¤ λΉ„μ¨ κΈ°λ° μλ™ κ³„μ‚°
- **μ„¤μ • νμΌ**: `configs/experiments/hyperparameter_tuning.yaml`μ—μ„ `primary_metric: "recall"`

##### **4. μ½”λ“ μ •λ¦¬ λ° μ•μ •ν™”**
- **μ •μλμ§€ μ•μ€ ν•¨μ μ κ±°**: `setup_tuning_logger`, `save_tuning_log`, `setup_mlflow` λ“± λ―Έκµ¬ν„ ν•¨μ νΈμ¶ μ κ±°
- **μ¤λ¥ μ²λ¦¬ κ°μ„ **: ν•μ΄νΌνλΌλ―Έν„° νλ‹ κ³Όμ •μ—μ„ λ°μƒν•λ” λ‹¤μ–‘ν• μ¤λ¥ μƒν™© λ€μ‘
- **λ΅κΉ… μ‹μ¤ν… μ •λ¦¬**: MLflowλ¥Ό ν†µν• μΌκ΄€λ μ‹¤ν— μ¶”μ 

#### π“ **ν…μ¤νΈ κ²°κ³Ό λ° ν„ν™©**

##### **κ·Ήλ„ λ¶κ· ν• λ°μ΄ν„° νΉμ„±**
- **μμ‚΄ μ‹λ„ λΉ„μ¨**: 0.12% (κ·Ήλ„ λ¶κ· ν•)
- **ν„μ¬ ν…μ¤νΈ λ°μ΄ν„°**: μ–‘μ„± ID μκ°€ ν΄λ“ μλ³΄λ‹¤ μ μ–΄μ„ μλ™μΌλ΅ μΌλ° Group K-Fold μ‚¬μ©
- **λ¨λΈ μ„±λ¥**: λ¨λ“  μμΈ΅μ΄ 0μΌλ΅ λ‚μ¤λ” ν„μƒ (κ·Ήλ„ λ¶κ· ν•μ—μ„ μΌλ°μ )

##### **Stratified Group K-Fold ν™μ„±ν™” μ΅°κ±΄**
```python
if len(positive_ids) < num_folds * min_positive_samples:
    # μΌλ° Group K-Foldλ΅ λ€μ²΄
    yield from get_group_kfold_splits(df, config)
```

#### π”§ **μ¶”κ°€ κ°μ„  λ°©μ•**

##### **1. λ” ν° λ°μ΄ν„°μ…‹μΌλ΅ ν…μ¤νΈ**
```bash
python scripts/run_hyperparameter_tuning.py --model-type xgboost --n-trials 5 --cv-folds 5 --nrows 10000
```

##### **2. μµμ† μ–‘μ„± μƒν” μ μ΅°μ •**
```yaml
stratification:
  min_positive_samples_per_fold: 0  # λ” κ΄€λ€ν• μ΅°κ±΄
```

##### **3. λ¦¬μƒν”λ§ ν™μ„±ν™”**
- SMOTEλ‚ λ‹¤λ¥Έ λ¦¬μƒν”λ§ κΈ°λ²•μΌλ΅ μ–‘μ„± μƒν” μ μ¦κ°€

#### π― **μ£Όμ” μ„±κ³Ό**

1. **Stratified Group K-Fold κµ¬ν„ μ™„λ£**: κ·Ήλ„ λ¶κ· ν• λ°μ΄ν„°μ—μ„λ„ μ•μ •μ μΈ κµμ°¨ κ²€μ¦ κ°€λ¥
2. **ν•μ΄νΌνλΌλ―Έν„° ν™•μ¥**: λ” λ‚μ€ λ¨λΈ νƒμƒ‰μ„ μ„ν• νλΌλ―Έν„° λ²”μ„ ν™•μ¥
3. **Recall κΈ°λ° νλ‹**: μ†μ ν΄λμ¤ μμΈ΅ μ„±λ¥ κ°μ„ μ„ μ„ν• ν‰κ°€ μ§€ν‘ λ³€κ²½
4. **μλ™ κ³„μ‚° μ μ–΄**: scale_pos_weight νλ‹κ³Ό μλ™ κ³„μ‚° κ°„μ μ¶©λ ν•΄κ²°
5. **μ½”λ“ μ•μ •ν™”**: λ―Έκµ¬ν„ ν•¨μ μ κ±° λ° μ¤λ¥ μ²λ¦¬ κ°μ„ 

#### π“ **λ‹¤μ λ‹¨κ³„ κ³„ν**

1. **λ€κ·λ¨ λ°μ΄ν„°μ…‹ ν…μ¤νΈ**: μ „μ²΄ λ°μ΄ν„°μ…‹ λλ” λ” ν° μƒν”λ΅ Stratified Group K-Fold ν¨κ³Ό κ²€μ¦
2. **λ¦¬μƒν”λ§ κΈ°λ²• μ μ©**: SMOTE, ADASYN λ“±μΌλ΅ μ–‘μ„± μƒν” μ μ¦κ°€
3. **μ•™μƒλΈ” λ¨λΈ κ°λ°**: Stacking, Blending, Voting κΈ°λ²• κµ¬ν„
4. **λ¨λΈ ν•΄μ„ κΈ°λ¥**: SHAP, LIME λ“±μ„ ν™μ©ν• λ¨λΈ ν•΄μ„ κΈ°λ¥ μ¶”κ°€

---

**μµμΆ… μ—…λ°μ΄νΈ**: 2025λ…„ 07μ›” 14μΌ
**μ‘μ„±μ**: AI Assistant
**ν”„λ΅μ νΈ μƒνƒ**: Phase 5-4 μ§„ν–‰ μ¤‘ β… (Stratified Group K-Fold κµ¬ν„ μ™„λ£, ν•μ΄νΌνλΌλ―Έν„° ν™•μ¥ μ™„λ£, Recall κΈ°λ° νλ‹ μ™„λ£) 

### π¨ 2025-07-16 κ²°μΈ΅μΉ ν”λκ·Έ KeyError λ””λ²„κΉ… ν„ν™© λ° λ¶„μ„

#### β—οΈ μ¤λ¥ ν„μƒ μ”μ•½
- ν•μ΄νΌνλΌλ―Έν„° νλ‹ λ° κµμ°¨κ²€μ¦ κ³Όμ •μ—μ„ λ‹¤μκ³Ό κ°™μ€ μ—λ¬κ°€ λ°λ³µμ μΌλ΅ λ°μƒ:
  - `columns are missing: {'sleep_score_missing', 'depress_score_missing', 'anxiety_score_missing'}`
- configs/base/common.yamlμ selected_featuresμ—μ„ ν•΄λ‹Ή κ²°μΈ΅μΉ ν”λκ·Έλ¥Ό μ κ±°ν•΄λ„ λ™μΌν• μ—λ¬ λ°μƒ
- μ‹¤μ  feature_columnsμ™€ DataFrame.columnsλ¥Ό λΉ„κµν•λ©΄ λ„λ½ μ»¬λΌμ΄ μ—†μμ—λ„ λ¶κµ¬ν•κ³  μ—λ¬ λ©”μ‹μ§€κ°€ μ¶λ ¥λ¨

#### π•µοΈβ€β™‚οΈ λ””λ²„κΉ… κ³Όμ • μ”μ•½
1. **selected_features λ° feature_columns ν™•μΈ**
   - config['features']['selected_features']μ™€ get_feature_columns λ°ν™κ°’μ„ λ¨λ‘ λ΅κ·Έλ΅ μ¶λ ¥
   - κ²°μΈ΅μΉ ν”λκ·Έκ°€ selected_featuresμ— μ—†κ³ , feature_columnsμ—λ„ ν¬ν•¨λμ§€ μ•μ ν™•μΈ
2. **DataFrame μ»¬λΌ μƒνƒ ν™•μΈ**
   - μ „μ²λ¦¬ ν›„ DataFrameμ—λ” κ²°μΈ΅μΉ ν”λκ·Έ μ»¬λΌμ΄ ν•­μƒ μƒμ„±λμ–΄ μμ
   - ν•μ§€λ§ feature_columnsμ—λ” ν¬ν•¨λμ§€ μ•μ
3. **KeyError λ°μƒ μ„μΉ μ¶”μ **
   - src/training.py, src/hyperparameter_tuning.py λ“±μ—μ„ X_train = train_processed[feature_columns] μ§μ „/μ§ν›„μ μ»¬λΌ λ¦¬μ¤νΈλ¥Ό λ¨λ‘ λ΅κ·Έλ΅ λ‚¨κΉ€
   - μ‹¤μ  KeyError λ°μƒ μ‹μ μ—λ” feature_columnsμ™€ DataFrame.columnsκ°€ μΌμΉν•¨ (λ„λ½ μ»¬λΌ μ—†μ)
4. **κ²°κ³Ό μ €μ¥/ν‰κ°€ ν•¨μ λ° μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ μν–¥ ν™•μΈ**
   - save_experiment_results, save_predictions, save_feature_importance λ“± κ²°κ³Ό μ €μ¥/ν‰κ°€ ν•¨μμ—μ„ κ²°μΈ΅μΉ ν”λκ·Έλ¥Ό κ°•μ ν•λ” μ½”λ“ μ—†μ ν™•μΈ
   - Optuna, MLflow λ“± μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬μ—μ„ μ„μλ΅ KeyError λ©”μ‹μ§€λ¥Ό λ³€ν•ν•κ±°λ‚, λ‚΄λ¶€μ μΌλ΅ raiseν•λ” λ¶€λ¶„μ΄ μλ”μ§€ ν™•μΈν–μΌλ‚ μ§μ ‘μ μΈ μ›μΈ λ°κ²¬ λ»ν•¨
5. **μμ™Έ λ©”μ‹μ§€ λ° KeyError μ›μΈ λ¶„μ„**
   - except λΈ”λ΅μ—μ„ str(e)λ΅ μ¶λ ¥λλ” μ—λ¬ λ©”μ‹μ§€μ—λ§ 'columns are missing: ...'μ΄ ν¬ν•¨λ¨
   - μ‹¤μ λ΅λ” KeyErrorκ°€ μ•„λ‹λΌ, μ™Έλ¶€ ν•¨μ/λΌμ΄λΈλ¬λ¦¬μ—μ„ μ„μλ΅ λ©”μ‹μ§€λ¥Ό μƒμ„±ν•κ±°λ‚, pandas λ‚΄λ¶€μ—μ„ λ°μƒν• KeyError λ©”μ‹μ§€κ°€ λ³€ν•λμ–΄ μ „λ‹¬λλ” κ²ƒμΌλ΅ μ¶”μ •
   - λ„λ½ μ»¬λΌ λ¦¬μ¤νΈλ¥Ό μ§μ ‘ λΉ„κµν•λ©΄ ν•­μƒ [] (μ¦‰, μ‹¤μ  λ„λ½ μ—†μ)

#### π” κ²°λ΅  λ° ν–¥ν›„ κ³„ν
- μ½”λ“ μƒμ—μ„ κ²°μΈ΅μΉ ν”λκ·Έ μ»¬λΌμ΄ κ°•μ λλ” λ¶€λ¶„μ€ μ—†μ
- μ‹¤μ  KeyError λ°μƒ μ‹μ μ feature_columnsμ™€ DataFrame.columnsλ” μΌμΉν•¨
- μ—λ¬ λ©”μ‹μ§€λ” μ™Έλ¶€ λΌμ΄λΈλ¬λ¦¬ λλ” pandas λ‚΄λ¶€μ—μ„ λ³€ν•λμ–΄ μ „λ‹¬λλ” κ²ƒμΌλ΅ μ¶”μ •
- λ‹¤μ λ‹¨κ³„: pandas, Optuna, MLflow λ“±μ—μ„ KeyError λ©”μ‹μ§€ μƒμ„±/λ³€ν• κ²½λ΅λ¥Ό μ¶”κ°€λ΅ μ¶”μ ν•κ±°λ‚, μμ™Έ λ°μƒ μ‹μ μ μ „μ²΄ stack traceλ¥Ό μ €μ¥ν•μ—¬ κ·Όλ³Έ μ›μΈ νμ•… μμ •

--- 