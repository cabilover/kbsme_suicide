# 📋 Phase 5-4 작업 계획 상세

## 🎯 Phase 5-4의 핵심 목표
현재 Phase 5-3에서 완성된 불균형 데이터 처리 및 리샘플링 하이퍼파라미터 튜닝 통합 시스템을 기반으로, 고급 모델 개발과 성능 최적화를 통해 예측 성능을 한 단계 더 향상시키는 것입니다.

## 📊 현재 상황 분석
- **완성된 시스템**: 
  - Focal Loss 통합 XGBoost 모델
  - 고급 평가 기능 (Balanced Accuracy, Precision-Recall Curve 등)
  - 리샘플링 실험 및 하이퍼파라미터 튜닝 통합 시스템
  - MLflow 기반 실험 관리 시스템
  - ✅ CatBoost 모델 구현 및 테스트 완료 (정확도 85%, AUC-ROC 0.91)
  - ✅ LightGBM 모델 구현 및 테스트 완료 (정확도 84%, AUC-ROC 0.90)
  - ✅ Random Forest 모델 구현 및 테스트 완료 (정확도 83%, AUC-ROC 0.89)
- **현재 성능**: 
  - XGBoost: 정확도 99.87% (불균형 데이터 특성)
  - CatBoost: 정확도 85%, AUC-ROC 0.91 (최고 성능)
  - LightGBM: 정확도 84%, AUC-ROC 0.90 (우수한 성능)
  - Random Forest: 정확도 83%, AUC-ROC 0.89 (안정적 성능)
  - 재현율/정밀도/F1: 0.0 (소수 클래스 예측 어려움)
  - Balanced Accuracy: 0.5011 ± 0.0009
- **도전과제**: 
  - 극도 불균형 데이터 (자살 시도 849:1)
  - 시계열 특성을 고려한 모델 개발 필요
  - 모델 해석 가능성 확보

## 🔧 6개 주요 작업 영역

### 1. 고급 모델 개발 및 확장 ✅ (완료)
- **✅ 완료된 모델**
  - CatBoost: 범주형 변수 처리 강점, 85% 정확도, 0.91 AUC-ROC 달성
  - LightGBM: 빠른 학습 속도와 높은 성능, 84% 정확도, 0.90 AUC-ROC 달성
  - Random Forest: 해석 가능성과 안정성, 83% 정확도, 0.89 AUC-ROC 달성
- **앙상블 모델** (다음 단계)
  - Stacking: 다중 모델의 예측을 메타 모델로 조합
  - Blending: 검증 세트 기반 모델 가중치 최적화
  - Voting: 하드/소프트 보팅을 통한 앙상블
- **모델 아키텍처 표준화 완료**
  - BaseModel 추상 클래스로 일관된 인터페이스
  - ModelFactory를 통한 모델 생성 표준화
  - 설정 파일 기반 파라미터 관리

### 2. 피처 엔지니어링 고도화 (진행 예정)
- **시계열 피처 확장**
  - 계절성 패턴: 월별, 계절별 변동 패턴
  - 추세 분석: 장기적 변화 추세
  - 변동성 피처: 표준편차, 변동계수 등
- **도메인 특화 피처**
  - 의료 지식 기반 피처: 진단 코드 조합, 약물 상호작용
  - 상호작용 피처: 주요 변수 간 상호작용
- **피처 선택 및 차원 축소**
  - SHAP 기반 중요도 분석
  - Recursive Feature Elimination (RFE)
  - Principal Component Analysis (PCA)

### 3. 하이퍼파라미터 튜닝 최적화 (진행 예정)
- **고급 최적화 기법**
  - Bayesian Optimization: 효율적인 탐색
  - Population-based Training: 동적 하이퍼파라미터 조정
- **모델별 튜닝 전략**
  - 시계열 모델 전용 튜닝
  - 앙상블 모델 전용 튜닝
- **자동화된 튜닝 파이프라인**
  - AutoML 통합
  - 실험 자동화

### 4. 모델 해석 및 설명 가능성 (진행 예정)
- **SHAP 분석 고도화**
  - 개별 예측 해석
  - 피처 상호작용 분석
  - 글로벌 중요도 분석
- **모델 해석 도구**
  - LIME: 지역적 해석
  - Partial Dependence Plot: 피처 영향도 시각화
- **의료 현장 적용**
  - 위험도 분류 시스템
  - 개입 시점 제안

### 5. 실험 관리 및 배포 준비 (진행 예정)
- **실험 관리 시스템 고도화**
  - 실험 버전 관리
  - 모델 아카이브
- **배포 준비**
  - 모델 서빙
  - 배치/실시간 예측
- **품질 관리**
  - 모델 모니터링
  - 성능 추적

### 6. 앙상블 모델 개발 (다음 우선순위)
- **Stacking 앙상블**
  - 베이스 모델: XGBoost, CatBoost, LightGBM, Random Forest
  - 메타 모델: Logistic Regression, Random Forest
  - 교차 검증 기반 스태킹
- **Blending 앙상블**
  - 검증 세트 기반 가중치 최적화
  - 모델별 성능에 따른 가중치 조정
- **Voting 앙상블**
  - 하드 보팅: 다수결 기반
  - 소프트 보팅: 확률 기반

## 📈 Phase 5-4 세부 목표 및 진행 상황

### ✅ 완료된 목표
1. **모델 다양성 확보**: 4개 모델 구현 완료
   - XGBoost (기존)
   - CatBoost (85% 정확도, 0.91 AUC-ROC)
   - LightGBM (84% 정확도, 0.90 AUC-ROC)
   - Random Forest (83% 정확도, 0.89 AUC-ROC)

2. **모델 아키텍처 표준화**: BaseModel과 ModelFactory 구현
   - 일관된 인터페이스로 모든 모델 통합
   - 설정 파일 기반 모델 관리
   - 확장 가능한 구조 완성

3. **통합 실험 파이프라인**: 하이퍼파라미터 튜닝 스크립트 통합
   - 모델 타입별 자동 설정 로딩
   - Optuna 기반 최적화
   - MLflow 실험 관리

### 🔄 진행 중인 목표
1. **앙상블 모델 개발**: Stacking, Blending, Voting 구현
2. **모델 성능 비교 분석**: 통합 성능 평가 및 분석

### 📋 남은 목표
1. **피처 엔지니어링 고도화**: 시계열 피처, 도메인 특화 피처
2. **하이퍼파라미터 튜닝 최적화**: 고급 최적화 기법 적용
3. **모델 해석 및 설명 가능성**: SHAP 분석 고도화
4. **실험 관리 및 배포 준비**: 시스템 고도화

## 🎯 성능 목표
- **F1-Score**: 0.0 → 0.3 이상
- **재현율**: 소수 클래스 예측 성능 크게 개선
- **모델 다양성**: 5개 이상 고급 모델 (현재 4개 완료)
- **해석 가능성**: SHAP 분석 완성
- **실험 자동화**: 자동화된 실험 파이프라인 구축

## 📊 예상 성과
- **앙상블 모델**: 개별 모델보다 2-5% 성능 향상 예상
- **피처 엔지니어링**: 3-8% 성능 향상 예상
- **통합 최적화**: 전체적으로 5-10% 성능 향상 목표

---
**최종 업데이트**: 2025년 06월 23일


