2025-06-24 09:34:58,142 - src.hyperparameter_tuning - INFO - MLflow 실험 설정: hyperparameter_tuning (ID: 765186397364671153)
2025-06-24 09:34:58,142 - src.hyperparameter_tuning - INFO - 데이터 로드 중: data/processed/processed_data_with_features.csv
2025-06-24 09:34:58,146 - src.hyperparameter_tuning - INFO - 테스트용 데이터 로드: 1,000 행
2025-06-24 09:34:58,146 - src.hyperparameter_tuning - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO - 튜닝 설정 - 시도 횟수: 100, 타임아웃: 3600초
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO - 하이퍼파라미터 튜너 초기화 완료
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO -   - 튜닝 설정: {'data': {'file_path': 'data/processed_data.csv', 'encoding': 'utf-8', 'na_values': ['', 'nan', 'NaN', 'NULL', 'null']}, 'features': {'target_columns': ['suicide_a_next_year'], 'exclude_columns': ['id', 'patient_id', 'visit_date', 'visit_year'], 'categorical_columns': ['gender', 'marital_status', 'education_level', 'income_level', 'residence_type', 'insurance_type', 'primary_diagnosis', 'comorbidity', 'medication_type', 'treatment_type', 'follow_up_status'], 'selected_features': ['age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score'], 'validation': {'scope': 'sample', 'sample_size': 10}, 'enable_feature_engineering': False, 'enable_lagged_features': False, 'lag_periods': [1, 2, 3], 'lagged_features': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}, 'enable_rolling_stats': False, 'rolling_stats': {'window_sizes': [2, 3], 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}}, 'preprocessing': {'time_series_imputation': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp'], 'fallback_strategy': 'mean'}, 'numerical_imputation': {'strategy': 'mean', 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']}, 'categorical_imputation': {'strategy': 'most_frequent', 'columns': ['sex']}, 'categorical_encoding': {'method': 'ordinal'}, 'missing_value_strategy': 'median', 'outlier_detection': {'method': 'iqr', 'threshold': 1.5}, 'scaling': {'method': 'robust', 'with_mean': True, 'with_std': True}, 'feature_selection': {'method': 'variance_threshold', 'threshold': 0.01}}, 'data_split': {'test_ids_ratio': 0.15, 'random_state': 42, 'method': 'stratified_kfold', 'n_splits': 5, 'test_size': 0.2, 'val_size': 0.2}, 'validation': {'strategy': 'group_kfold', 'num_cv_folds': 3, 'test_size': 0.15, 'random_state': 42, 'val_ids_ratio': 0.15, 'validation_start_year': 2021, 'min_train_years': 3, 'max_train_years': 8}, 'time_series': {'date_column': 'dov', 'year_column': 'yov', 'id_column': 'id'}, 'evaluation': {'regression_metrics': ['mae', 'rmse', 'r2'], 'classification_metrics': ['precision', 'recall', 'f1', 'roc_auc', 'balanced_accuracy'], 'cv_metrics': ['accuracy', 'f1', 'auc', 'rmse', 'r2'], 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True, 'primary_metric': 'f1_score', 'secondary_metrics': ['recall', 'precision', 'balanced_accuracy', 'roc_auc'], 'cv': {'strategy': 'group_kfold', 'n_folds': 5, 'shuffle': False}}, 'training': {'early_stopping': True, 'patience': 10, 'handle_imbalance': True, 'save_best_model': True, 'model_save_path': 'models/'}, 'logging': {'log_splits_info': True, 'log_fold_details': True, 'level': 'INFO', 'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'file': 'logs/experiment.log'}, 'output': {'directory': 'results', 'save_model': True, 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True}, 'mlflow': {'experiment_name': 'hyperparameter_tuning', 'experiment_description': '자살 위험 예측 모델 실험', 'tags': ['suicide_prediction', 'healthcare', 'classification', 'regression'], 'nested_runs': True, 'save_artifacts': True, 'log_params': True, 'log_metrics': True, 'log_model': True, 'tracking': {'tracking_uri': 'file:./mlruns', 'experiment_name': 'suicide_prediction', 'nested_runs': True, 'artifact_location': './mlruns'}, 'logging': {'param_logging_level': 'INFO', 'metric_logging_level': 'INFO', 'artifact_logging_level': 'INFO', 'log_experiment_info': True, 'log_fold_results': True, 'log_model_info': True}, 'log_optimization': True}, 'model': {'model_type': 'lightgbm', 'lightgbm': {'num_leaves': 31, 'learning_rate': 0.1, 'feature_fraction': 0.9, 'bagging_fraction': 0.8, 'bagging_freq': 5, 'min_data_in_leaf': 20, 'min_sum_hessian_in_leaf': '1e-3', 'lambda_l1': 0.1, 'lambda_l2': 0.1, 'num_threads': 28, 'verbose': -1, 'early_stopping_rounds': 10, 'max_cat_threshold': 32, 'cat_smooth': 10.0, 'cat_l2': 10.0, 'is_unbalance': True, 'scale_pos_weight': 1.0, 'class_weight': 'balanced', 'boosting_type': 'gbdt', 'objective': 'binary', 'metric': 'binary_logloss', 'max_depth': 6, 'min_gain_to_split': 0.0, 'min_child_samples': 20, 'bagging_seed': 42, 'feature_fraction_seed': 42, 'drop_seed': 42, 'data_random_seed': 42, 'use_focal_loss': False, 'focal_loss': {'alpha': 0.25, 'gamma': 2.0}}}, 'imbalanced_data': {'resampling': {'enabled': False, 'method': 'smote', 'smote': {'k_neighbors': 5, 'sampling_strategy': 'auto'}, 'borderline_smote': {'k_neighbors': 5, 'sampling_strategy': 'auto', 'm_neighbors': 10}, 'adasyn': {'k_neighbors': 5, 'sampling_strategy': 'auto', 'n_neighbors': 5}, 'under_sampling': {'strategy': 'random', 'sampling_strategy': 'auto'}}, 'class_weight': 'balanced', 'scale_pos_weight': 1.0, 'is_unbalance': True}, 'experiment': {'name': 'hyperparameter_tuning_experiment', 'description': 'Optuna 기반 하이퍼파라미터 최적화 실험', 'tags': ['hyperparameter_tuning', 'optuna', 'optimization']}, 'tuning': {'direction': 'maximize', 'n_trials': 50, 'n_jobs': 1, 'early_stopping': {'enabled': True, 'patience': 20, 'min_trials': 30}}, 'sampler': {'type': 'tpe', 'tpe': {'n_startup_trials': 10, 'n_ei_candidates': 24, 'multivariate': True, 'group': False}, 'cmaes': {'x0': {'n_estimators': 100, 'max_depth': 6, 'learning_rate': 0.1, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 1, 'reg_alpha': 0.1, 'reg_lambda': 1.0}, 'sigma0': 0.1}}, 'xgboost_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 15, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'scale_pos_weight': {'type': 'float', 'low': 0.5, 'high': 10.0, 'log': True}}, 'lightgbm_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 12, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}}, 'catboost_params': {'iterations': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'depth': {'type': 'int', 'low': 3, 'high': 10, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'l2_leaf_reg': {'type': 'float', 'low': 1, 'high': 10, 'log': True}, 'border_count': {'type': 'int', 'low': 32, 'high': 255, 'log': False}, 'bagging_temperature': {'type': 'float', 'low': 0.1, 'high': 1.0, 'log': False}, 'random_strength': {'type': 'float', 'low': 0.1, 'high': 10.0, 'log': True}}, 'random_forest_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 20, 'log': False}, 'min_samples_split': {'type': 'int', 'low': 2, 'high': 20, 'log': False}, 'min_samples_leaf': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'max_features': {'type': 'categorical', 'choices': ['sqrt', 'log2', 'auto']}}, 'results': {'save_best_model': True, 'model_save_path': 'models/best_tuned_model.joblib', 'save_study': True, 'study_save_path': 'models/optuna_study.pkl', 'create_plots': True, 'plots_save_path': 'data/tuning_results/'}}
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO -   - 튜닝 횟수: 100
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO -   - 타임아웃: 3600초
2025-06-24 09:34:58,147 - __main__ - INFO - 하이퍼파라미터 최적화 실행 중...
2025-06-24 09:34:58,147 - src.hyperparameter_tuning - INFO - === 하이퍼파라미터 튜닝 시작 ===
2025-06-24 09:34:58,148 - src.hyperparameter_tuning - INFO - Trial 0: 모델 타입 = lightgbm
2025-06-24 09:34:58,152 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,153 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,153 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,153 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,153 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,153 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,153 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,153 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,153 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,154 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,154 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,154 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,154 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,154 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,154 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,154 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,154 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,154 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,156 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,156 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,156 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,156 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,160 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,162 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,162 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,163 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,163 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,163 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,163 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,163 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,165 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,167 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,167 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,167 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,167 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,167 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,167 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,168 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,168 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,169 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,169 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,169 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,170 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,170 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,170 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,170 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,170 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,170 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,170 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,170 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,171 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,172 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,173 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,173 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,173 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,173 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,173 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   learning_rate: 0.1205712628744377
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   n_estimators: 406
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   subsample: 0.8394633936788146
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6624074561769746
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   reg_alpha: 3.3323645788192616e-08
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO -   reg_lambda: 0.6245760287469893
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,174 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,175 - src.hyperparameter_tuning - ERROR - Trial 0 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,176 - src.hyperparameter_tuning - INFO - Trial 1: 모델 타입 = lightgbm
2025-06-24 09:34:58,180 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,180 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,180 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,180 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,180 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,180 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,180 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,180 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,180 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,181 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,181 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,181 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,181 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,181 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,181 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,181 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,181 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,181 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,182 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,182 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,182 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,182 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,186 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,188 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,188 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,188 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,188 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,188 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,188 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,188 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,190 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,192 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,192 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,192 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,192 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,192 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,192 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,192 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,192 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,193 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,193 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,193 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,194 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,194 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,194 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,194 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,194 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,194 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,194 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,195 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,197 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,197 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,197 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,197 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   learning_rate: 0.010725209743171997
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   n_estimators: 621
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   subsample: 0.9879639408647978
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9329770563201687
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   reg_alpha: 4.329370014459266e-07
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO -   reg_lambda: 4.4734294104626844e-07
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,198 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,198 - src.hyperparameter_tuning - ERROR - Trial 1 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,199 - src.hyperparameter_tuning - INFO - Trial 2: 모델 타입 = lightgbm
2025-06-24 09:34:58,203 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,203 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,203 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,203 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,204 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,204 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,204 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,204 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,204 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,204 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,204 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,204 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,204 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,204 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,204 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,204 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,204 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,204 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,205 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,205 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,205 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,205 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,209 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,212 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,212 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,212 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,212 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,212 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,212 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,212 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,214 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,217 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,217 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,217 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,217 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,217 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,217 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,217 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,217 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,217 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,217 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,218 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,218 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,218 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,219 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,219 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,219 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,219 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,219 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,219 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,219 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,219 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,219 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,219 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,219 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,220 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,220 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,220 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,222 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,223 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,223 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   learning_rate: 0.04345454109729477
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   n_estimators: 339
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   subsample: 0.7164916560792167
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8447411578889518
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   reg_alpha: 4.258943089524393e-06
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO -   reg_lambda: 1.9826980964985924e-05
2025-06-24 09:34:58,223 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,224 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,224 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,224 - src.hyperparameter_tuning - ERROR - Trial 2 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,225 - src.hyperparameter_tuning - INFO - Trial 3: 모델 타입 = lightgbm
2025-06-24 09:34:58,228 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,229 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,229 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,229 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,229 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,229 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,229 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,229 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,229 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,230 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,230 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,230 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,230 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,230 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,230 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,230 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,230 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,230 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,231 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,231 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,231 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,231 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,234 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,236 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,236 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,236 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,236 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,236 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,236 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,236 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,238 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,240 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,240 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,240 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,240 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,240 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,240 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,240 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,241 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,241 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,241 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,242 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,242 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,242 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,243 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,243 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,243 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,243 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,243 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,243 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,243 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,243 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,243 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,243 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,243 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,244 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,244 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,244 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,244 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,247 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,247 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,247 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   learning_rate: 0.019721610970574007
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   n_estimators: 483
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   subsample: 0.8056937753654446
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.836965827544817
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0029369981104377003
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO -   reg_lambda: 3.425445902633376e-07
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,248 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,248 - src.hyperparameter_tuning - ERROR - Trial 3 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,249 - src.hyperparameter_tuning - INFO - Trial 4: 모델 타입 = lightgbm
2025-06-24 09:34:58,253 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,253 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,253 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,253 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,253 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,253 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,253 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,254 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,254 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,254 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,254 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,254 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,254 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,254 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,254 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,254 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,254 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,254 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,255 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,255 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,255 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,255 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,259 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,261 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,261 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,261 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,261 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,261 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,261 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,261 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,264 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,266 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,266 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,266 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,266 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,266 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,266 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,266 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,266 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,266 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,266 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,267 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,267 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,268 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,268 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,268 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,268 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,269 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,269 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,269 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,269 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,269 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,269 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,269 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,270 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,273 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   learning_rate: 0.26690431824362526
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:58,273 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   n_estimators: 111
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   subsample: 0.9233589392465844
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7218455076693483
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   reg_alpha: 0.014391207615728067
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO -   reg_lambda: 9.148975058772307e-05
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,274 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,274 - src.hyperparameter_tuning - ERROR - Trial 4 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,275 - src.hyperparameter_tuning - INFO - Trial 5: 모델 타입 = lightgbm
2025-06-24 09:34:58,279 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,280 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,280 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,280 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,280 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,280 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,280 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,280 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,280 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,280 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,280 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,280 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,280 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,280 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,280 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,281 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,281 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,281 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,282 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,282 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,282 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,282 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,286 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,288 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,288 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,288 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,288 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,288 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,288 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,288 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,290 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,292 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,292 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,292 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,292 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,292 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,292 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,292 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,292 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,292 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,292 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,293 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,293 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,294 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,294 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,294 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,295 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,295 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,295 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,295 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,295 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,295 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,295 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,295 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,295 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,295 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,296 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,297 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,298 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,298 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,298 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,298 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   learning_rate: 0.011240768803005551
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   n_estimators: 166
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   subsample: 0.9637281608315128
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7035119926400067
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   reg_alpha: 6.388511557344611e-06
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0004793052550782129
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,299 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,299 - src.hyperparameter_tuning - ERROR - Trial 5 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,301 - src.hyperparameter_tuning - INFO - Trial 6: 모델 타입 = lightgbm
2025-06-24 09:34:58,304 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,305 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,305 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,305 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,305 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,305 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,305 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,305 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,305 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,306 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,306 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,306 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,306 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,306 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,306 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,306 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,306 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,306 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,307 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,307 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,307 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,307 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,311 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,313 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,313 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,313 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,313 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,313 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,313 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,313 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,315 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,317 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,317 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,317 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,317 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,317 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,317 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,318 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,318 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,318 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,318 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,318 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,319 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,319 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,319 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,319 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,319 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,319 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,319 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,322 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,322 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,322 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,322 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   learning_rate: 0.27051668818999286
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   n_estimators: 569
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   subsample: 0.9100531293444458
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9757995766256756
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   reg_alpha: 0.002404915432737351
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO -   reg_lambda: 1.9809253750493907
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,323 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,323 - src.hyperparameter_tuning - ERROR - Trial 6 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,324 - src.hyperparameter_tuning - INFO - Trial 7: 모델 타입 = lightgbm
2025-06-24 09:34:58,328 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,329 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,329 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,329 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,329 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,329 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,329 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,329 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,329 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,330 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,330 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,330 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,330 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,330 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,330 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,330 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,330 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,330 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,331 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,331 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,331 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,331 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,334 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,336 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,336 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,336 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,336 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,336 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,336 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,336 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,338 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,340 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,340 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,340 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,340 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,340 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,340 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,340 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,340 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,340 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,340 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,341 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,341 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,341 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,341 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,341 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,342 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,342 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,342 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,342 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,342 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,342 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,342 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,342 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,342 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,343 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,344 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   learning_rate: 0.011662890273931383
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   n_estimators: 134
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   subsample: 0.7301321323053057
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7554709158757928
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   reg_alpha: 0.28749982347407854
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO -   reg_lambda: 1.6247252885719427e-05
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,346 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,347 - src.hyperparameter_tuning - ERROR - Trial 7 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,348 - src.hyperparameter_tuning - INFO - Trial 8: 모델 타입 = lightgbm
2025-06-24 09:34:58,351 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,352 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,352 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,352 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,352 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,352 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,352 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,352 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,352 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,352 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,352 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,353 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,353 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,353 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,353 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,353 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,353 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,353 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,353 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,353 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,353 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,354 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,354 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,354 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,354 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,354 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,354 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,354 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,357 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,359 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,359 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,359 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,359 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,359 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,359 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,359 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,361 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,363 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,363 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,363 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,363 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,363 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,363 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,363 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,363 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,363 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,363 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,364 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,364 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,364 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,364 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,364 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,365 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,365 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,365 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,365 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,365 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,365 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,365 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,365 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,365 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,366 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,368 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,368 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,368 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,368 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,368 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   learning_rate: 0.016149614799999188
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   n_estimators: 317
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   subsample: 0.9208787923016158
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6298202574719083
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   reg_alpha: 0.08916674715636537
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO -   reg_lambda: 6.143857495033091e-07
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,369 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,369 - src.hyperparameter_tuning - ERROR - Trial 8 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,370 - src.hyperparameter_tuning - INFO - Trial 9: 모델 타입 = lightgbm
2025-06-24 09:34:58,373 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,374 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,374 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,374 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,374 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,374 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,374 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,374 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,374 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,375 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,375 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,375 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,375 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,375 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,375 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,375 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,375 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,375 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,376 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,376 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,376 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,376 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,380 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,382 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,382 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,382 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,382 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,382 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,382 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,382 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,384 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,386 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,386 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,386 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,386 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,386 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,386 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,386 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,386 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,387 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,387 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,387 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,388 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,388 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,388 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,388 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,388 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,388 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,388 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,388 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,388 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,388 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,388 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,388 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   learning_rate: 0.11069143219393454
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,391 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   n_estimators: 55
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   subsample: 0.8916028672163949
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9085081386743783
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   reg_alpha: 1.683416412018213e-05
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1036250149900698e-07
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,392 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,392 - src.hyperparameter_tuning - ERROR - Trial 9 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,403 - src.hyperparameter_tuning - INFO - Trial 10: 모델 타입 = lightgbm
2025-06-24 09:34:58,407 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,408 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,408 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,408 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,408 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,408 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,408 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,408 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,408 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,409 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,409 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,409 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,409 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,409 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,409 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,409 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,409 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,409 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,410 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,410 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,410 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,410 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,414 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,415 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,416 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,416 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,416 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,416 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,416 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,416 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,417 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,419 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,419 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,419 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,419 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,419 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,419 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,420 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,420 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,421 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,421 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,421 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,421 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,421 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,421 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,421 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,421 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,421 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,421 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,423 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,424 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,424 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,424 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,424 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   learning_rate: 0.09315744902122479
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   n_estimators: 901
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   subsample: 0.6071847502459278
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6061470949312417
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   reg_alpha: 1.3686680646913267e-08
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO -   reg_lambda: 6.099006535330825
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,425 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,426 - src.hyperparameter_tuning - ERROR - Trial 10 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,437 - src.hyperparameter_tuning - INFO - Trial 11: 모델 타입 = lightgbm
2025-06-24 09:34:58,441 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,441 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,441 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,441 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,441 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,441 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,441 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,441 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,441 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,442 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,442 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,442 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,442 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,442 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,442 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,442 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,442 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,442 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,443 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,443 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,443 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,443 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,447 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,449 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,449 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,449 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,449 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,449 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,449 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,449 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,451 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,452 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,452 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,452 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,452 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,452 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,452 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,453 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,453 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,454 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,454 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,454 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,454 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,454 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,454 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,454 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,454 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,454 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,454 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,457 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,457 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,457 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,457 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   learning_rate: 0.037348440879763224
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   n_estimators: 705
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   subsample: 0.8275682686623269
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9801238964661396
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   reg_alpha: 2.0076751494057687e-08
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO -   reg_lambda: 0.050437107744728454
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,458 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,459 - src.hyperparameter_tuning - ERROR - Trial 11 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,470 - src.hyperparameter_tuning - INFO - Trial 12: 모델 타입 = lightgbm
2025-06-24 09:34:58,473 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,474 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,474 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,474 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,474 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,474 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,474 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,474 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,474 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,475 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,475 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,475 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,475 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,475 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,475 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,475 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,475 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,475 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,476 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,476 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,476 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,476 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,480 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,482 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,482 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,482 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,482 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,482 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,482 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,482 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,484 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,486 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,486 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,486 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,486 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,486 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,486 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,486 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,486 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,487 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,487 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,487 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,488 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,488 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,488 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,488 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,488 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,488 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,488 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,488 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,488 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,488 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,488 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,489 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,490 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,491 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,491 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   learning_rate: 0.11614923191803554
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,491 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   n_estimators: 706
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   subsample: 0.9831484441888799
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.902800604671404
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   reg_alpha: 5.997698489764049e-07
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO -   reg_lambda: 0.012341345845574371
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,492 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,492 - src.hyperparameter_tuning - ERROR - Trial 12 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,504 - src.hyperparameter_tuning - INFO - Trial 13: 모델 타입 = lightgbm
2025-06-24 09:34:58,507 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,508 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,508 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,508 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,508 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,508 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,508 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,508 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,508 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,508 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,509 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,509 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,509 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,509 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,509 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,509 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,509 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,509 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,510 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,510 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,510 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,510 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,513 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,515 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,515 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,515 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,515 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,515 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,515 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,515 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,517 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,519 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,519 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,519 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,519 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,519 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,519 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,519 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,519 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,519 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,519 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,519 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,520 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,520 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,520 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,520 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,520 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,520 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,520 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,520 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,520 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,521 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,521 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,521 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,521 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,521 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,521 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,521 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,521 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,521 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,521 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,522 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,523 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,524 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,524 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,524 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,524 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   learning_rate: 0.07369477793265464
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,524 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   n_estimators: 493
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   subsample: 0.8579178144028043
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6684815593910434
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   reg_alpha: 9.86874546485378
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1101875524587999e-08
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,525 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,525 - src.hyperparameter_tuning - ERROR - Trial 13 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,537 - src.hyperparameter_tuning - INFO - Trial 14: 모델 타입 = lightgbm
2025-06-24 09:34:58,540 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,540 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,541 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,541 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,541 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,541 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,541 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,541 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,541 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,541 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,541 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,541 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,541 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,541 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,541 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,541 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,541 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,541 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,542 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,542 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,542 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,542 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,546 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,548 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,548 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,548 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,548 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,548 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,548 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,548 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,550 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,552 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,552 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,552 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,552 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,552 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,552 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,552 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,552 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,553 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,553 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,553 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,553 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,553 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,554 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,554 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,554 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,554 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,554 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,554 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,554 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,555 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,557 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,557 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,557 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   learning_rate: 0.17646596150449262
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,557 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   n_estimators: 702
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   subsample: 0.7376022736475862
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8046295483602256
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   reg_alpha: 2.3549110805943098e-07
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO -   reg_lambda: 0.06760969294969883
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,558 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,558 - src.hyperparameter_tuning - ERROR - Trial 14 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,570 - src.hyperparameter_tuning - INFO - Trial 15: 모델 타입 = lightgbm
2025-06-24 09:34:58,574 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,575 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,575 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,575 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,575 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,575 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,575 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,575 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,575 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,575 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,575 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,575 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,575 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,576 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,576 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,576 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,576 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,576 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,577 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,577 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,577 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,577 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,580 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,582 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,582 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,582 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,582 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,582 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,582 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,583 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,584 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,586 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,586 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,586 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,586 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,586 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,586 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,586 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,586 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,586 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,586 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,587 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,587 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,587 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,587 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,587 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,588 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,588 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,588 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,588 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,588 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,588 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,588 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,590 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,591 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,591 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,591 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,591 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   learning_rate: 0.026752568195150317
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   n_estimators: 997
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   subsample: 0.9967544619046032
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.896461276471979
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   reg_alpha: 8.925905274192813e-05
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0009166238280651257
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,592 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,593 - src.hyperparameter_tuning - ERROR - Trial 15 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,604 - src.hyperparameter_tuning - INFO - Trial 16: 모델 타입 = lightgbm
2025-06-24 09:34:58,607 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,608 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,608 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,608 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,608 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,608 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,608 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,608 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,608 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,609 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,609 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,609 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,609 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,609 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,609 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,609 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,609 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,609 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,610 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,610 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,610 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,610 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,614 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,615 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,616 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,616 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,616 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,616 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,616 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,616 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,618 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,619 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,619 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,619 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,619 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,619 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,619 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,619 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,619 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,619 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,619 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,620 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,620 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,621 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,621 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,621 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,621 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,621 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,621 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,621 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,621 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,621 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,621 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,621 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,621 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,622 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,622 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,622 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,622 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,623 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,624 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,624 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,624 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   learning_rate: 0.06988639938760517
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   n_estimators: 347
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   subsample: 0.769221734655711
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7657244060744415
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   reg_alpha: 2.9167530407966635e-07
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO -   reg_lambda: 0.4030789571311193
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,625 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,626 - src.hyperparameter_tuning - ERROR - Trial 16 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,638 - src.hyperparameter_tuning - INFO - Trial 17: 모델 타입 = lightgbm
2025-06-24 09:34:58,641 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,642 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,642 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,642 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,642 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,642 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,642 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,642 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,642 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,642 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,642 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,642 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,642 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,643 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,643 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,643 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,643 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,643 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,644 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,644 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,644 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,644 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,647 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,649 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,649 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,649 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,649 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,649 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,649 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,649 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,651 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,653 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,653 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,653 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,653 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,653 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,653 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,653 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,653 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,653 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,653 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,654 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,654 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,654 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,654 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,654 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,655 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,655 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,655 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,655 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,655 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,655 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,655 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,657 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,658 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,658 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,658 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,658 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   learning_rate: 0.15526074257939743
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   n_estimators: 600
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   subsample: 0.6732132011401761
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6721524828008189
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   reg_alpha: 9.14459959766754e-08
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO -   reg_lambda: 0.004840492100137957
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,659 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,660 - src.hyperparameter_tuning - ERROR - Trial 17 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,672 - src.hyperparameter_tuning - INFO - Trial 18: 모델 타입 = lightgbm
2025-06-24 09:34:58,675 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,676 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,676 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,676 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,676 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,676 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,676 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,676 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,676 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,677 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,677 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,677 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,677 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,677 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,677 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,677 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,677 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,677 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,678 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,678 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,678 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,678 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,682 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,684 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,684 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,684 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,684 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,684 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,684 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,684 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,686 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,688 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,688 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,688 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,688 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,688 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,688 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,688 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,688 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,689 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,689 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,689 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,690 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,690 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,690 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,690 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,690 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,690 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,690 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,690 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,691 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,693 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,693 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   learning_rate: 0.05533525328002605
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,693 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   n_estimators: 416
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   subsample: 0.8551318001092548
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9338003283396146
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00011115273434769104
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO -   reg_lambda: 2.6037259691414086e-06
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,694 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,694 - src.hyperparameter_tuning - ERROR - Trial 18 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,706 - src.hyperparameter_tuning - INFO - Trial 19: 모델 타입 = lightgbm
2025-06-24 09:34:58,709 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,710 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,710 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,710 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,710 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,710 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,710 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,710 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,710 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,711 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,711 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,711 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,711 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,711 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,711 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,711 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,711 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,711 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,712 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,712 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,712 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,712 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,715 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,717 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,717 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,717 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,717 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,717 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,717 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,717 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,719 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,721 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,721 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,721 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,721 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,721 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,721 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,721 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,721 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,721 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,721 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,722 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,722 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,722 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,723 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,723 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,723 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,723 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,723 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,723 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,723 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,723 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,723 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,723 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,723 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,724 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,726 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,727 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,727 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   learning_rate: 0.02877361180532123
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   n_estimators: 835
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   subsample: 0.9423652436238517
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8416634198004798
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   reg_alpha: 2.4662900352851794e-06
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO -   reg_lambda: 4.7203867760430046e-08
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,727 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,728 - src.hyperparameter_tuning - ERROR - Trial 19 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,740 - src.hyperparameter_tuning - INFO - Trial 20: 모델 타입 = lightgbm
2025-06-24 09:34:58,744 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,744 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,744 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,744 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,744 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,744 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,744 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,744 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,744 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,745 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,745 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,745 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,745 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,745 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,745 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,745 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,745 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,745 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,746 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,746 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,746 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,746 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,750 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,752 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,752 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,752 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,752 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,752 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,752 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,752 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,754 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,755 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,756 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,756 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,756 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,756 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,756 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,756 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,756 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,757 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,757 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,757 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,758 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,758 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,758 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,758 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,758 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,758 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,758 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,758 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,761 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,761 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   learning_rate: 0.16522729299476813
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,761 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   n_estimators: 224
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   subsample: 0.87408467479411
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7727431143998708
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1069451775532163e-08
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO -   reg_lambda: 5.845016122261629e-06
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,762 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,762 - src.hyperparameter_tuning - ERROR - Trial 20 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,774 - src.hyperparameter_tuning - INFO - Trial 21: 모델 타입 = lightgbm
2025-06-24 09:34:58,778 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,779 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,779 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,779 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,779 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,779 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,779 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,779 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,779 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,779 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,779 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,779 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,779 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,779 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,779 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,779 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,779 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,779 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,780 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,780 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,780 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,780 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,784 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,786 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,786 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,786 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,786 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,786 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,786 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,786 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,788 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,790 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,790 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,790 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,790 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,791 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,791 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,791 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,792 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,792 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,792 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,792 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,792 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,792 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,792 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,792 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,793 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,795 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,795 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,795 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,795 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   learning_rate: 0.04529483298639887
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   n_estimators: 316
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   subsample: 0.6975620050707811
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8503251588841235
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   reg_alpha: 9.844852091987153e-07
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO -   reg_lambda: 4.797440969544924e-05
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,796 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,796 - src.hyperparameter_tuning - ERROR - Trial 21 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,808 - src.hyperparameter_tuning - INFO - Trial 22: 모델 타입 = lightgbm
2025-06-24 09:34:58,812 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,813 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,813 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,813 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,813 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,813 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,813 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,813 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,813 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,813 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,813 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,813 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,813 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,813 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,813 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,813 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,814 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,814 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,815 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,815 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,815 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,815 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,818 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,820 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,820 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,820 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,820 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,820 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,820 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,820 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,822 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,824 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,824 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,824 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,824 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,824 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,824 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,824 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,825 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,825 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,825 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,825 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,825 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,825 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,825 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,825 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,826 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,826 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,826 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,826 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,826 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,826 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,826 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,826 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,826 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,827 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,827 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,827 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,827 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,827 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,828 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,829 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,830 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   learning_rate: 0.015410150189628657
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   n_estimators: 411
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   subsample: 0.6452606057786048
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8738445964974808
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1485400190421731e-05
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO -   reg_lambda: 1.5162743738503278e-06
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,830 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,831 - src.hyperparameter_tuning - ERROR - Trial 22 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,843 - src.hyperparameter_tuning - INFO - Trial 23: 모델 타입 = lightgbm
2025-06-24 09:34:58,847 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,847 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,848 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,848 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,848 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,848 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,848 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,848 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,848 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,848 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,848 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,848 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,848 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,848 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,848 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,848 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,848 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,848 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,849 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,849 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,849 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,849 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,853 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,855 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,855 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,855 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,855 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,855 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,855 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,855 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,857 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,859 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,859 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,859 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,859 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,859 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,859 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,859 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,859 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,860 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,860 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,860 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,861 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,861 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,861 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,861 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,861 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,861 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,861 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,861 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,861 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,861 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,861 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,863 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,864 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,864 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,864 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   learning_rate: 0.02960427890913426
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,864 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   n_estimators: 240
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   subsample: 0.7742544913880576
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9449923596722283
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   reg_alpha: 6.189776343666531e-08
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO -   reg_lambda: 2.0050009913357152e-05
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,865 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,865 - src.hyperparameter_tuning - ERROR - Trial 23 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,877 - src.hyperparameter_tuning - INFO - Trial 24: 모델 타입 = lightgbm
2025-06-24 09:34:58,881 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,881 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,881 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,881 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,881 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,881 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,881 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,881 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,881 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,882 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,882 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,882 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,882 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,882 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,882 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,882 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,882 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,882 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,883 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,883 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,883 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,883 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,886 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,888 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,888 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,888 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,888 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,888 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,888 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,888 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,890 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,892 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,892 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,892 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,892 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,892 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,892 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,892 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,892 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,892 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,892 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,893 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,893 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,893 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,893 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,893 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,894 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,894 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,894 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,894 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,894 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,894 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,894 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,894 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,894 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,895 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,896 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,897 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,897 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,897 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,897 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,897 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   learning_rate: 0.052772641594485394
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   n_estimators: 585
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   subsample: 0.709790030543809
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7956578586822305
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   reg_alpha: 2.8089508266239516e-05
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00016743745517347003
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,898 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,898 - src.hyperparameter_tuning - ERROR - Trial 24 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,911 - src.hyperparameter_tuning - INFO - Trial 25: 모델 타입 = lightgbm
2025-06-24 09:34:58,914 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,915 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,915 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,915 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,915 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,915 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,915 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,915 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,915 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,915 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,916 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,916 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,916 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,916 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,916 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,916 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,916 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,916 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,917 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,917 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,917 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,917 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,920 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,922 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,922 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,922 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,922 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,922 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,922 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,922 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,924 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,926 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,926 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,926 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,927 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,927 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,927 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,927 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,927 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,927 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,928 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,928 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,928 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,928 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,928 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,928 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,928 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,931 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,931 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,931 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   learning_rate: 0.02043311211274545
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,931 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   n_estimators: 410
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   subsample: 0.765836702637975
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9367310980059825
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   reg_alpha: 2.467723761283515e-06
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0025526354515177084
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,932 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,932 - src.hyperparameter_tuning - ERROR - Trial 25 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,944 - src.hyperparameter_tuning - INFO - Trial 26: 모델 타입 = lightgbm
2025-06-24 09:34:58,947 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,948 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,948 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,948 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,948 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,948 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,948 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,948 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,948 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,949 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,949 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,949 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,949 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,949 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,949 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,949 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,949 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,949 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,949 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,950 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,950 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,950 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,950 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,953 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,955 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,955 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,955 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,955 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,955 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,955 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,955 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,957 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,959 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,959 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,959 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,959 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,959 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,959 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,959 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,959 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,960 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,960 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,960 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,961 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,961 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,961 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,961 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,961 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,961 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,961 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,961 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   learning_rate: 0.21063894305336445
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   n_estimators: 656
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   subsample: 0.822656444358238
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8094408985463093
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0005539202839193388
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO -   reg_lambda: 6.440889140440102e-06
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,964 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,965 - src.hyperparameter_tuning - ERROR - Trial 26 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:58,977 - src.hyperparameter_tuning - INFO - Trial 27: 모델 타입 = lightgbm
2025-06-24 09:34:58,980 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:58,981 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:58,981 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:58,981 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:58,981 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:58,981 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:58,981 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:58,981 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:58,981 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:58,981 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:58,981 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:58,981 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:58,981 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:58,981 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:58,981 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:58,981 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:58,981 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:58,981 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:58,982 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:58,982 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:58,982 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:58,982 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:58,986 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:58,987 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,988 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:58,988 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:58,988 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:58,988 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:58,988 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:58,988 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:58,990 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:58,991 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:58,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:58,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:58,991 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,991 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:58,991 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:58,991 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,991 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,992 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:58,992 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,993 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,993 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:58,993 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:58,993 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:58,993 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:58,993 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:58,993 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:58,993 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:58,993 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:58,993 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:58,995 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:58,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,996 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:58,996 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:58,996 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:58,996 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   learning_rate: 0.0804852149570703
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   n_estimators: 483
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   subsample: 0.6346522194487378
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9964125388085947
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   reg_alpha: 8.253969505781612e-08
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO -   reg_lambda: 1.119023035815797e-07
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:58,997 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:58,997 - src.hyperparameter_tuning - ERROR - Trial 27 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,010 - src.hyperparameter_tuning - INFO - Trial 28: 모델 타입 = lightgbm
2025-06-24 09:34:59,013 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,014 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,014 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,014 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,014 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,014 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,014 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,014 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,014 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,014 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,014 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,014 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,014 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,014 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,014 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,014 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,014 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,014 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,015 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,015 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,015 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,015 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,019 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,021 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,021 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,021 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,021 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,021 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,021 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,021 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,023 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,025 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,025 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,025 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,025 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,025 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,025 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,025 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,025 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,026 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,026 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,026 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,027 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,027 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,027 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,027 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,027 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,027 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,027 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,027 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,028 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,029 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,030 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,030 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,030 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,030 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   learning_rate: 0.12404094717085312
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,030 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   n_estimators: 782
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   subsample: 0.6724055367984789
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8740038680959015
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   reg_alpha: 1.0343558782044228e-06
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO -   reg_lambda: 0.33132712190213737
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,031 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,031 - src.hyperparameter_tuning - ERROR - Trial 28 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,044 - src.hyperparameter_tuning - INFO - Trial 29: 모델 타입 = lightgbm
2025-06-24 09:34:59,046 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,047 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,047 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,047 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,047 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,047 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,047 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,047 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,047 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,048 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,048 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,048 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,048 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,048 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,048 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,048 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,048 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,048 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,049 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,049 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,049 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,049 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,052 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,054 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,054 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,054 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,054 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,054 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,054 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,054 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,056 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,058 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,058 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,058 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,058 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,058 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,058 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,059 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,059 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,059 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,059 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,059 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,060 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,060 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,060 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,060 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,060 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,060 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,060 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,061 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,063 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO -   learning_rate: 0.021604981364913005
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,063 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   n_estimators: 515
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   subsample: 0.7969902083314745
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7309448291222742
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   reg_alpha: 4.867051057937844e-08
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO -   reg_lambda: 3.374072614356822e-07
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,064 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,064 - src.hyperparameter_tuning - ERROR - Trial 29 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,077 - src.hyperparameter_tuning - INFO - Trial 30: 모델 타입 = lightgbm
2025-06-24 09:34:59,080 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,080 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,080 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,080 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,080 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,080 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,080 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,080 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,080 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,081 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,081 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,081 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,081 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,081 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,081 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,081 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,081 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,081 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,082 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,082 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,082 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,082 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,086 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,087 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,088 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,088 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,088 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,088 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,088 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,088 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,090 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,091 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,091 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,091 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,091 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,091 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,092 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,092 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,093 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,093 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,093 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,093 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,093 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,094 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,094 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,094 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,094 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,094 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,096 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,096 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,096 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   learning_rate: 0.04035286091031472
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   n_estimators: 457
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   subsample: 0.8044792631641183
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8696839799381978
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   reg_alpha: 2.938419320810259e-06
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO -   reg_lambda: 1.474108753561657e-08
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,097 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,098 - src.hyperparameter_tuning - ERROR - Trial 30 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,110 - src.hyperparameter_tuning - INFO - Trial 31: 모델 타입 = lightgbm
2025-06-24 09:34:59,113 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,114 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,114 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,114 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,114 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,114 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,114 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,114 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,114 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,115 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,115 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,115 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,115 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,115 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,115 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,115 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,115 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,115 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,116 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,116 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,116 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,116 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,119 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,121 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,121 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,121 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,121 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,121 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,121 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,121 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,123 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,125 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,125 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,125 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,125 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,125 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,125 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,125 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,125 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,126 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,126 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,126 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,126 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,126 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,127 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,127 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,127 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,127 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,127 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,127 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,127 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,127 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,127 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,127 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,127 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,130 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,130 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,130 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,130 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   learning_rate: 0.013637410036364993
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:59,130 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   n_estimators: 358
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   subsample: 0.8349337395484048
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.831861212497879
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   reg_alpha: 0.001834620070516215
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO -   reg_lambda: 6.362585398085402e-07
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,131 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,131 - src.hyperparameter_tuning - ERROR - Trial 31 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,144 - src.hyperparameter_tuning - INFO - Trial 32: 모델 타입 = lightgbm
2025-06-24 09:34:59,147 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,147 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,147 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,147 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,147 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,147 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,147 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,147 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,147 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,148 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,148 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,148 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,148 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,148 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,148 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,148 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,148 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,148 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,149 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,149 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,149 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,149 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,152 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,154 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,154 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,154 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,154 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,154 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,154 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,154 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,156 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,158 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,158 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,158 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,158 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,158 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,158 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,158 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,158 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,158 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,158 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,159 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,159 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,159 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,159 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,159 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,160 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,160 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,160 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,160 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,160 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,160 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,160 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,160 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,160 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,160 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,161 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,162 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,163 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,163 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,163 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,163 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,163 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   learning_rate: 0.010358238324974577
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,163 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   n_estimators: 269
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   subsample: 0.9392065580983905
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7242608165537173
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   reg_alpha: 0.07671535159777253
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO -   reg_lambda: 9.281031668514603e-05
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,164 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,164 - src.hyperparameter_tuning - ERROR - Trial 32 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,177 - src.hyperparameter_tuning - INFO - Trial 33: 모델 타입 = lightgbm
2025-06-24 09:34:59,181 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,182 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,182 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,182 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,182 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,182 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,182 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,182 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,182 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,182 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,183 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,183 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,183 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,183 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,183 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,183 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,183 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,183 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,184 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,184 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,184 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,184 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,187 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,189 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,189 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,189 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,189 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,189 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,189 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,189 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,191 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,193 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,193 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,193 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,193 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,193 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,193 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,193 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,193 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,193 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,193 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,194 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,194 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,194 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,194 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,194 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,195 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,195 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,195 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,195 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,195 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,195 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,195 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,195 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,195 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,196 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,197 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,198 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,198 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,198 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,198 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,198 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   learning_rate: 0.018528024944816653
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   n_estimators: 585
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   subsample: 0.7403423161145642
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.694494095260054
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   reg_alpha: 0.009311170494905974
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO -   reg_lambda: 1.439483740775924e-07
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,199 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,199 - src.hyperparameter_tuning - ERROR - Trial 33 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,212 - src.hyperparameter_tuning - INFO - Trial 34: 모델 타입 = lightgbm
2025-06-24 09:34:59,216 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,216 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,216 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,216 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,216 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,216 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,216 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,216 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,217 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,217 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,217 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,217 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,217 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,217 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,217 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,217 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,217 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,217 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,218 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,218 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,218 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,218 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,222 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,223 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,223 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,223 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,224 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,224 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,224 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,224 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,225 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,227 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,227 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,227 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,227 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,227 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,227 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,228 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,228 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,228 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,228 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,229 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,229 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,229 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,229 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,229 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,229 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,229 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,229 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,229 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,229 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,231 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,232 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,232 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,232 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,232 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   learning_rate: 0.012603140096888722
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   n_estimators: 537
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   subsample: 0.887059385340847
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.814690263795279
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0007257356330429975
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0006511272157627004
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,233 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,233 - src.hyperparameter_tuning - ERROR - Trial 34 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,246 - src.hyperparameter_tuning - INFO - Trial 35: 모델 타입 = lightgbm
2025-06-24 09:34:59,250 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,250 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,250 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,250 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,250 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,250 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,250 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,250 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,251 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,251 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,251 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,251 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,251 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,251 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,251 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,251 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,251 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,251 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,252 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,252 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,252 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,252 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,256 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,257 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,257 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,257 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,258 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,258 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,258 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,258 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,259 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,261 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,261 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,261 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,261 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,261 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,261 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,261 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,261 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,261 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,261 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,262 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,262 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,263 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,263 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,263 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,263 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,263 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,263 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,263 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,263 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,263 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,263 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,264 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,264 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,264 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,264 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,264 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,264 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,265 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,266 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,266 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,266 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,266 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   learning_rate: 0.010078636987766579
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   n_estimators: 207
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   subsample: 0.9593052727074797
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9586658642491094
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   reg_alpha: 4.2693203841762886e-05
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO -   reg_lambda: 2.556230835595068e-05
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,267 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,268 - src.hyperparameter_tuning - ERROR - Trial 35 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,281 - src.hyperparameter_tuning - INFO - Trial 36: 모델 타입 = lightgbm
2025-06-24 09:34:59,284 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,285 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,285 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,285 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,285 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,285 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,285 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,285 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,285 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,286 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,286 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,286 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,286 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,286 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,286 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,286 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,286 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,286 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,287 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,287 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,287 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,287 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,290 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,292 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,292 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,292 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,292 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,292 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,292 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,292 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,294 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,296 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,296 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,296 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,296 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,296 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,296 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,296 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,296 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,296 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,296 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,297 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,297 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,297 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,297 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,297 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,298 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,298 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,298 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,298 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,298 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,298 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,298 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,299 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,300 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,301 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,301 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   learning_rate: 0.02487519724197392
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   n_estimators: 638
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   subsample: 0.7985560215507382
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7512759811523114
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   reg_alpha: 0.024900590270190155
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO -   reg_lambda: 1.8961556446893008e-06
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,302 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,302 - src.hyperparameter_tuning - ERROR - Trial 36 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,315 - src.hyperparameter_tuning - INFO - Trial 37: 모델 타입 = lightgbm
2025-06-24 09:34:59,319 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,319 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,319 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,319 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,319 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,319 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,319 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,319 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,319 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,320 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,320 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,320 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,320 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,320 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,320 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,320 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,320 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,320 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,321 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,321 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,321 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,321 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,324 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,326 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,326 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,326 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,326 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,326 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,326 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,326 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,328 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,330 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,330 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,330 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,330 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,330 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,330 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,330 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,330 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,330 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,330 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,331 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,331 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,331 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,331 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,331 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,332 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,332 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,332 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,332 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,332 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,332 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,332 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,334 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,335 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,335 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,335 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,335 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,335 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   learning_rate: 0.01569833488957703
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   n_estimators: 283
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   subsample: 0.7125680491414248
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.784145332591274
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   reg_alpha: 0.766447656094571
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO -   reg_lambda: 6.133310095468243e-06
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,336 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,336 - src.hyperparameter_tuning - ERROR - Trial 37 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,349 - src.hyperparameter_tuning - INFO - Trial 38: 모델 타입 = lightgbm
2025-06-24 09:34:59,353 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,353 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,353 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,353 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,353 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,353 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,353 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,353 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,353 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,354 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,354 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,354 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,354 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,354 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,354 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,354 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,354 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,354 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,355 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,355 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,355 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,355 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,359 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,360 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,360 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,360 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,361 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,361 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,361 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,361 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,362 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,364 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,364 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,364 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,364 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,364 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,364 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,364 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,364 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,364 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,364 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,365 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,365 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,366 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,366 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,366 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,366 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,366 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,366 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,366 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,366 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,366 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,366 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,366 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,366 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,366 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,367 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,367 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,367 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,368 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,369 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,369 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,369 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,369 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   learning_rate: 0.032767807118294565
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   n_estimators: 150
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   subsample: 0.9178842372107386
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8277442294773829
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0037264473202334634
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO -   reg_lambda: 4.218833317145971e-08
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,370 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,370 - src.hyperparameter_tuning - ERROR - Trial 38 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,384 - src.hyperparameter_tuning - INFO - Trial 39: 모델 타입 = lightgbm
2025-06-24 09:34:59,387 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,388 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,388 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,388 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,388 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,388 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,388 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,388 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,388 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,389 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,389 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,389 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,389 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,389 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,389 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,389 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,389 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,389 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,390 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,390 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,390 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,390 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,393 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,395 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,395 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,395 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,395 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,395 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,395 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,395 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,397 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,399 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,399 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,399 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,399 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,399 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,399 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,399 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,399 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,400 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,400 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,400 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,401 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,401 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,401 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,401 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,401 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,401 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,401 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,401 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,401 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,401 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,401 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,401 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,402 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,403 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,404 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,404 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   learning_rate: 0.246113868759451
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   n_estimators: 376
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   subsample: 0.7569340813632006
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9165276790317524
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   reg_alpha: 3.2547826967952095e-07
2025-06-24 09:34:59,404 - src.models.lightgbm_model - INFO -   reg_lambda: 9.914717715029425
2025-06-24 09:34:59,405 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,405 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,405 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,405 - src.hyperparameter_tuning - ERROR - Trial 39 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,418 - src.hyperparameter_tuning - INFO - Trial 40: 모델 타입 = lightgbm
2025-06-24 09:34:59,421 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,422 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,422 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,422 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,422 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,422 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,422 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,422 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,422 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,423 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,423 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,423 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,423 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,423 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,423 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,423 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,423 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,423 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,424 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,424 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,424 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,424 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,427 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,429 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,429 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,429 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,429 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,429 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,429 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,429 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,431 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,433 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,433 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,433 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,433 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,433 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,433 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,433 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,433 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,433 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,433 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,434 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,434 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,434 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,434 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,434 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,435 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,435 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,435 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,435 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,435 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,435 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,435 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,435 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,435 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,436 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,437 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,438 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,438 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,438 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,438 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,438 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   learning_rate: 0.2986164631467998
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   n_estimators: 446
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   subsample: 0.8551720469993793
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6327085885569078
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   reg_alpha: 7.703681668328675e-06
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO -   reg_lambda: 6.634521545517012e-07
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,439 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,439 - src.hyperparameter_tuning - ERROR - Trial 40 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,453 - src.hyperparameter_tuning - INFO - Trial 41: 모델 타입 = lightgbm
2025-06-24 09:34:59,457 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,457 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,457 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,457 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,457 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,457 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,457 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,457 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,457 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,458 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,458 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,458 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,458 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,458 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,458 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,458 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,458 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,458 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,459 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,459 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,459 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,459 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,462 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,464 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,464 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,464 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,464 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,464 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,464 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,464 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,466 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,468 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,468 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,468 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,468 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,468 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,468 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,468 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,468 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,468 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,468 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,469 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,469 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,469 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,469 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,469 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,470 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,470 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,470 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,470 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,470 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,470 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,470 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,470 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,470 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,473 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,473 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,473 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,473 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,473 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,473 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   learning_rate: 0.09793882584456802
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   n_estimators: 123
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   subsample: 0.9640586492533287
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6435146090531931
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   reg_alpha: 0.012306593994534086
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0003273769666730943
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,474 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,474 - src.hyperparameter_tuning - ERROR - Trial 41 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,488 - src.hyperparameter_tuning - INFO - Trial 42: 모델 타입 = lightgbm
2025-06-24 09:34:59,491 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,492 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,492 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,492 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,492 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,492 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,492 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,492 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,492 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,493 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,493 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,493 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,493 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,493 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,493 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,493 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,493 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,493 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,494 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,494 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,494 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,494 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,497 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,499 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,499 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,499 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,499 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,499 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,499 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,499 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,501 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,503 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,503 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,503 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,503 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,503 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,503 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,503 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,503 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,503 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,503 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,504 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,504 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,504 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,504 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,504 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,505 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,505 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,505 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,505 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,505 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,505 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,505 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,505 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,505 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,506 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,507 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,508 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,508 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,508 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,508 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,508 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   learning_rate: 0.13733093633534701
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   n_estimators: 87
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   subsample: 0.8965101815345152
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6091730541587009
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   reg_alpha: 0.4907237459022601
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO -   reg_lambda: 6.576001803087445e-05
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,509 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,509 - src.hyperparameter_tuning - ERROR - Trial 42 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,526 - src.hyperparameter_tuning - INFO - Trial 43: 모델 타입 = lightgbm
2025-06-24 09:34:59,531 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,532 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,532 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,532 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,532 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,532 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,532 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,532 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,532 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,532 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,532 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,533 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,533 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,533 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,533 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,533 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,533 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,533 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,534 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,534 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,534 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,534 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,538 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,540 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,540 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,540 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,540 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,540 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,540 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,540 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,542 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,544 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,544 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,544 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,544 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,544 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,544 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,544 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,544 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,544 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,544 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,545 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,545 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,546 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,546 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,546 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,547 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,547 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,547 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,547 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,547 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,547 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,547 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,547 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,547 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,547 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,548 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,550 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,550 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,550 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,550 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   learning_rate: 0.21326734344408033
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   n_estimators: 539
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   subsample: 0.9673242456454179
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7044942853722713
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   reg_alpha: 0.059174749853088904
2025-06-24 09:34:59,551 - src.models.lightgbm_model - INFO -   reg_lambda: 0.02588182777279751
2025-06-24 09:34:59,552 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,552 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,552 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,552 - src.hyperparameter_tuning - ERROR - Trial 43 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,567 - src.hyperparameter_tuning - INFO - Trial 44: 모델 타입 = lightgbm
2025-06-24 09:34:59,571 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,572 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,572 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,572 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,572 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,572 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,572 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,572 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,572 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,573 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,573 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,573 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,573 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,573 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,573 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,573 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,573 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,573 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,574 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,574 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,574 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,574 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,578 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,580 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,580 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,580 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,580 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,580 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,580 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,580 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,582 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,584 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,584 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,584 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,584 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,584 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,584 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,584 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,584 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,584 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,584 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,585 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,585 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,586 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,586 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,586 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,587 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,587 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,587 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,587 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,587 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,587 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,587 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,587 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,589 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,590 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,590 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,590 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   learning_rate: 0.05625048885017797
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,590 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   n_estimators: 651
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   subsample: 0.9936644823981703
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6776465721915215
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00018101280841052082
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO -   reg_lambda: 2.2021620859017483
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,591 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,591 - src.hyperparameter_tuning - ERROR - Trial 44 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,606 - src.hyperparameter_tuning - INFO - Trial 45: 모델 타입 = lightgbm
2025-06-24 09:34:59,611 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,612 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,612 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,612 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,612 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,612 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,612 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,612 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,612 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,613 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,613 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,613 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,613 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,613 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,613 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,613 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,613 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,613 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,614 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,614 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,614 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,614 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,618 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,620 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,620 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,620 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,621 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,621 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,621 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,621 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,623 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,624 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,624 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,625 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,625 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,625 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,625 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,625 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,625 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,626 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,626 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,626 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,627 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,627 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,627 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,627 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,627 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,627 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,627 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,628 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,629 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,630 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,631 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,631 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   learning_rate: 0.08474924091905767
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,631 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   n_estimators: 179
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   subsample: 0.9332399755244474
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6557272282328251
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0012292771784949972
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0023872846722201887
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,632 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,632 - src.hyperparameter_tuning - ERROR - Trial 45 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,647 - src.hyperparameter_tuning - INFO - Trial 46: 모델 타입 = lightgbm
2025-06-24 09:34:59,651 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,652 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,652 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,652 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,652 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,652 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,652 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,652 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,652 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,652 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,653 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,653 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,653 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,653 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,653 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,653 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,653 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,653 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,654 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,654 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,654 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,654 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,658 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,660 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,660 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,660 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,660 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,660 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,660 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,660 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,662 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,664 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,664 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,664 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,664 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,665 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,665 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,665 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,666 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,666 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,666 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,666 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,666 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,666 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,666 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,667 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,669 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,669 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,669 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,669 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,669 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   learning_rate: 0.012214781803232549
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   n_estimators: 319
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   subsample: 0.9011353546076427
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8923112812273108
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   reg_alpha: 1.819220639207179e-07
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO -   reg_lambda: 1.5563198677214068e-05
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,670 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,670 - src.hyperparameter_tuning - ERROR - Trial 46 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,686 - src.hyperparameter_tuning - INFO - Trial 47: 모델 타입 = lightgbm
2025-06-24 09:34:59,690 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,691 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,691 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,691 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,691 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,691 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,691 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,691 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,691 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,692 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,692 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,692 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,692 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,692 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,692 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,692 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,692 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,692 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,693 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,693 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,693 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,693 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,697 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,699 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,699 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,700 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,700 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,700 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,700 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,700 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,702 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,703 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,704 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,704 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,704 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,705 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,705 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,705 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,706 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,706 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,706 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,706 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,706 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,706 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,706 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,707 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,709 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,709 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,709 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,709 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   learning_rate: 0.03507645979363265
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   n_estimators: 761
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   subsample: 0.9824694942087706
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7417033228523667
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   reg_alpha: 0.004366446105347352
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO -   reg_lambda: 2.675638978946855e-07
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,710 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,710 - src.hyperparameter_tuning - ERROR - Trial 47 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,725 - src.hyperparameter_tuning - INFO - Trial 48: 모델 타입 = lightgbm
2025-06-24 09:34:59,729 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,730 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,730 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,730 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,730 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,730 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,730 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,730 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,730 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,730 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,730 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,730 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,730 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,730 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,730 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,730 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,730 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,730 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,731 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,731 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,731 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,731 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,732 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,735 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,737 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,737 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,737 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,737 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,737 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,737 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,737 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,739 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,741 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,741 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,741 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,741 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,741 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,741 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,741 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,741 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,741 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,741 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,742 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,742 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,742 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,742 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,742 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,743 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,743 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,743 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,743 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,743 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,743 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,743 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,743 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,743 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,744 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,745 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,746 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,746 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,746 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,746 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   learning_rate: 0.06459184368410763
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   n_estimators: 384
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   subsample: 0.8774992037260307
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.702163125786101
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   reg_alpha: 2.160303535766916e-08
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1500879799835756e-06
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,747 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,747 - src.hyperparameter_tuning - ERROR - Trial 48 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,762 - src.hyperparameter_tuning - INFO - Trial 49: 모델 타입 = lightgbm
2025-06-24 09:34:59,766 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,766 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,766 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,766 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,766 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,766 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,766 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,766 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,766 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,767 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,767 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,767 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,767 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,767 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,767 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,767 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,767 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,767 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,768 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,768 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,768 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,768 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,772 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,774 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,774 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,774 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,774 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,774 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,774 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,774 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,776 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,778 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,778 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,778 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,778 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,778 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,778 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,778 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,778 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,779 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,779 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,779 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,779 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,780 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,780 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,780 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,780 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,780 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,780 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,780 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,780 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,780 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,780 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,781 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,783 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,783 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,783 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,783 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,783 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   learning_rate: 0.10017283165371263
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   n_estimators: 73
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   subsample: 0.8373072645672719
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8564848185348581
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   reg_alpha: 6.266565809920671
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO -   reg_lambda: 0.2714317924622672
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,784 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,784 - src.hyperparameter_tuning - ERROR - Trial 49 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,799 - src.hyperparameter_tuning - INFO - Trial 50: 모델 타입 = lightgbm
2025-06-24 09:34:59,802 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,803 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,803 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,803 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,803 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,803 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,803 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,803 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,803 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,804 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,804 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,804 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,804 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,804 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,804 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,804 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,804 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,804 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,805 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,805 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,805 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,805 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,808 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,810 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,810 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,810 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,810 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,810 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,810 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,811 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,812 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,814 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,814 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,814 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,814 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,814 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,814 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,814 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,814 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,814 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,814 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,815 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,815 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,815 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,816 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,816 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,816 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,816 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,816 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,816 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,816 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,816 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,816 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,816 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,817 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,818 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,819 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,819 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,819 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,819 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   learning_rate: 0.19354396033060667
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   n_estimators: 461
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   subsample: 0.8193951276727495
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7785557445809279
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00027869312762492945
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00013688798527848386
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,820 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,820 - src.hyperparameter_tuning - ERROR - Trial 50 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,835 - src.hyperparameter_tuning - INFO - Trial 51: 모델 타입 = lightgbm
2025-06-24 09:34:59,838 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,839 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,839 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,839 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,839 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,839 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,839 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,839 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,839 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,839 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,839 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,839 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,839 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,839 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,839 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,839 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,840 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,840 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,841 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,841 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,841 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,844 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,846 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,846 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,846 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,846 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,846 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,846 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,846 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,848 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,849 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,850 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,850 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,850 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,850 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,850 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,850 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,850 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,851 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,851 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,851 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,852 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,852 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,852 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,852 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,852 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,852 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,852 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,854 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   learning_rate: 0.0142443614712617
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   n_estimators: 129
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   subsample: 0.9746128038451177
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.718946577832295
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   reg_alpha: 4.407538220944994e-06
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO -   reg_lambda: 0.13079007377001461
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,855 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,856 - src.hyperparameter_tuning - ERROR - Trial 51 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,870 - src.hyperparameter_tuning - INFO - Trial 52: 모델 타입 = lightgbm
2025-06-24 09:34:59,873 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,874 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,874 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,874 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,874 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,874 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,874 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,874 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,874 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,875 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,875 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,875 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,875 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,875 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,875 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,875 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,875 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,875 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,876 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,876 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,876 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,876 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,879 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,881 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,881 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,881 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,881 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,881 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,881 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,881 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,883 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,885 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,885 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,885 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,885 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,885 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,885 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,885 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,885 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,886 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,886 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,886 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,886 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,887 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,887 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,887 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,887 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,887 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,887 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,887 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,888 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,890 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,890 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,890 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   learning_rate: 0.018456661428192748
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,890 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   n_estimators: 181
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   subsample: 0.9509603298852387
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6911039091967015
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   reg_alpha: 7.612892550570312e-07
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO -   reg_lambda: 4.173453381060882e-06
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,891 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,891 - src.hyperparameter_tuning - ERROR - Trial 52 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,906 - src.hyperparameter_tuning - INFO - Trial 53: 모델 타입 = lightgbm
2025-06-24 09:34:59,910 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,910 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,910 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,910 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,910 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,910 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,910 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,910 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,910 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,911 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,911 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,911 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,911 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,911 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,911 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,911 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,911 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,911 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,912 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,912 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,912 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,912 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,915 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,917 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,917 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,918 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,918 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,918 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,918 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,918 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,920 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,921 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,921 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,922 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,922 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,922 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,923 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,923 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,923 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,924 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,924 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,924 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,924 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,924 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,924 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,924 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,924 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,925 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,926 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,927 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,927 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   learning_rate: 0.023387567111245493
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,927 - src.models.lightgbm_model - INFO -   n_estimators: 253
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO -   subsample: 0.9226975130375475
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6611933706717418
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO -   reg_alpha: 2.5680490521396752e-08
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO -   reg_lambda: 0.008010451217063149
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,928 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,928 - src.hyperparameter_tuning - ERROR - Trial 53 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,942 - src.hyperparameter_tuning - INFO - Trial 54: 모델 타입 = lightgbm
2025-06-24 09:34:59,946 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,946 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,946 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,946 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,946 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,946 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,946 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,946 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,947 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,947 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,947 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,947 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,947 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,947 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,947 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,947 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,947 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,947 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,948 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,948 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,948 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,948 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,952 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,954 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,954 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,954 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,954 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,954 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,954 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,954 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,956 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,958 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,958 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,958 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,959 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,959 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,959 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,959 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,959 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,959 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,959 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,959 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,960 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,960 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,960 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,960 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,960 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,960 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,960 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,960 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,960 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,960 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,961 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:34:59,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,963 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,963 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,963 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:34:59,963 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:34:59,963 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   learning_rate: 0.017930539769372034
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   n_estimators: 292
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   subsample: 0.7831255552496368
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7589517267440986
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   reg_alpha: 3.771141225353274e-05
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO -   reg_lambda: 0.000530203372836347
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:34:59,964 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:34:59,964 - src.hyperparameter_tuning - ERROR - Trial 54 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:34:59,979 - src.hyperparameter_tuning - INFO - Trial 55: 모델 타입 = lightgbm
2025-06-24 09:34:59,983 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:34:59,983 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:34:59,983 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:34:59,983 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:34:59,983 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:34:59,983 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:34:59,983 - src.training - INFO - 교차 검증 시작
2025-06-24 09:34:59,983 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:34:59,983 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:34:59,984 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:34:59,984 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:34:59,984 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:34:59,984 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:34:59,984 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:34:59,984 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:34:59,984 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:34:59,984 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:34:59,984 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:34:59,985 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:34:59,985 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:34:59,985 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:34:59,985 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:34:59,988 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:34:59,990 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,990 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:34:59,990 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:34:59,990 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:34:59,991 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:34:59,991 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:34:59,991 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:34:59,992 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:34:59,994 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:34:59,994 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,994 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,995 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:34:59,995 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:34:59,995 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,995 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:34:59,995 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,996 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,996 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:34:59,996 - src.training - INFO - 모델 학습 시작
2025-06-24 09:34:59,997 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:34:59,997 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:34:59,997 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:34:59,997 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:34:59,997 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:34:59,997 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:34:59,997 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:34:59,998 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:34:59,999 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,000 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,000 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   learning_rate: 0.011437207024077016
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   n_estimators: 51
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   subsample: 0.9988910626470648
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7955253543847626
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   reg_alpha: 3.9245291180279974e-07
2025-06-24 09:35:00,000 - src.models.lightgbm_model - INFO -   reg_lambda: 0.001413477088598793
2025-06-24 09:35:00,001 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,001 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,001 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,001 - src.hyperparameter_tuning - ERROR - Trial 55 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,015 - src.hyperparameter_tuning - INFO - Trial 56: 모델 타입 = lightgbm
2025-06-24 09:35:00,019 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,019 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,019 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,019 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,019 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,019 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,019 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,019 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,019 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,020 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,020 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,020 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,020 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,020 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,020 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,020 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,020 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,020 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,021 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,021 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,021 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,021 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,024 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,026 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,026 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,026 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,026 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,026 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,026 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,026 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,028 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,030 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,030 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,030 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,030 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,030 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,030 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,030 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,030 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,031 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,031 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,032 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,032 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,032 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,032 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,032 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,032 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,033 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,033 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,033 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,033 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,033 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,034 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,035 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,035 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,035 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,035 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   learning_rate: 0.153186769078403
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   n_estimators: 620
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   subsample: 0.7475015634023295
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9150280338924608
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1809416753112032e-07
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO -   reg_lambda: 1.3713683152159453e-05
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,036 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,037 - src.hyperparameter_tuning - ERROR - Trial 56 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,051 - src.hyperparameter_tuning - INFO - Trial 57: 모델 타입 = lightgbm
2025-06-24 09:35:00,055 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,055 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,055 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,055 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,055 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,055 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,055 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,055 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,056 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,056 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,056 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,056 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,056 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,056 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,056 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,056 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,056 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,056 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,057 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,057 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,057 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,057 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,061 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,063 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,063 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,063 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,063 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,063 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,063 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,063 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,065 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,067 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,067 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,067 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,067 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,067 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,067 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,067 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,067 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,068 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,068 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,068 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,069 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,069 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,069 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,069 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,069 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,069 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,069 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,069 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,069 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,069 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,069 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,070 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,071 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,072 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,072 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,072 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,072 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   learning_rate: 0.04252092888793017
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,072 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   n_estimators: 555
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   subsample: 0.9111812059161246
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6841855639649754
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   reg_alpha: 1.469469291873918e-06
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO -   reg_lambda: 1.362640689879042
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,073 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,073 - src.hyperparameter_tuning - ERROR - Trial 57 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,087 - src.hyperparameter_tuning - INFO - Trial 58: 모델 타입 = lightgbm
2025-06-24 09:35:00,091 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,091 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,091 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,091 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,091 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,091 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,091 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,091 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,091 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,092 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,092 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,092 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,092 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,092 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,092 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,092 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,092 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,092 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,093 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,093 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,093 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,093 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,096 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,098 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,098 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,098 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,098 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,098 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,098 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,098 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,100 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,102 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,102 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,102 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,102 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,102 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,102 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,102 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,102 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,102 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,102 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,103 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,103 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,103 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,103 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,103 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,104 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,104 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,104 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,104 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,104 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,104 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,104 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,104 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,104 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,105 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,106 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,107 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,107 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,107 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,107 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,107 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   learning_rate: 0.01121632525249422
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   n_estimators: 506
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   subsample: 0.7239428053703661
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7096617144525774
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   reg_alpha: 1.2539835065528851e-05
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO -   reg_lambda: 3.479924777807695e-08
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,108 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,108 - src.hyperparameter_tuning - ERROR - Trial 58 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,123 - src.hyperparameter_tuning - INFO - Trial 59: 모델 타입 = lightgbm
2025-06-24 09:35:00,126 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,127 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,127 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,127 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,127 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,127 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,127 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,127 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,127 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,127 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,127 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,127 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,127 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,127 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,127 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,127 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,127 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,127 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,128 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,128 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,128 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,128 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,132 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,134 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,134 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,134 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,134 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,134 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,134 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,134 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,136 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,138 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,138 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,138 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,138 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,139 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,139 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,139 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,140 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,140 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,140 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,140 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,140 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,140 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,140 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,140 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,140 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,140 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,140 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,142 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   learning_rate: 0.24384133830368773
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   n_estimators: 335
2025-06-24 09:35:00,143 - src.models.lightgbm_model - INFO -   subsample: 0.8683523300707465
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8857996984773274
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO -   reg_alpha: 4.439663032964412e-08
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO -   reg_lambda: 0.02341800942228853
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,144 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,144 - src.hyperparameter_tuning - ERROR - Trial 59 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,158 - src.hyperparameter_tuning - INFO - Trial 60: 모델 타입 = lightgbm
2025-06-24 09:35:00,162 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,162 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,162 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,162 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,162 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,162 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,162 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,162 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,162 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,163 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,163 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,163 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,163 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,163 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,163 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,163 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,163 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,163 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,164 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,164 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,164 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,164 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,167 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,169 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,169 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,169 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,169 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,169 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,169 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,169 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,171 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,173 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,173 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,173 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,173 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,173 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,173 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,173 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,174 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,174 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,174 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,174 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,174 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,174 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,175 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,175 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,175 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,175 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,175 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,175 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,175 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,175 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,175 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,175 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,175 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,176 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,177 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   learning_rate: 0.013791386929805163
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   n_estimators: 693
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   subsample: 0.6055182468435556
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7421066057531389
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   reg_alpha: 0.028410855500270112
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00020704799608554415
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,178 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,179 - src.hyperparameter_tuning - ERROR - Trial 60 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,193 - src.hyperparameter_tuning - INFO - Trial 61: 모델 타입 = lightgbm
2025-06-24 09:35:00,196 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,197 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,197 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,197 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,197 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,197 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,197 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,197 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,197 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,197 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,197 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,197 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,197 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,197 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,197 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,197 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,197 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,197 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,198 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,198 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,198 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,198 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,202 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,203 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,204 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,204 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,204 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,204 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,204 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,204 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,205 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,207 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,207 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,207 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,207 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,207 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,207 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,207 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,207 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,207 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,207 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,208 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,208 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,209 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,209 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,209 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,209 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,209 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,209 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,209 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,209 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,209 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,209 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,212 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,212 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,212 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,212 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   learning_rate: 0.29607121667659375
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   n_estimators: 571
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   subsample: 0.9492180121271596
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9835831542773467
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   reg_alpha: 0.1889918707742379
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO -   reg_lambda: 0.6510572184077662
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,213 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,213 - src.hyperparameter_tuning - ERROR - Trial 61 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,228 - src.hyperparameter_tuning - INFO - Trial 62: 모델 타입 = lightgbm
2025-06-24 09:35:00,231 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,232 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,232 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,232 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,232 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,232 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,232 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,232 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,232 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,233 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,233 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,233 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,233 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,233 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,233 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,233 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,233 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,233 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,234 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,234 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,234 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,234 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,237 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,239 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,239 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,239 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,239 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,239 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,239 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,239 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,241 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,243 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,243 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,243 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,243 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,243 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,243 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,243 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,243 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,243 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,243 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,244 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,244 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,244 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,244 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,244 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,245 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,245 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,245 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,245 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,245 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,245 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,245 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,248 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,248 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,248 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,248 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,248 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   learning_rate: 0.27145131192063576
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   n_estimators: 441
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   subsample: 0.8388888202790384
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9679527386504253
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0032641441634054954
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO -   reg_lambda: 3.55409111214763e-05
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,249 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,249 - src.hyperparameter_tuning - ERROR - Trial 62 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,264 - src.hyperparameter_tuning - INFO - Trial 63: 모델 타입 = lightgbm
2025-06-24 09:35:00,267 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,268 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,268 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,268 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,268 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,268 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,268 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,268 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,268 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,268 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,268 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,268 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,268 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,268 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,268 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,268 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,268 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,269 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,270 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,270 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,270 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,270 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,273 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,275 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,275 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,275 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,275 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,275 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,275 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,275 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,277 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,278 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,279 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,279 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,279 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,279 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,280 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,280 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,280 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,281 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,281 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,281 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,281 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,281 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,281 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,281 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,283 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,283 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,283 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   learning_rate: 0.18507739953392208
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   n_estimators: 501
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   subsample: 0.9255363949136147
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9478516979033457
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0016453016635939743
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO -   reg_lambda: 3.889292533372911
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,284 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,285 - src.hyperparameter_tuning - ERROR - Trial 63 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,299 - src.hyperparameter_tuning - INFO - Trial 64: 모델 타입 = lightgbm
2025-06-24 09:35:00,303 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,304 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,304 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,304 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,304 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,304 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,304 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,304 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,304 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,304 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,304 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,304 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,304 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,305 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,305 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,305 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,305 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,305 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,305 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,306 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,306 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,306 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,306 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,309 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,311 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,311 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,311 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,311 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,311 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,311 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,311 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,313 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,315 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,315 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,315 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,315 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,315 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,315 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,315 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,315 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,315 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,315 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,316 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,316 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,316 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,316 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,316 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,317 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,317 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,317 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,317 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,317 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,317 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,317 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,317 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,317 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,318 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,319 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,320 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,320 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,320 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,320 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,320 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,320 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   learning_rate: 0.12954824612423743
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   n_estimators: 98
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   subsample: 0.8112141622588307
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9260449527056052
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   reg_alpha: 0.009995808450449633
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO -   reg_lambda: 0.10706547190904596
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,321 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,321 - src.hyperparameter_tuning - ERROR - Trial 64 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,336 - src.hyperparameter_tuning - INFO - Trial 65: 모델 타입 = lightgbm
2025-06-24 09:35:00,340 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,340 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,340 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,340 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,340 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,340 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,340 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,340 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,341 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,341 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,341 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,341 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,341 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,341 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,341 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,341 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,341 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,341 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,342 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,342 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,342 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,342 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,345 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,347 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,347 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,347 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,347 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,347 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,347 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,347 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,349 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,351 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,351 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,351 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,351 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,351 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,351 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,351 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,351 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,351 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,351 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,352 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,352 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,352 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,352 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,352 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,353 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,353 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,353 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,353 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,353 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,353 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,353 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,353 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,353 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,355 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,356 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,356 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,356 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,356 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   learning_rate: 0.015953931804349637
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   n_estimators: 415
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   subsample: 0.9789455694045592
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9991613164008715
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   reg_alpha: 6.456208343096671e-05
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1200870633038303e-07
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,357 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,357 - src.hyperparameter_tuning - ERROR - Trial 65 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,372 - src.hyperparameter_tuning - INFO - Trial 66: 모델 타입 = lightgbm
2025-06-24 09:35:00,375 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,376 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,376 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,376 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,376 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,376 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,376 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,376 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,376 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,377 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,377 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,377 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,377 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,377 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,377 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,377 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,377 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,377 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,378 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,378 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,378 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,378 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,381 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,383 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,383 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,383 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,383 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,383 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,383 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,383 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,385 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,387 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,387 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,387 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,387 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,388 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,388 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,388 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,389 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,389 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,389 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,389 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,389 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,389 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,389 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,389 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,389 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,391 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   learning_rate: 0.11087159867996219
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   n_estimators: 679
2025-06-24 09:35:00,392 - src.models.lightgbm_model - INFO -   subsample: 0.9403050846328712
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9758227150453681
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO -   reg_alpha: 1.0131157393738157e-08
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO -   reg_lambda: 0.8523746549601214
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,393 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,393 - src.hyperparameter_tuning - ERROR - Trial 66 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,408 - src.hyperparameter_tuning - INFO - Trial 67: 모델 타입 = lightgbm
2025-06-24 09:35:00,411 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,412 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,412 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,412 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,412 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,412 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,412 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,412 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,412 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,413 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,413 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,413 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,413 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,413 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,413 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,413 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,413 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,413 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,414 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,414 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,414 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,414 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,417 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,419 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,419 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,419 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,419 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,419 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,419 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,419 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,421 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,423 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,423 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,423 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,423 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,423 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,423 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,423 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,423 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,423 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,423 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,424 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,424 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,424 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,424 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,424 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,425 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,425 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,425 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,425 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,425 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,425 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,425 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,425 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,425 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,426 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,427 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,428 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,428 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,428 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,428 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,428 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   learning_rate: 0.22703332024128894
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   n_estimators: 738
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   subsample: 0.682593228121369
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8224029138278149
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   reg_alpha: 6.007326216970683e-06
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO -   reg_lambda: 7.268356621597371e-08
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,429 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,429 - src.hyperparameter_tuning - ERROR - Trial 67 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,444 - src.hyperparameter_tuning - INFO - Trial 68: 모델 타입 = lightgbm
2025-06-24 09:35:00,447 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,448 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,448 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,448 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,448 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,448 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,448 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,448 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,448 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,449 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,449 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,449 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,449 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,449 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,449 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,449 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,449 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,449 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,449 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,450 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,450 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,450 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,450 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,453 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,455 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,455 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,455 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,455 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,455 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,455 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,455 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,457 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,458 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,458 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,459 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,459 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,459 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,459 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,459 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,459 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,460 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,460 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,460 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,461 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,461 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,461 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,461 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,461 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,461 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,461 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,463 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,463 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,463 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   learning_rate: 0.04990710888816552
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   n_estimators: 609
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   subsample: 0.848270830948627
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.850598430172833
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0004951275409578349
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO -   reg_lambda: 3.47820930095863e-06
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,464 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,465 - src.hyperparameter_tuning - ERROR - Trial 68 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,480 - src.hyperparameter_tuning - INFO - Trial 69: 모델 타입 = lightgbm
2025-06-24 09:35:00,483 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,484 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,484 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,484 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,484 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,484 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,484 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,484 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,484 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,484 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,484 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,484 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,484 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,484 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,484 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,484 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,484 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,484 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,485 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,485 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,485 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,485 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,489 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,491 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,491 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,491 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,491 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,491 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,491 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,491 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,493 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,495 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,495 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,495 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,495 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,495 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,495 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,495 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,495 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,495 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,495 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,496 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,496 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,496 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,496 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,496 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,497 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,497 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,497 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,497 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,497 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,497 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,497 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,497 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,497 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,497 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,498 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,500 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,500 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,500 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,500 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,500 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   learning_rate: 0.15916881726677745
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   n_estimators: 998
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   subsample: 0.9530544650204105
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8647144776940237
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6010135879554323e-06
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO -   reg_lambda: 1.0999472666734155e-05
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,501 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,501 - src.hyperparameter_tuning - ERROR - Trial 69 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,517 - src.hyperparameter_tuning - INFO - Trial 70: 모델 타입 = lightgbm
2025-06-24 09:35:00,520 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,521 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,521 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,521 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,521 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,521 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,521 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,521 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,521 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,522 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,522 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,522 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,522 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,522 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,522 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,522 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,522 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,522 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,523 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,523 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,523 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,523 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,526 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,528 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,528 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,528 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,528 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,528 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,528 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,528 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,530 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,532 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,532 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,532 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,532 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,532 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,532 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,532 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,532 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,532 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,532 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,533 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,533 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,533 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,533 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,533 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,534 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,534 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,534 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,534 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,534 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,534 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,534 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,534 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,534 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,535 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,536 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,537 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,537 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,537 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,537 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   learning_rate: 0.020914360188651566
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   n_estimators: 220
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   subsample: 0.7847861042114909
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6157716992226357
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   reg_alpha: 2.2119025375971438e-05
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO -   reg_lambda: 2.5581389759662644e-08
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,538 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,539 - src.hyperparameter_tuning - ERROR - Trial 70 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,554 - src.hyperparameter_tuning - INFO - Trial 71: 모델 타입 = lightgbm
2025-06-24 09:35:00,557 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,558 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,558 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,558 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,558 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,558 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,558 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,558 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,558 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,559 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,559 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,559 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,559 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,559 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,559 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,559 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,559 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,559 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,560 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,560 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,560 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,560 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,563 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,565 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,565 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,565 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,565 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,565 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,565 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,565 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,567 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,569 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,569 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,569 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,569 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,569 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,569 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,569 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,569 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,570 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,570 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,570 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,570 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,570 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,571 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,571 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,571 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,571 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,571 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,571 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,571 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,571 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,571 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,571 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,572 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,574 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,574 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,574 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,574 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   learning_rate: 0.010957129865736666
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,574 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   n_estimators: 153
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   subsample: 0.6564142001008275
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8397815212987682
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   reg_alpha: 3.0126779680525884
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO -   reg_lambda: 6.874100189958323e-05
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,575 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,575 - src.hyperparameter_tuning - ERROR - Trial 71 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,591 - src.hyperparameter_tuning - INFO - Trial 72: 모델 타입 = lightgbm
2025-06-24 09:35:00,594 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,595 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,595 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,595 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,595 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,595 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,595 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,595 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,595 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,596 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,596 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,596 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,596 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,596 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,596 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,596 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,596 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,596 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,597 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,597 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,597 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,597 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,600 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,602 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,602 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,602 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,602 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,602 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,602 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,602 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,604 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,606 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,606 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,606 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,606 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,606 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,606 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,607 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,607 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,607 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,608 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,608 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,608 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,609 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,609 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,609 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,609 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,609 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,609 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,609 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,609 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,611 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,612 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,612 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   learning_rate: 0.012872128435596708
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   n_estimators: 108
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   subsample: 0.701870451203659
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7329492683995666
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   reg_alpha: 0.2817736475166566
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO -   reg_lambda: 6.653037142606319e-07
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,612 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,613 - src.hyperparameter_tuning - ERROR - Trial 72 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,628 - src.hyperparameter_tuning - INFO - Trial 73: 모델 타입 = lightgbm
2025-06-24 09:35:00,632 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,633 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,633 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,633 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,633 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,633 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,633 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,633 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,633 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,633 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,633 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,633 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,633 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,633 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,633 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,633 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,633 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,633 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,634 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,634 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,634 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,634 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,638 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,640 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,640 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,640 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,640 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,640 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,640 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,640 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,642 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,644 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,644 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,644 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,644 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,644 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,644 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,644 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,645 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,645 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,645 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,645 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,645 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,645 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,646 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,646 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,646 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,646 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,646 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,646 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,646 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,647 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,648 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,649 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,649 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,649 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,649 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,649 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   learning_rate: 0.014541973687489567
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,649 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   n_estimators: 188
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   subsample: 0.759421050732034
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7654101279240798
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   reg_alpha: 0.01722905276111146
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO -   reg_lambda: 1.263937240496527e-06
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,650 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,650 - src.hyperparameter_tuning - ERROR - Trial 73 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,666 - src.hyperparameter_tuning - INFO - Trial 74: 모델 타입 = lightgbm
2025-06-24 09:35:00,669 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,670 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,670 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,670 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,670 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,670 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,670 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,670 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,670 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,671 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,671 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,671 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,671 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,671 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,671 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,671 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,671 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,671 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,672 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,672 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,672 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,672 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,675 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,677 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,677 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,677 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,677 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,677 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,677 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,677 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,679 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,681 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,681 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,681 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,681 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,681 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,681 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,681 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,681 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,681 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,681 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,682 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,682 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,682 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,682 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,682 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,683 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,683 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,683 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,683 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,683 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,683 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,683 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,684 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,685 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,686 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,686 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,686 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,686 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,686 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   learning_rate: 0.010049681564965829
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,686 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   n_estimators: 472
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   subsample: 0.7277245828295967
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7166438037926771
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   reg_alpha: 0.006492067438794327
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO -   reg_lambda: 3.47045623771009e-05
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,687 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,687 - src.hyperparameter_tuning - ERROR - Trial 74 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,702 - src.hyperparameter_tuning - INFO - Trial 75: 모델 타입 = lightgbm
2025-06-24 09:35:00,706 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,706 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,706 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,706 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,706 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,706 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,706 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,706 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,707 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,707 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,707 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,707 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,707 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,707 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,707 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,707 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,707 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,707 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,708 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,708 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,708 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,708 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,711 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,713 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,713 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,713 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,713 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,713 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,713 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,713 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,715 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,717 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,717 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,717 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,717 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,717 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,717 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,717 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,717 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,717 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,717 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,718 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,718 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,718 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,718 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,719 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,719 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,719 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,719 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,719 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,719 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,719 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,719 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,719 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,719 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,720 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,721 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,722 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,722 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,722 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,722 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,722 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   learning_rate: 0.028490465891437326
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   n_estimators: 365
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   subsample: 0.6254706923605511
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7925475288364967
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   reg_alpha: 0.05495560517360351
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO -   reg_lambda: 3.551282729015529
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,723 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,723 - src.hyperparameter_tuning - ERROR - Trial 75 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,739 - src.hyperparameter_tuning - INFO - Trial 76: 모델 타입 = lightgbm
2025-06-24 09:35:00,742 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,743 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,743 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,743 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,743 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,743 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,743 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,743 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,743 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,743 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,743 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,743 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,743 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,744 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,744 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,744 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,744 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,745 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,745 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,745 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,745 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,745 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,745 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,748 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,750 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,750 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,750 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,750 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,750 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,750 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,750 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,752 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,754 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,754 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,754 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,754 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,754 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,754 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,754 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,754 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,754 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,754 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,755 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,755 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,755 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,755 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,755 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,756 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,756 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,756 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,756 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,756 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,756 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,756 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,756 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,756 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,756 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,757 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,759 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO -   learning_rate: 0.012115236479030286
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,759 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   n_estimators: 153
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   subsample: 0.9118267599058681
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6687523762556236
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6345515759655802
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO -   reg_lambda: 7.166551603900752e-06
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,760 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,760 - src.hyperparameter_tuning - ERROR - Trial 76 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,776 - src.hyperparameter_tuning - INFO - Trial 77: 모델 타입 = lightgbm
2025-06-24 09:35:00,780 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,780 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,780 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,780 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,780 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,781 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,781 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,781 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,781 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,781 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,781 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,781 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,781 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,781 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,781 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,781 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,781 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,781 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,782 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,782 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,782 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,782 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,786 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,788 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,788 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,788 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,788 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,788 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,788 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,788 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,790 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,792 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,792 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,792 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,792 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,792 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,792 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,792 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,792 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,793 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,793 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,793 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,794 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,794 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,794 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,794 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,794 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,794 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,794 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,794 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,796 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,797 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,797 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,797 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   learning_rate: 0.063637820225863
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,797 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   n_estimators: 881
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   subsample: 0.9660419365576216
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9529111978290701
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   reg_alpha: 5.114020852306642e-07
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0003097731129743343
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,798 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,798 - src.hyperparameter_tuning - ERROR - Trial 77 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,814 - src.hyperparameter_tuning - INFO - Trial 78: 모델 타입 = lightgbm
2025-06-24 09:35:00,817 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,818 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,818 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,818 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,818 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,818 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,818 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,818 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,818 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,819 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,819 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,819 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,819 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,819 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,819 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,819 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,819 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,819 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,820 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,820 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,820 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,820 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,823 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,825 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,825 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,825 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,825 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,825 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,825 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,825 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,827 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,829 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,829 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,829 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,829 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,829 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,829 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,829 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,829 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,830 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,830 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,830 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,830 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,830 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,831 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,831 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,831 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,831 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,831 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,831 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,831 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,831 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,832 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,834 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,834 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,834 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,834 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   learning_rate: 0.016976948057482684
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,834 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   n_estimators: 393
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   subsample: 0.7883441898007725
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9375725893666309
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6432227257309933e-07
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0009728369901229373
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,835 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,835 - src.hyperparameter_tuning - ERROR - Trial 78 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,851 - src.hyperparameter_tuning - INFO - Trial 79: 모델 타입 = lightgbm
2025-06-24 09:35:00,854 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,855 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,855 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,855 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,855 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,855 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,855 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,855 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,855 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,856 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,856 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,856 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,856 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,856 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,856 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,856 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,856 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,856 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,857 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,857 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,857 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,857 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,860 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,862 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,862 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,862 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,862 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,862 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,862 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,862 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,864 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,866 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,866 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,866 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,866 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,866 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,866 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,867 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,867 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,867 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,867 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,867 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,868 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,868 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,868 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,868 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,868 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,868 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,868 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,869 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,871 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   learning_rate: 0.2593451809950288
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   n_estimators: 524
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   subsample: 0.9892833490980313
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8114549676244355
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0024320305460977846
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00011587610553415014
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,872 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,872 - src.hyperparameter_tuning - ERROR - Trial 79 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,888 - src.hyperparameter_tuning - INFO - Trial 80: 모델 타입 = lightgbm
2025-06-24 09:35:00,891 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,892 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,892 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,892 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,892 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,892 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,892 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,892 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,892 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,893 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,893 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,893 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,893 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,893 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,893 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,893 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,893 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,893 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,894 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,894 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,894 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,894 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,897 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,899 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,899 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,899 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,899 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,899 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,899 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,899 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,901 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,903 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,903 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,903 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,903 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,903 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,903 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,903 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,903 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,903 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,903 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,904 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,904 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,904 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,904 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,905 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,905 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,905 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,905 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,905 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,905 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,905 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,905 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,905 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,905 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,906 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,907 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,908 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,908 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,908 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,908 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,908 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   learning_rate: 0.07813911661457104
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   n_estimators: 302
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   subsample: 0.8875096072240903
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6433794276239841
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0011379545210007589
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO -   reg_lambda: 4.306976213595928e-07
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,909 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,909 - src.hyperparameter_tuning - ERROR - Trial 80 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,925 - src.hyperparameter_tuning - INFO - Trial 81: 모델 타입 = lightgbm
2025-06-24 09:35:00,929 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,929 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,930 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,930 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,930 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,930 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,930 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,930 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,930 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,930 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,930 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,930 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,930 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,930 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,930 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,930 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,930 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,930 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,931 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,931 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,931 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,931 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,935 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,937 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,937 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,937 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,937 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,937 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,937 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,937 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,939 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,941 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,941 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,941 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,941 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,941 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,941 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,941 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,941 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,942 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,942 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,942 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,943 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,943 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,943 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,943 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,943 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,943 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,943 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,943 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,943 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,943 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,943 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,944 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,945 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,946 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,946 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,946 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,946 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   learning_rate: 0.013390824935990937
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,946 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   n_estimators: 225
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   subsample: 0.8655718258437664
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6268140816663329
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   reg_alpha: 0.13849867415852568
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1834271927039548e-06
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,947 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,947 - src.hyperparameter_tuning - ERROR - Trial 81 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:00,963 - src.hyperparameter_tuning - INFO - Trial 82: 모델 타입 = lightgbm
2025-06-24 09:35:00,966 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:00,967 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:00,967 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:00,967 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:00,967 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:00,967 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:00,967 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:00,967 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:00,967 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:00,967 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:00,968 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:00,968 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:00,968 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:00,968 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:00,968 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:00,968 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:00,968 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:00,968 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:00,968 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:00,969 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:00,969 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:00,969 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:00,969 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:00,972 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:00,974 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,974 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:00,974 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:00,974 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:00,974 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:00,974 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:00,974 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:00,976 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:00,978 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:00,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:00,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:00,978 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,978 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:00,978 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:00,978 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,978 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,978 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:00,979 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:00,979 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,979 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,979 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:00,979 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:00,979 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,979 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,979 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:00,979 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:00,980 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:00,980 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:00,980 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:00,980 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:00,980 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:00,980 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:00,980 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:00,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:00,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:00,981 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:00,982 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:00,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:00,983 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:00,983 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:00,983 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:00,983 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   learning_rate: 0.015254010311290964
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:00,983 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   n_estimators: 270
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   subsample: 0.9338363605752303
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6435775161794274
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   reg_alpha: 0.10966313007085868
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO -   reg_lambda: 1.8570005277345276e-07
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:00,984 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:00,984 - src.hyperparameter_tuning - ERROR - Trial 82 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,000 - src.hyperparameter_tuning - INFO - Trial 83: 모델 타입 = lightgbm
2025-06-24 09:35:01,003 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,004 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,004 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,004 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,004 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,004 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,004 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,004 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,004 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,005 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,005 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,005 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,005 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,005 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,005 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,005 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,005 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,005 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,006 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,006 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,006 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,006 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,009 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,011 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,011 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,011 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,011 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,011 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,011 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,011 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,013 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,015 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,015 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,015 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,015 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,015 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,015 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,015 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,015 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,015 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,015 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,016 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,016 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,017 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,017 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,017 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,017 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,017 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,017 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,017 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,017 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,017 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,017 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,017 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,017 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,018 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,018 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,018 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,019 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,020 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,020 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,020 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,020 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   learning_rate: 0.019506751038527934
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   n_estimators: 72
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   subsample: 0.9016055807922
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6786527742452434
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   reg_alpha: 0.5179817334010663
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO -   reg_lambda: 2.585526747106335e-05
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,021 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,022 - src.hyperparameter_tuning - ERROR - Trial 83 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,038 - src.hyperparameter_tuning - INFO - Trial 84: 모델 타입 = lightgbm
2025-06-24 09:35:01,041 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,042 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,042 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,042 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,042 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,042 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,042 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,042 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,042 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,042 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,042 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,042 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,042 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,042 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,042 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,042 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,042 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,042 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,043 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,043 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,043 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,044 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,044 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,047 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,049 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,049 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,049 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,049 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,049 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,049 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,049 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,051 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,053 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,053 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,053 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,053 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,053 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,053 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,054 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,054 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,054 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,054 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,054 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,055 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,055 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,055 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,055 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,055 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,055 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,055 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,058 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,058 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,058 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,058 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   learning_rate: 0.011761518315917473
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   n_estimators: 336
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   subsample: 0.8814774332424677
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6589836190226069
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   reg_alpha: 0.03740462540171629
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO -   reg_lambda: 9.421800508700533e-07
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,059 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,059 - src.hyperparameter_tuning - ERROR - Trial 84 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,075 - src.hyperparameter_tuning - INFO - Trial 85: 모델 타입 = lightgbm
2025-06-24 09:35:01,079 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,079 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,079 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,079 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,080 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,080 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,080 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,080 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,080 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,080 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,080 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,080 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,080 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,080 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,080 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,080 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,080 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,080 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,081 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,081 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,081 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,081 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,085 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,087 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,087 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,087 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,087 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,087 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,087 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,087 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,089 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,091 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,091 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,091 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,091 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,091 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,092 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,092 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,092 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,093 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,093 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,093 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,093 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,093 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,093 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,093 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,093 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,093 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,093 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,093 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,094 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   learning_rate: 0.023369091605691176
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,096 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   n_estimators: 416
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   subsample: 0.9285006889587568
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6911826263958073
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   reg_alpha: 0.005586000009250545
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO -   reg_lambda: 1.0365316887043513e-07
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,097 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,097 - src.hyperparameter_tuning - ERROR - Trial 85 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,113 - src.hyperparameter_tuning - INFO - Trial 86: 모델 타입 = lightgbm
2025-06-24 09:35:01,117 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,117 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,117 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,117 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,117 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,117 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,117 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,117 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,118 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,118 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,118 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,118 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,118 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,118 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,118 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,118 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,118 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,118 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,119 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,119 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,119 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,119 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,123 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,125 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,125 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,125 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,125 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,125 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,125 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,125 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,127 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,129 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,129 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,129 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,129 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,129 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,129 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,129 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,129 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,130 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,130 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,130 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,131 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,131 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,131 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,131 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,131 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,131 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,131 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,131 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,131 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,131 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,131 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,134 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,134 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,134 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,134 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   learning_rate: 0.0167210164277769
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,134 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   n_estimators: 126
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   subsample: 0.8121859411209759
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.600980416597681
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   reg_alpha: 0.015484276919204112
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO -   reg_lambda: 3.60403122472424e-07
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,135 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,135 - src.hyperparameter_tuning - ERROR - Trial 86 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,151 - src.hyperparameter_tuning - INFO - Trial 87: 모델 타입 = lightgbm
2025-06-24 09:35:01,155 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,155 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,155 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,155 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,155 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,155 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,155 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,155 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,155 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,156 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,156 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,156 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,156 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,156 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,156 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,156 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,156 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,156 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,157 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,157 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,157 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,157 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,160 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,162 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,162 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,162 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,162 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,162 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,162 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,162 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,164 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,166 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,166 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,166 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,166 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,166 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,166 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,166 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,166 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,167 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,167 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,168 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,168 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,168 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,168 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,168 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,168 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,169 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,169 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,169 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,169 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,170 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,171 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,171 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,171 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,171 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   learning_rate: 0.08737941929340731
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   n_estimators: 485
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   subsample: 0.7725397087037676
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9032259116266748
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   reg_alpha: 3.4172998319315425e-06
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO -   reg_lambda: 8.925646395185016e-06
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,172 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,173 - src.hyperparameter_tuning - ERROR - Trial 87 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,189 - src.hyperparameter_tuning - INFO - Trial 88: 모델 타입 = lightgbm
2025-06-24 09:35:01,192 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,193 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,193 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,193 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,193 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,193 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,193 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,193 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,193 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,193 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,193 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,193 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,193 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,193 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,193 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,193 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,193 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,193 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,194 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,194 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,194 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,194 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,198 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,200 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,200 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,200 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,200 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,200 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,200 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,200 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,202 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,204 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,204 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,204 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,204 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,204 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,204 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,204 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,204 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,205 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,205 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,205 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,206 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,206 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,206 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,206 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,206 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,206 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,206 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,206 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,206 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,206 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,206 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,206 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,208 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   learning_rate: 0.20084862043853582
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,209 - src.models.lightgbm_model - INFO -   n_estimators: 436
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO -   subsample: 0.6836681494518045
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7513030717936812
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0001317813499998491
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO -   reg_lambda: 2.3433791053557896e-06
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,210 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,210 - src.hyperparameter_tuning - ERROR - Trial 88 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,226 - src.hyperparameter_tuning - INFO - Trial 89: 모델 타입 = lightgbm
2025-06-24 09:35:01,230 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,230 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,230 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,231 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,231 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,231 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,231 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,231 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,231 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,231 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,231 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,231 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,231 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,231 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,231 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,231 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,231 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,231 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,232 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,232 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,232 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,232 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,236 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,238 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,238 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,238 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,238 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,238 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,238 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,238 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,240 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,241 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,241 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,242 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,242 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,242 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,242 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,242 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,242 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,243 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,243 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,243 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,244 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,244 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,244 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,244 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,244 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,244 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,244 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,244 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,244 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,244 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,244 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,244 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,245 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,246 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   learning_rate: 0.010712348865860803
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   n_estimators: 569
2025-06-24 09:35:01,247 - src.models.lightgbm_model - INFO -   subsample: 0.9715163381303065
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8835099955381397
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO -   reg_alpha: 3.181288168420014e-08
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO -   reg_lambda: 0.003706339122281663
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,248 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,248 - src.hyperparameter_tuning - ERROR - Trial 89 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,264 - src.hyperparameter_tuning - INFO - Trial 90: 모델 타입 = lightgbm
2025-06-24 09:35:01,267 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,268 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,268 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,268 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,268 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,268 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,268 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,268 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,268 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,269 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,269 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,269 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,269 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,269 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,269 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,269 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,269 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,269 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,270 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,270 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,270 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,270 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,273 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,275 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,275 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,275 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,275 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,275 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,275 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,275 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,277 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,279 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,279 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,279 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,279 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,279 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,279 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,279 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,279 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,279 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,279 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,280 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,280 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,280 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,280 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,280 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,281 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,281 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,281 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,281 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,281 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,281 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,281 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,284 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,284 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,284 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,284 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   learning_rate: 0.17292774562587593
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   n_estimators: 249
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   subsample: 0.9100639628414496
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7319861545848053
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   reg_alpha: 6.841319298994953e-08
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO -   reg_lambda: 7.294516932532824e-08
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,285 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,285 - src.hyperparameter_tuning - ERROR - Trial 90 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,302 - src.hyperparameter_tuning - INFO - Trial 91: 모델 타입 = lightgbm
2025-06-24 09:35:01,305 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,306 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,306 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,306 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,306 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,306 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,306 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,306 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,306 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,306 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,307 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,307 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,307 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,307 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,307 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,307 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,307 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,307 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,307 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,308 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,308 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,308 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,308 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,311 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,313 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,313 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,313 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,313 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,313 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,313 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,313 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,315 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,317 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,317 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,317 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,317 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,317 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,318 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,318 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,318 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,318 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,319 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,319 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,319 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,319 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,319 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,319 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,319 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,319 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,319 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,320 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,321 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,322 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,322 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,322 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,322 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   learning_rate: 0.11013898979209548
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,322 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   n_estimators: 86
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   subsample: 0.9578849478844019
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9636601537167676
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   reg_alpha: 1.4565994044938084e-05
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO -   reg_lambda: 4.107640210812544e-06
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,323 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,323 - src.hyperparameter_tuning - ERROR - Trial 91 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,339 - src.hyperparameter_tuning - INFO - Trial 92: 모델 타입 = lightgbm
2025-06-24 09:35:01,342 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,343 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,343 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,343 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,343 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,343 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,343 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,343 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,343 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,344 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,344 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,344 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,344 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,344 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,344 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,344 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,344 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,344 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,345 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,345 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,345 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,345 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,348 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,350 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,350 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,350 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,350 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,350 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,350 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,350 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,352 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,354 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,354 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,354 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,354 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,354 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,354 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,354 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,354 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,354 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,354 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,355 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,355 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,355 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,355 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,355 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,356 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,356 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,356 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,356 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,356 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,356 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,356 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,358 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,359 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,359 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,359 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,359 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,359 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   learning_rate: 0.06512620613719415
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   n_estimators: 62
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   subsample: 0.9440049750817702
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9069793609426638
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   reg_alpha: 1.3433121325142226e-06
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1808112052856218e-08
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,360 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,360 - src.hyperparameter_tuning - ERROR - Trial 92 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,377 - src.hyperparameter_tuning - INFO - Trial 93: 모델 타입 = lightgbm
2025-06-24 09:35:01,380 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,381 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,381 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,381 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,381 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,381 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,381 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,381 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,381 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,382 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,382 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,382 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,382 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,382 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,382 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,382 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,382 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,382 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,383 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,383 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,383 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,383 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,386 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,388 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,388 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,388 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,388 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,388 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,388 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,388 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,390 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,392 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,392 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,392 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,392 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,392 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,392 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,392 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,392 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,392 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,392 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,393 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,393 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,393 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,393 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,393 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,394 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,394 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,394 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,394 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,394 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,394 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,394 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,395 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,397 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,397 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   learning_rate: 0.144034078327933
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   n_estimators: 161
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   subsample: 0.891280205171518
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9241422630860318
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   reg_alpha: 7.365332985642187e-05
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO -   reg_lambda: 5.580919445808581e-05
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,398 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,398 - src.hyperparameter_tuning - ERROR - Trial 93 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,415 - src.hyperparameter_tuning - INFO - Trial 94: 모델 타입 = lightgbm
2025-06-24 09:35:01,418 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,419 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,419 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,419 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,419 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,419 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,419 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,419 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,419 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,419 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,419 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,419 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,419 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,419 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,419 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,419 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,419 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,420 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,420 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,421 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,421 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,421 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,424 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,426 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,426 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,426 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,426 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,426 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,426 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,426 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,428 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,430 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,430 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,430 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,430 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,430 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,430 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,430 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,430 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,431 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,431 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,431 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,432 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,432 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,432 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,432 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,432 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,432 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,432 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,432 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,432 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,432 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,432 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,433 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,434 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,435 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,435 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,435 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,435 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   learning_rate: 0.03226966411568605
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,435 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   n_estimators: 111
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   subsample: 0.8275247108212429
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6198230292372529
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00034040068930289746
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO -   reg_lambda: 4.96586351698221e-07
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,436 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,436 - src.hyperparameter_tuning - ERROR - Trial 94 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,453 - src.hyperparameter_tuning - INFO - Trial 95: 모델 타입 = lightgbm
2025-06-24 09:35:01,456 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,457 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,457 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,457 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,457 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,457 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,457 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,457 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,457 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,458 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,458 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,458 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,458 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,458 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,458 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,458 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,458 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,458 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,459 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,459 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,459 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,459 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,463 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,464 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,464 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,464 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,465 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,465 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,465 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,465 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,466 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,468 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,468 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,469 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,469 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,469 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,469 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,469 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,469 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,470 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,470 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,470 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,471 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,471 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,471 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,471 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,471 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,471 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,471 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,471 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,471 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,471 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,471 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,472 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,473 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,474 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,474 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   learning_rate: 0.23289446247753645
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   n_estimators: 199
2025-06-24 09:35:01,474 - src.models.lightgbm_model - INFO -   subsample: 0.9182339907634957
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8414284434329359
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO -   reg_alpha: 0.30891866315595923
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO -   reg_lambda: 7.06945184557314
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,475 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,475 - src.hyperparameter_tuning - ERROR - Trial 95 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,492 - src.hyperparameter_tuning - INFO - Trial 96: 모델 타입 = lightgbm
2025-06-24 09:35:01,495 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,496 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,496 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,496 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,496 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,496 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,496 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,496 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,496 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,496 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,496 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,496 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,496 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,496 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,496 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,496 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,496 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,496 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,497 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,497 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,497 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,497 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,501 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,503 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,503 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,503 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,503 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,503 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,503 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,503 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,505 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,506 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,506 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,507 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,507 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,507 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,507 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,507 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,507 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,508 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,508 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,508 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,509 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,509 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,509 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,509 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,509 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,509 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,509 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,511 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,512 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   learning_rate: 0.0128858323826597
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   n_estimators: 392
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   subsample: 0.9883471561917563
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9800264200829185
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0008163736186869123
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO -   reg_lambda: 7.146987388366111e-08
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,512 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,513 - src.hyperparameter_tuning - ERROR - Trial 96 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,529 - src.hyperparameter_tuning - INFO - Trial 97: 모델 타입 = lightgbm
2025-06-24 09:35:01,533 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,534 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,534 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,534 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,534 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,534 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,534 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,534 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,534 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,535 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,535 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,535 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,535 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,535 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,535 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,535 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,535 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,535 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,536 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,536 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,536 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,536 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,540 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,542 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,542 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,542 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,542 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,542 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,542 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,542 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,544 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,546 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,546 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,546 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,546 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,546 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,546 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,546 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,546 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,547 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,547 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,547 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,548 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,548 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,548 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,548 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,548 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,548 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,548 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,548 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,548 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,548 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,548 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,548 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,549 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,550 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,551 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,551 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   learning_rate: 0.04708035431951437
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   n_estimators: 545
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   subsample: 0.8481306135407106
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8777043418153438
2025-06-24 09:35:01,551 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:01,552 - src.models.lightgbm_model - INFO -   reg_alpha: 5.301017506056371e-06
2025-06-24 09:35:01,552 - src.models.lightgbm_model - INFO -   reg_lambda: 1.4157321646404635e-07
2025-06-24 09:35:01,552 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,552 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,552 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,552 - src.hyperparameter_tuning - ERROR - Trial 97 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,568 - src.hyperparameter_tuning - INFO - Trial 98: 모델 타입 = lightgbm
2025-06-24 09:35:01,571 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,572 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,572 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,572 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,572 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,572 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,572 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,572 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,572 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,573 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,573 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,573 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,573 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,573 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,573 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,573 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,573 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,573 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,574 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,574 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,574 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,574 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,577 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,579 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,579 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,579 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,579 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,579 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,579 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,579 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,581 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,583 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,583 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,583 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,583 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,583 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,583 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,583 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,583 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,583 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,583 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,584 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,584 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,584 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,584 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,584 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,585 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,585 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,585 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,585 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,585 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,585 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,585 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,585 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,585 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,585 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,586 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,587 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,588 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,588 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,588 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,588 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,588 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   learning_rate: 0.014754168878137339
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   n_estimators: 354
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   subsample: 0.7178025885121065
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8037627937927796
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   reg_alpha: 2.5408310634329025e-06
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO -   reg_lambda: 1.658568588495107e-05
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,589 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,589 - src.hyperparameter_tuning - ERROR - Trial 98 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,606 - src.hyperparameter_tuning - INFO - Trial 99: 모델 타입 = lightgbm
2025-06-24 09:35:01,610 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:01,610 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:01,610 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:01,610 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:01,610 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:01,610 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:01,610 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:01,611 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:01,611 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:01,611 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:01,611 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:01,611 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:01,611 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:01,611 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:01,611 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:01,611 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:01,611 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:01,611 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:01,612 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:01,612 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:01,612 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:01,612 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:01,616 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:01,618 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,618 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:01,618 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:01,618 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:01,618 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:01,618 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:01,618 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:01,620 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:01,622 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:01,622 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,622 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,622 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:01,622 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:01,622 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,622 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:01,622 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,623 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,623 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:01,623 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:01,624 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:01,624 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:01,624 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:01,624 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:01,624 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:01,624 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:01,624 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:01,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:01,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,624 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:01,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:01,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:01,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:01,627 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:01,627 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:01,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:01,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   learning_rate: 0.03847826310814636
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:01,627 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   use_focal_loss: False
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   n_estimators: 139
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   subsample: 0.9029634435810079
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8644492537002094
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   reg_alpha: 1.8669869859858968e-05
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO -   reg_lambda: 1.3473548198935023e-08
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:01,628 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:01,628 - src.hyperparameter_tuning - ERROR - Trial 99 실패: Unknown type of parameter:focal_loss, got:dict
2025-06-24 09:35:01,629 - src.hyperparameter_tuning - INFO - 튜닝 완료 - 최고 성능: -inf
2025-06-24 09:35:01,629 - src.hyperparameter_tuning - INFO - 튜닝 시간: 3.48초
2025-06-24 09:35:01,633 - __main__ - INFO - 튜닝 결과 저장 중...
2025-06-24 09:35:01,633 - __main__ - ERROR - 결과 저장 실패: 'NoneType' object has no attribute 'copy'
2025-06-24 09:35:01,633 - __main__ - INFO - 최고 성능: -inf
2025-06-24 09:35:01,633 - __main__ - INFO - 최적 파라미터:
2025-06-24 09:35:01,633 - __main__ - INFO -   n_estimators: 406
2025-06-24 09:35:01,633 - __main__ - INFO -   max_depth: 12
2025-06-24 09:35:01,633 - __main__ - INFO -   learning_rate: 0.1205712628744377
2025-06-24 09:35:01,633 - __main__ - INFO -   subsample: 0.8394633936788146
2025-06-24 09:35:01,633 - __main__ - INFO -   colsample_bytree: 0.6624074561769746
2025-06-24 09:35:01,633 - __main__ - INFO -   min_child_weight: 2
2025-06-24 09:35:01,633 - __main__ - INFO -   reg_alpha: 3.3323645788192616e-08
2025-06-24 09:35:01,633 - __main__ - INFO -   reg_lambda: 0.6245760287469893

==================================================
튜닝 결과 요약
==================================================
모델 타입: lightgbm
실험 타입: hyperparameter_tuning
사용 데이터 행 수: 1,000
MLflow 링크: http://localhost:5000/#/experiments/765186397364671153/runs/71bab67ac23d44baad23cfe1b6e88f3f
최고 성능: -inf
최적 파라미터: {'n_estimators': 406, 'max_depth': 12, 'learning_rate': 0.1205712628744377, 'subsample': 0.8394633936788146, 'colsample_bytree': 0.6624074561769746, 'min_child_weight': 2, 'reg_alpha': 3.3323645788192616e-08, 'reg_lambda': 0.6245760287469893}
튜닝 시간: 3.4821338653564453
==================================================
2025-06-24 09:35:01,634 - __main__ - INFO - 실험 결과가 /home/junhyung/Documents/simcare/kbsmc_suicide/results/experiment_results_20250624_093501.txt에 저장되었습니다.
2025-06-24 09:35:01,634 - __main__ - INFO - MLflow Experiment ID: 765186397364671153
2025-06-24 09:35:01,634 - __main__ - INFO - MLflow Run ID: 71bab67ac23d44baad23cfe1b6e88f3f
2025-06-24 09:35:01,634 - __main__ - INFO - MLflow 링크: http://localhost:5000/#/experiments/765186397364671153/runs/71bab67ac23d44baad23cfe1b6e88f3f
2025-06-24 09:35:01,634 - __main__ - ERROR - 하이퍼파라미터 튜닝 실패: 'tuple' object has no attribute 'get'
