2025-06-24 09:35:35,115 - src.hyperparameter_tuning - INFO - MLflow 실험 설정: hyperparameter_tuning (ID: 765186397364671153)
2025-06-24 09:35:35,115 - src.hyperparameter_tuning - INFO - 데이터 로드 중: data/processed/processed_data_with_features.csv
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO - 테스트용 데이터 로드: 1,000 행
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO - 튜닝 설정 - 시도 횟수: 100, 타임아웃: 3600초
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO - 하이퍼파라미터 튜너 초기화 완료
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO -   - 튜닝 설정: {'data': {'file_path': 'data/processed_data.csv', 'encoding': 'utf-8', 'na_values': ['', 'nan', 'NaN', 'NULL', 'null']}, 'features': {'target_columns': ['suicide_a_next_year'], 'exclude_columns': ['id', 'patient_id', 'visit_date', 'visit_year'], 'categorical_columns': ['gender', 'marital_status', 'education_level', 'income_level', 'residence_type', 'insurance_type', 'primary_diagnosis', 'comorbidity', 'medication_type', 'treatment_type', 'follow_up_status'], 'selected_features': ['age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score'], 'validation': {'scope': 'sample', 'sample_size': 10}, 'enable_feature_engineering': False, 'enable_lagged_features': False, 'lag_periods': [1, 2, 3], 'lagged_features': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}, 'enable_rolling_stats': False, 'rolling_stats': {'window_sizes': [2, 3], 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}}, 'preprocessing': {'time_series_imputation': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp'], 'fallback_strategy': 'mean'}, 'numerical_imputation': {'strategy': 'mean', 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']}, 'categorical_imputation': {'strategy': 'most_frequent', 'columns': ['sex']}, 'categorical_encoding': {'method': 'ordinal'}, 'missing_value_strategy': 'median', 'outlier_detection': {'method': 'iqr', 'threshold': 1.5}, 'scaling': {'method': 'robust', 'with_mean': True, 'with_std': True}, 'feature_selection': {'method': 'variance_threshold', 'threshold': 0.01}}, 'data_split': {'test_ids_ratio': 0.15, 'random_state': 42, 'method': 'stratified_kfold', 'n_splits': 5, 'test_size': 0.2, 'val_size': 0.2}, 'validation': {'strategy': 'group_kfold', 'num_cv_folds': 3, 'test_size': 0.15, 'random_state': 42, 'val_ids_ratio': 0.15, 'validation_start_year': 2021, 'min_train_years': 3, 'max_train_years': 8}, 'time_series': {'date_column': 'dov', 'year_column': 'yov', 'id_column': 'id'}, 'evaluation': {'regression_metrics': ['mae', 'rmse', 'r2'], 'classification_metrics': ['precision', 'recall', 'f1', 'roc_auc', 'balanced_accuracy'], 'cv_metrics': ['accuracy', 'f1', 'auc', 'rmse', 'r2'], 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True, 'primary_metric': 'f1_score', 'secondary_metrics': ['recall', 'precision', 'balanced_accuracy', 'roc_auc'], 'cv': {'strategy': 'group_kfold', 'n_folds': 5, 'shuffle': False}}, 'training': {'early_stopping': True, 'patience': 10, 'handle_imbalance': True, 'save_best_model': True, 'model_save_path': 'models/'}, 'logging': {'log_splits_info': True, 'log_fold_details': True, 'level': 'INFO', 'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'file': 'logs/experiment.log'}, 'output': {'directory': 'results', 'save_model': True, 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True}, 'mlflow': {'experiment_name': 'hyperparameter_tuning', 'experiment_description': '자살 위험 예측 모델 실험', 'tags': ['suicide_prediction', 'healthcare', 'classification', 'regression'], 'nested_runs': True, 'save_artifacts': True, 'log_params': True, 'log_metrics': True, 'log_model': True, 'tracking': {'tracking_uri': 'file:./mlruns', 'experiment_name': 'suicide_prediction', 'nested_runs': True, 'artifact_location': './mlruns'}, 'logging': {'param_logging_level': 'INFO', 'metric_logging_level': 'INFO', 'artifact_logging_level': 'INFO', 'log_experiment_info': True, 'log_fold_results': True, 'log_model_info': True}, 'log_optimization': True}, 'model': {'model_type': 'lightgbm', 'lightgbm': {'num_leaves': 31, 'learning_rate': 0.1, 'feature_fraction': 0.9, 'bagging_fraction': 0.8, 'bagging_freq': 5, 'min_data_in_leaf': 20, 'min_sum_hessian_in_leaf': '1e-3', 'lambda_l1': 0.1, 'lambda_l2': 0.1, 'num_threads': 28, 'verbose': -1, 'early_stopping_rounds': 10, 'max_cat_threshold': 32, 'cat_smooth': 10.0, 'cat_l2': 10.0, 'is_unbalance': True, 'scale_pos_weight': 1.0, 'class_weight': 'balanced', 'boosting_type': 'gbdt', 'objective': 'binary', 'metric': 'binary_logloss', 'max_depth': 6, 'min_gain_to_split': 0.0, 'min_child_samples': 20, 'bagging_seed': 42, 'feature_fraction_seed': 42, 'drop_seed': 42, 'data_random_seed': 42, 'use_focal_loss': False, 'focal_loss': {'alpha': 0.25, 'gamma': 2.0}}}, 'imbalanced_data': {'resampling': {'enabled': False, 'method': 'smote', 'smote': {'k_neighbors': 5, 'sampling_strategy': 'auto'}, 'borderline_smote': {'k_neighbors': 5, 'sampling_strategy': 'auto', 'm_neighbors': 10}, 'adasyn': {'k_neighbors': 5, 'sampling_strategy': 'auto', 'n_neighbors': 5}, 'under_sampling': {'strategy': 'random', 'sampling_strategy': 'auto'}}, 'class_weight': 'balanced', 'scale_pos_weight': 1.0, 'is_unbalance': True}, 'experiment': {'name': 'hyperparameter_tuning_experiment', 'description': 'Optuna 기반 하이퍼파라미터 최적화 실험', 'tags': ['hyperparameter_tuning', 'optuna', 'optimization']}, 'tuning': {'direction': 'maximize', 'n_trials': 50, 'n_jobs': 1, 'early_stopping': {'enabled': True, 'patience': 20, 'min_trials': 30}}, 'sampler': {'type': 'tpe', 'tpe': {'n_startup_trials': 10, 'n_ei_candidates': 24, 'multivariate': True, 'group': False}, 'cmaes': {'x0': {'n_estimators': 100, 'max_depth': 6, 'learning_rate': 0.1, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 1, 'reg_alpha': 0.1, 'reg_lambda': 1.0}, 'sigma0': 0.1}}, 'xgboost_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 15, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'scale_pos_weight': {'type': 'float', 'low': 0.5, 'high': 10.0, 'log': True}}, 'lightgbm_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 12, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}}, 'catboost_params': {'iterations': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'depth': {'type': 'int', 'low': 3, 'high': 10, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'l2_leaf_reg': {'type': 'float', 'low': 1, 'high': 10, 'log': True}, 'border_count': {'type': 'int', 'low': 32, 'high': 255, 'log': False}, 'bagging_temperature': {'type': 'float', 'low': 0.1, 'high': 1.0, 'log': False}, 'random_strength': {'type': 'float', 'low': 0.1, 'high': 10.0, 'log': True}}, 'random_forest_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 20, 'log': False}, 'min_samples_split': {'type': 'int', 'low': 2, 'high': 20, 'log': False}, 'min_samples_leaf': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'max_features': {'type': 'categorical', 'choices': ['sqrt', 'log2', 'auto']}}, 'results': {'save_best_model': True, 'model_save_path': 'models/best_tuned_model.joblib', 'save_study': True, 'study_save_path': 'models/optuna_study.pkl', 'create_plots': True, 'plots_save_path': 'data/tuning_results/'}}
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO -   - 튜닝 횟수: 100
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO -   - 타임아웃: 3600초
2025-06-24 09:35:35,120 - __main__ - INFO - 하이퍼파라미터 최적화 실행 중...
2025-06-24 09:35:35,120 - src.hyperparameter_tuning - INFO - === 하이퍼파라미터 튜닝 시작 ===
2025-06-24 09:35:35,121 - src.hyperparameter_tuning - INFO - Trial 0: 모델 타입 = lightgbm
2025-06-24 09:35:35,125 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,126 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,126 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,126 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,126 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,126 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,127 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,127 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,127 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,128 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,128 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,128 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,128 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,128 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,128 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,128 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,128 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,128 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,129 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,129 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,129 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,129 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,134 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,136 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,136 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,136 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,136 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,136 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,136 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,136 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,138 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,140 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,140 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,140 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,140 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,140 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,140 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,140 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,140 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,140 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,141 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,141 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,142 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,142 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,142 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,143 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,143 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,143 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,143 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,143 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,143 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,143 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,143 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,144 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,145 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,146 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,146 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,146 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,146 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   learning_rate: 0.1205712628744377
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,146 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   n_estimators: 406
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   subsample: 0.8394633936788146
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6624074561769746
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   reg_alpha: 3.3323645788192616e-08
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO -   reg_lambda: 0.6245760287469893
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,147 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,158 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,159 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,159 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,159 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,159 - src.hyperparameter_tuning - ERROR - Trial 0 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,160 - src.hyperparameter_tuning - INFO - Trial 1: 모델 타입 = lightgbm
2025-06-24 09:35:35,165 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,166 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,166 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,166 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,166 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,166 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,166 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,166 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,166 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,166 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,166 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,166 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,166 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,166 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,166 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,166 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,166 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,167 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,168 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,168 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,168 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,168 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,173 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,175 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,175 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,175 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,175 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,175 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,175 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,175 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,177 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,179 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,179 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,179 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,179 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,179 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,179 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,179 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,179 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,180 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,180 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,180 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,181 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,181 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,181 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,181 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,181 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,181 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,181 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,181 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,181 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,181 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,182 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,183 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,184 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,184 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,184 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,184 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,184 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   learning_rate: 0.010725209743171997
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   n_estimators: 621
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   subsample: 0.9879639408647978
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9329770563201687
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   reg_alpha: 4.329370014459266e-07
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO -   reg_lambda: 4.4734294104626844e-07
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,185 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,188 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,188 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,188 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,188 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,188 - src.hyperparameter_tuning - ERROR - Trial 1 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,189 - src.hyperparameter_tuning - INFO - Trial 2: 모델 타입 = lightgbm
2025-06-24 09:35:35,193 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,193 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,194 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,194 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,194 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,194 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,194 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,194 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,194 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,194 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,194 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,194 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,194 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,194 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,194 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,194 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,194 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,194 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,195 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,195 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,195 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,195 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,199 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,201 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,201 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,201 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,201 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,201 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,201 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,201 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,203 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,204 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,204 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,205 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,205 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,205 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,205 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,205 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,205 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,206 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,206 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,206 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,207 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,207 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,207 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,207 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,207 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,207 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,207 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,207 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,208 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,209 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   learning_rate: 0.04345454109729477
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   n_estimators: 339
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   subsample: 0.7164916560792167
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8447411578889518
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   reg_alpha: 4.258943089524393e-06
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO -   reg_lambda: 1.9826980964985924e-05
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,210 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,213 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,213 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,213 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,213 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,213 - src.hyperparameter_tuning - ERROR - Trial 2 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,214 - src.hyperparameter_tuning - INFO - Trial 3: 모델 타입 = lightgbm
2025-06-24 09:35:35,218 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,219 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,219 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,219 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,219 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,219 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,219 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,219 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,219 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,220 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,220 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,220 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,220 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,220 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,220 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,220 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,220 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,220 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,221 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,221 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,221 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,221 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,224 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,226 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,226 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,226 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,226 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,226 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,226 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,226 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,228 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,230 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,230 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,230 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,230 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,230 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,230 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,230 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,230 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,230 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,230 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,231 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,231 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,231 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,231 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,231 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,232 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,232 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,232 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,232 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,232 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,232 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,232 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,235 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,235 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,235 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,235 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   learning_rate: 0.019721610970574007
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   n_estimators: 483
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   subsample: 0.8056937753654446
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.836965827544817
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0029369981104377003
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO -   reg_lambda: 3.425445902633376e-07
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,236 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,239 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,239 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,239 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,239 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,239 - src.hyperparameter_tuning - ERROR - Trial 3 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,240 - src.hyperparameter_tuning - INFO - Trial 4: 모델 타입 = lightgbm
2025-06-24 09:35:35,244 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,244 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,244 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,244 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,244 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,244 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,244 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,245 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,245 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,245 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,245 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,245 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,245 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,245 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,245 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,245 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,245 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,245 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,246 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,246 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,246 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,246 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,250 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,252 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,252 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,252 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,252 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,252 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,252 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,252 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,254 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,255 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,255 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,255 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,255 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,255 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,255 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,255 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,255 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,255 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,255 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,256 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,256 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,257 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,257 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,257 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,257 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,257 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,257 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,257 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,257 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,257 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,257 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,257 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,257 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,258 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,258 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,258 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,258 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,259 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,260 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,260 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,260 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,260 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   learning_rate: 0.26690431824362526
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   n_estimators: 111
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   subsample: 0.9233589392465844
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7218455076693483
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   reg_alpha: 0.014391207615728067
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO -   reg_lambda: 9.148975058772307e-05
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,261 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,264 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,264 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,264 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,264 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,264 - src.hyperparameter_tuning - ERROR - Trial 4 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,265 - src.hyperparameter_tuning - INFO - Trial 5: 모델 타입 = lightgbm
2025-06-24 09:35:35,269 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,269 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,269 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,269 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,269 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,269 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,269 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,269 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,270 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,270 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,270 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,270 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,270 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,270 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,270 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,270 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,270 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,270 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,271 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,271 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,271 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,271 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,275 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,276 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,276 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,276 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,277 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,277 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,277 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,277 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,278 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,280 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,280 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,280 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,280 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,280 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,280 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,280 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,280 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,280 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,280 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,281 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,281 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,281 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,282 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,282 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,282 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,282 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,282 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,282 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,282 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,282 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,282 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,285 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,285 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,285 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,285 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   learning_rate: 0.011240768803005551
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   n_estimators: 166
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   subsample: 0.9637281608315128
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7035119926400067
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   reg_alpha: 6.388511557344611e-06
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0004793052550782129
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,286 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,289 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,289 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,289 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,289 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,289 - src.hyperparameter_tuning - ERROR - Trial 5 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,290 - src.hyperparameter_tuning - INFO - Trial 6: 모델 타입 = lightgbm
2025-06-24 09:35:35,293 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,294 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,294 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,294 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,294 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,294 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,294 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,294 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,294 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,295 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,295 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,295 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,295 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,295 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,295 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,295 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,295 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,295 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,296 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,296 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,296 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,296 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,299 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,301 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,301 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,301 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,301 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,301 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,301 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,301 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,303 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,305 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,305 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,305 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,305 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,306 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,306 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,306 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,307 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,307 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,307 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,307 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,307 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,307 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,307 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,307 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,307 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,307 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,307 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,307 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,309 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   learning_rate: 0.27051668818999286
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   n_estimators: 569
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   subsample: 0.9100531293444458
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9757995766256756
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   reg_alpha: 0.002404915432737351
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO -   reg_lambda: 1.9809253750493907
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,310 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,313 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,313 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,313 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,313 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,313 - src.hyperparameter_tuning - ERROR - Trial 6 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,314 - src.hyperparameter_tuning - INFO - Trial 7: 모델 타입 = lightgbm
2025-06-24 09:35:35,318 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,319 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,319 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,319 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,319 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,319 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,319 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,319 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,319 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,319 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,319 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,319 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,319 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,319 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,319 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,319 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,319 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,319 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,320 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,320 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,320 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,320 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,324 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,325 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,326 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,326 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,326 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,326 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,326 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,326 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,327 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,329 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,329 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,329 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,329 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,329 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,329 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,330 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,330 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,330 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,330 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,330 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,331 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,331 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,331 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,331 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,331 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,331 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,331 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO -   learning_rate: 0.011662890273931383
2025-06-24 09:35:35,334 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   n_estimators: 134
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   subsample: 0.7301321323053057
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7554709158757928
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   reg_alpha: 0.28749982347407854
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO -   reg_lambda: 1.6247252885719427e-05
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,335 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,337 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,337 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,337 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,337 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,338 - src.hyperparameter_tuning - ERROR - Trial 7 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,338 - src.hyperparameter_tuning - INFO - Trial 8: 모델 타입 = lightgbm
2025-06-24 09:35:35,342 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,343 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,343 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,343 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,343 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,343 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,343 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,343 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,343 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,343 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,343 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,343 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,343 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,343 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,343 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,343 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,343 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,343 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,344 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,344 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,344 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,344 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,347 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,349 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,349 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,349 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,349 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,349 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,349 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,349 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,351 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,353 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,353 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,353 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,353 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,353 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,353 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,353 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,353 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,353 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,353 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,354 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,354 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,354 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,354 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,354 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,355 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,355 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,355 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,355 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,355 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,355 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,355 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,355 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,356 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,358 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,358 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,358 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,358 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   learning_rate: 0.016149614799999188
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,358 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   n_estimators: 317
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   subsample: 0.9208787923016158
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6298202574719083
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   reg_alpha: 0.08916674715636537
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO -   reg_lambda: 6.143857495033091e-07
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,359 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,361 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,362 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,362 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,362 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,362 - src.hyperparameter_tuning - ERROR - Trial 8 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,363 - src.hyperparameter_tuning - INFO - Trial 9: 모델 타입 = lightgbm
2025-06-24 09:35:35,367 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,367 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,367 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,367 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,367 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,367 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,367 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,367 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,368 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,368 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,368 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,368 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,368 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,368 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,368 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,368 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,368 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,368 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,369 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,369 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,369 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,369 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,373 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,375 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,375 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,375 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,375 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,375 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,375 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,375 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,377 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,379 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,379 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,379 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,379 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,379 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,380 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,380 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,381 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,381 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,381 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,382 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,382 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,382 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,382 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,382 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,382 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,382 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,384 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   learning_rate: 0.11069143219393454
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   n_estimators: 55
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   subsample: 0.8916028672163949
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9085081386743783
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   reg_alpha: 1.683416412018213e-05
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1036250149900698e-07
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,385 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,388 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,388 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,388 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,388 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,388 - src.hyperparameter_tuning - ERROR - Trial 9 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,401 - src.hyperparameter_tuning - INFO - Trial 10: 모델 타입 = lightgbm
2025-06-24 09:35:35,404 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,405 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,405 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,405 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,405 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,405 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,405 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,405 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,405 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,406 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,406 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,406 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,406 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,406 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,406 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,406 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,406 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,406 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,407 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,407 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,407 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,407 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,411 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,413 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,413 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,413 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,413 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,413 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,413 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,413 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,415 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,417 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,417 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,417 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,417 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,417 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,417 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,417 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,417 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,417 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,417 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,418 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,418 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,418 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,418 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,418 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,419 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,419 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,419 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,419 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,419 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,419 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,419 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,419 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,419 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,420 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,421 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,422 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,422 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,422 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   learning_rate: 0.09315744902122479
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   n_estimators: 901
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   subsample: 0.6071847502459278
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6061470949312417
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   reg_alpha: 1.3686680646913267e-08
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO -   reg_lambda: 6.099006535330825
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,423 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,427 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,427 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,427 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,427 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,427 - src.hyperparameter_tuning - ERROR - Trial 10 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,439 - src.hyperparameter_tuning - INFO - Trial 11: 모델 타입 = lightgbm
2025-06-24 09:35:35,443 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,443 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,443 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,443 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,443 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,443 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,443 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,443 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,443 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,444 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,444 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,444 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,444 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,444 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,444 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,444 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,444 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,444 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,445 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,445 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,445 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,445 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,449 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,451 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,451 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,451 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,451 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,451 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,451 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,451 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,453 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,454 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,454 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,455 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,455 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,455 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,456 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,456 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,456 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,457 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,457 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,457 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,457 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,457 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,457 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,457 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,457 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,460 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,460 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   learning_rate: 0.037348440879763224
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,460 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   n_estimators: 705
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   subsample: 0.8275682686623269
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9801238964661396
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   reg_alpha: 2.0076751494057687e-08
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO -   reg_lambda: 0.050437107744728454
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,461 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,463 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,463 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,463 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,463 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,463 - src.hyperparameter_tuning - ERROR - Trial 11 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,476 - src.hyperparameter_tuning - INFO - Trial 12: 모델 타입 = lightgbm
2025-06-24 09:35:35,479 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,480 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,480 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,480 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,480 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,480 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,480 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,480 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,480 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,480 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,480 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,480 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,480 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,480 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,480 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,481 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,481 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,482 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,482 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,482 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,482 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,482 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,482 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,485 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,487 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,487 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,487 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,487 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,487 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,487 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,487 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,489 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,491 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,491 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,491 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,491 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,491 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,491 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,491 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,491 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,492 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,492 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,492 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,493 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,493 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,493 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,493 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,493 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,493 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,493 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,493 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,494 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,495 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,496 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,496 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,496 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,496 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   learning_rate: 0.11614923191803554
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   n_estimators: 706
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   subsample: 0.9831484441888799
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.902800604671404
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   reg_alpha: 5.997698489764049e-07
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO -   reg_lambda: 0.012341345845574371
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,497 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,500 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,500 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,500 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,500 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,500 - src.hyperparameter_tuning - ERROR - Trial 12 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,512 - src.hyperparameter_tuning - INFO - Trial 13: 모델 타입 = lightgbm
2025-06-24 09:35:35,516 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,516 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,516 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,516 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,516 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,516 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,516 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,516 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,516 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,517 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,517 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,517 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,517 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,517 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,517 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,517 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,517 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,517 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,518 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,518 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,518 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,518 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,521 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,523 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,523 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,523 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,523 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,523 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,523 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,523 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,525 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,527 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,527 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,527 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,527 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,527 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,527 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,527 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,527 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,527 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,527 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,528 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,528 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,529 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,529 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,529 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,529 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,529 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,529 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,529 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,529 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,529 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,529 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,530 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,530 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,530 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,530 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,530 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,530 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,531 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,532 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,532 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,532 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,532 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   learning_rate: 0.07369477793265464
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   n_estimators: 493
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   subsample: 0.8579178144028043
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6684815593910434
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   reg_alpha: 9.86874546485378
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1101875524587999e-08
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,533 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,536 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,536 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,536 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,536 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,536 - src.hyperparameter_tuning - ERROR - Trial 13 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,548 - src.hyperparameter_tuning - INFO - Trial 14: 모델 타입 = lightgbm
2025-06-24 09:35:35,551 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,552 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,552 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,552 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,552 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,552 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,552 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,552 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,552 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,553 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,553 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,553 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,553 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,553 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,553 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,553 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,553 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,553 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,554 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,554 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,554 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,554 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,557 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,559 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,559 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,559 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,559 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,559 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,559 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,559 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,561 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,563 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,563 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,563 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,563 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,563 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,563 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,563 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,563 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,563 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,563 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,564 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,564 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,564 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,564 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,564 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,565 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,565 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,565 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,565 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,565 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,565 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,565 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,565 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,565 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,566 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,567 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,568 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,568 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,568 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,568 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,568 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   learning_rate: 0.17646596150449262
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   n_estimators: 702
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   subsample: 0.7376022736475862
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8046295483602256
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   reg_alpha: 2.3549110805943098e-07
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO -   reg_lambda: 0.06760969294969883
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,569 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,572 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,572 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,572 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,572 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,572 - src.hyperparameter_tuning - ERROR - Trial 14 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,584 - src.hyperparameter_tuning - INFO - Trial 15: 모델 타입 = lightgbm
2025-06-24 09:35:35,587 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,588 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,588 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,588 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,588 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,588 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,588 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,588 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,588 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,588 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,588 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,588 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,588 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,588 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,588 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,588 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,589 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,589 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,589 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,589 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,589 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,589 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,590 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,590 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,590 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,590 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,590 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,590 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,593 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,595 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,595 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,595 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,595 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,595 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,595 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,595 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,597 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,599 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,599 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,599 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,599 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,599 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,599 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,599 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,599 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,600 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,600 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,600 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,600 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,600 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,601 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,601 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,601 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,601 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,601 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,601 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,601 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,601 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,601 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,601 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,602 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,603 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,604 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,604 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,604 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,604 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,604 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   learning_rate: 0.026752568195150317
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,604 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   n_estimators: 997
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   subsample: 0.9967544619046032
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.896461276471979
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   reg_alpha: 8.925905274192813e-05
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0009166238280651257
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,605 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,608 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,608 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,608 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,608 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,608 - src.hyperparameter_tuning - ERROR - Trial 15 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,620 - src.hyperparameter_tuning - INFO - Trial 16: 모델 타입 = lightgbm
2025-06-24 09:35:35,623 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,624 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,624 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,624 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,624 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,624 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,624 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,624 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,624 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,624 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,624 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,625 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,625 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,625 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,625 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,625 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,625 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,625 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,625 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,626 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,626 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,626 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,626 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,629 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,631 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,631 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,631 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,631 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,631 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,631 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,631 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,633 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,635 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,635 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,635 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,635 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,635 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,635 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,636 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,636 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,636 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,636 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,636 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,637 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,637 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,637 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,637 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,637 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,637 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,637 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,637 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,637 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,638 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,640 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,640 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,640 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,640 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   learning_rate: 0.06988639938760517
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   n_estimators: 347
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   subsample: 0.769221734655711
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7657244060744415
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   reg_alpha: 2.9167530407966635e-07
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO -   reg_lambda: 0.4030789571311193
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,641 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,644 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,644 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,644 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,644 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,644 - src.hyperparameter_tuning - ERROR - Trial 16 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,656 - src.hyperparameter_tuning - INFO - Trial 17: 모델 타입 = lightgbm
2025-06-24 09:35:35,659 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,660 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,660 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,660 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,660 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,660 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,660 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,660 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,660 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,661 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,661 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,661 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,661 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,661 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,661 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,661 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,661 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,661 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,662 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,662 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,662 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,662 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,665 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,667 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,667 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,667 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,667 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,667 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,667 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,667 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,669 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,671 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,671 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,671 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,671 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,671 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,671 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,671 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,671 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,671 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,671 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,672 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,672 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,673 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,673 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,673 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,673 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,673 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,673 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,673 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,673 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,673 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,673 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,674 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,674 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,674 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,674 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,674 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,674 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,675 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,676 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,676 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,676 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,676 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   learning_rate: 0.15526074257939743
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   n_estimators: 600
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   subsample: 0.6732132011401761
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6721524828008189
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   reg_alpha: 9.14459959766754e-08
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO -   reg_lambda: 0.004840492100137957
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,677 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,680 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,680 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,680 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,680 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,680 - src.hyperparameter_tuning - ERROR - Trial 17 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,692 - src.hyperparameter_tuning - INFO - Trial 18: 모델 타입 = lightgbm
2025-06-24 09:35:35,696 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,696 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,696 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,696 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,696 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,696 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,696 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,696 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,696 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,697 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,697 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,697 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,697 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,697 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,697 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,697 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,697 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,697 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,698 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,698 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,698 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,698 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,702 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,704 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,704 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,704 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,704 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,704 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,704 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,704 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,706 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,707 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,707 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,708 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,708 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,708 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,708 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,708 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,708 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,709 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,709 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,709 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,710 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,710 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,710 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,710 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,710 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,710 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,710 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,710 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,710 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,710 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,710 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,711 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,712 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,713 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,713 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   learning_rate: 0.05533525328002605
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   n_estimators: 416
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   subsample: 0.8551318001092548
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9338003283396146
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,713 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00011115273434769104
2025-06-24 09:35:35,714 - src.models.lightgbm_model - INFO -   reg_lambda: 2.6037259691414086e-06
2025-06-24 09:35:35,714 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,714 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,714 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,716 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,716 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,716 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,716 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,716 - src.hyperparameter_tuning - ERROR - Trial 18 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,728 - src.hyperparameter_tuning - INFO - Trial 19: 모델 타입 = lightgbm
2025-06-24 09:35:35,732 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,732 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,732 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,732 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,732 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,732 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,732 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,732 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,732 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,733 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,733 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,733 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,733 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,733 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,733 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,733 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,733 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,733 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,734 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,734 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,734 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,734 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,737 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,739 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,739 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,739 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,739 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,739 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,740 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,740 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,741 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,743 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,743 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,743 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,743 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,743 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,743 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,743 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,743 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,743 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,743 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,744 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,744 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,745 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,745 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,745 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,745 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,745 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,745 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,745 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,746 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,746 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,746 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,746 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,747 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,748 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,748 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,748 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,748 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   learning_rate: 0.02877361180532123
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   n_estimators: 835
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   subsample: 0.9423652436238517
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8416634198004798
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   reg_alpha: 2.4662900352851794e-06
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO -   reg_lambda: 4.7203867760430046e-08
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,749 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,752 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,752 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,752 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,752 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,752 - src.hyperparameter_tuning - ERROR - Trial 19 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,764 - src.hyperparameter_tuning - INFO - Trial 20: 모델 타입 = lightgbm
2025-06-24 09:35:35,767 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,768 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,768 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,768 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,768 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,768 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,768 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,768 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,768 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,769 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,769 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,769 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,769 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,769 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,769 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,769 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,769 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,769 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,770 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,770 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,770 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,770 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,773 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,775 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,775 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,775 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,775 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,775 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,775 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,775 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,777 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,779 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,779 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,779 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,779 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,779 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,779 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,779 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,779 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,779 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,779 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,780 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,780 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,780 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,780 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,780 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,781 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,781 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,781 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,781 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,781 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,781 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,781 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,781 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,781 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,783 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,784 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,784 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,784 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,784 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,784 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   learning_rate: 0.16522729299476813
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   n_estimators: 224
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   subsample: 0.87408467479411
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7727431143998708
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1069451775532163e-08
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO -   reg_lambda: 5.845016122261629e-06
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,785 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,788 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,788 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,788 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,788 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,788 - src.hyperparameter_tuning - ERROR - Trial 20 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,801 - src.hyperparameter_tuning - INFO - Trial 21: 모델 타입 = lightgbm
2025-06-24 09:35:35,804 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,804 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,805 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,805 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,805 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,805 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,805 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,805 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,805 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,805 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,805 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,805 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,805 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,805 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,805 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,805 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,805 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,805 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,806 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,806 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,806 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,806 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,810 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,812 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,812 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,812 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,812 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,812 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,812 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,812 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,814 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,816 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,816 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,816 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,816 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,816 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,816 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,816 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,816 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,817 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,817 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,817 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,818 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,818 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,818 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,818 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,818 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,818 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,818 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,818 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,818 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,819 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,821 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,821 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   learning_rate: 0.04529483298639887
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,821 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   n_estimators: 316
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   subsample: 0.6975620050707811
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8503251588841235
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   reg_alpha: 9.844852091987153e-07
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO -   reg_lambda: 4.797440969544924e-05
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,822 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,824 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,824 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,824 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,824 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,824 - src.hyperparameter_tuning - ERROR - Trial 21 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,837 - src.hyperparameter_tuning - INFO - Trial 22: 모델 타입 = lightgbm
2025-06-24 09:35:35,840 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,841 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,841 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,841 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,841 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,841 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,841 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,841 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,841 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,842 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,842 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,842 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,842 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,842 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,842 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,842 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,842 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,842 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,843 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,843 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,843 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,843 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,846 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,848 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,848 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,848 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,848 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,848 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,848 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,848 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,850 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,852 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,852 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,852 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,852 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,852 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,852 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,853 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,853 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,853 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,854 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,854 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,854 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,854 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,854 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,854 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,854 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,854 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,854 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,854 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,857 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,857 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,857 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   learning_rate: 0.015410150189628657
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   n_estimators: 411
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   subsample: 0.6452606057786048
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8738445964974808
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1485400190421731e-05
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO -   reg_lambda: 1.5162743738503278e-06
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,858 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,861 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,861 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,861 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,861 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,861 - src.hyperparameter_tuning - ERROR - Trial 22 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,874 - src.hyperparameter_tuning - INFO - Trial 23: 모델 타입 = lightgbm
2025-06-24 09:35:35,877 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,878 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,878 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,878 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,878 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,878 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,878 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,878 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,878 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,878 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,878 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,878 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,878 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,878 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,878 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,878 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,879 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,880 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,880 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,880 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,880 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,883 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,885 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,885 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,885 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,885 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,885 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,885 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,885 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,887 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,889 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,889 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,889 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,889 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,889 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,889 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,889 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,889 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,889 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,889 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,890 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,890 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,890 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,890 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,890 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,891 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,891 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,891 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,891 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,891 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,891 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,891 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,892 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,893 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,894 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO -   learning_rate: 0.02960427890913426
2025-06-24 09:35:35,894 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   n_estimators: 240
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   subsample: 0.7742544913880576
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9449923596722283
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   reg_alpha: 6.189776343666531e-08
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO -   reg_lambda: 2.0050009913357152e-05
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,895 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,897 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,897 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,897 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,897 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,897 - src.hyperparameter_tuning - ERROR - Trial 23 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,910 - src.hyperparameter_tuning - INFO - Trial 24: 모델 타입 = lightgbm
2025-06-24 09:35:35,914 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,914 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,914 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,914 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,914 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,914 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,914 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,914 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,914 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,915 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,915 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,915 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,915 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,915 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,915 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,915 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,915 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,915 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,916 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,916 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,916 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,916 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,919 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,921 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,921 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,922 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,922 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,922 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,922 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,922 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,924 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,925 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,925 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,925 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,925 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,925 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,926 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,926 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,926 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,927 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,927 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,927 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,928 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,928 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,928 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,928 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,928 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,928 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,928 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,928 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,930 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   learning_rate: 0.052772641594485394
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   n_estimators: 585
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   subsample: 0.709790030543809
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7956578586822305
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   reg_alpha: 2.8089508266239516e-05
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00016743745517347003
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,931 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,934 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,934 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,934 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,934 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,934 - src.hyperparameter_tuning - ERROR - Trial 24 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,947 - src.hyperparameter_tuning - INFO - Trial 25: 모델 타입 = lightgbm
2025-06-24 09:35:35,950 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,951 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,951 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,951 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,951 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,951 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,951 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,951 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,951 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,952 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,952 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,952 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,952 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,952 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,952 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,952 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,952 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,952 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,953 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,953 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,953 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,953 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,956 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,958 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,958 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,958 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,958 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,958 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,958 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,958 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,960 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,962 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,962 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,962 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,962 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,962 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,962 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,962 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:35,962 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:35,962 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,962 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,963 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:35,963 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,963 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,963 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:35,963 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:35,964 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:35,964 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:35,964 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:35,964 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:35,964 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:35,964 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:35,964 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:35,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:35,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,965 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:35,966 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:35,967 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,967 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:35,967 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:35,967 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:35,967 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:35,967 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   learning_rate: 0.02043311211274545
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   n_estimators: 410
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   subsample: 0.765836702637975
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9367310980059825
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   reg_alpha: 2.467723761283515e-06
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0025526354515177084
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:35,968 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:35,970 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:35,970 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:35,970 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:35,970 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:35,971 - src.hyperparameter_tuning - ERROR - Trial 25 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:35,984 - src.hyperparameter_tuning - INFO - Trial 26: 모델 타입 = lightgbm
2025-06-24 09:35:35,987 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:35,988 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:35,988 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:35,988 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:35,988 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:35,988 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:35,988 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:35,988 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:35,988 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:35,989 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:35,989 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:35,989 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:35,989 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:35,989 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:35,989 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:35,989 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:35,989 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:35,989 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:35,990 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:35,990 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:35,990 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:35,990 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:35,993 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:35,995 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,995 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:35,995 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:35,996 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:35,996 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:35,996 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:35,996 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:35,998 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:35,999 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:35,999 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,999 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,999 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:35,999 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:35,999 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,000 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,000 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,000 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,001 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,001 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,001 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,002 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,002 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,002 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,002 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,002 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,002 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,002 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,004 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,005 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   learning_rate: 0.21063894305336445
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   n_estimators: 656
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   subsample: 0.822656444358238
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8094408985463093
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0005539202839193388
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO -   reg_lambda: 6.440889140440102e-06
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,005 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,008 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,008 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,008 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,008 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,008 - src.hyperparameter_tuning - ERROR - Trial 26 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,022 - src.hyperparameter_tuning - INFO - Trial 27: 모델 타입 = lightgbm
2025-06-24 09:35:36,025 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,026 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,026 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,026 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,026 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,026 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,026 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,026 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,026 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,027 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,027 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,027 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,027 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,027 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,027 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,027 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,027 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,027 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,028 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,028 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,028 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,028 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,031 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,033 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,033 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,033 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,034 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,034 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,034 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,034 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,035 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,037 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,037 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,037 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,037 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,037 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,037 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,037 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,037 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,037 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,037 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,038 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,038 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,039 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,039 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,039 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,040 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,040 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,040 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,040 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,040 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,040 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,040 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,040 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,040 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,040 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,040 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,040 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,041 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,042 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,043 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,043 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   learning_rate: 0.0804852149570703
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   n_estimators: 483
2025-06-24 09:35:36,043 - src.models.lightgbm_model - INFO -   subsample: 0.6346522194487378
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9964125388085947
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO -   reg_alpha: 8.253969505781612e-08
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO -   reg_lambda: 1.119023035815797e-07
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,044 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,046 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,046 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,046 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,046 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,046 - src.hyperparameter_tuning - ERROR - Trial 27 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,060 - src.hyperparameter_tuning - INFO - Trial 28: 모델 타입 = lightgbm
2025-06-24 09:35:36,063 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,064 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,064 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,064 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,064 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,064 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,064 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,064 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,064 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,065 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,065 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,065 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,065 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,065 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,065 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,065 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,065 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,065 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,066 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,066 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,066 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,066 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,069 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,071 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,071 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,071 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,072 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,072 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,072 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,072 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,074 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,076 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,076 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,076 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,076 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,076 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,076 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,076 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,076 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,077 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,077 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,077 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,078 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,078 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,078 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,078 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,078 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,078 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,078 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,078 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,079 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,080 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,081 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,081 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,081 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,081 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,081 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   learning_rate: 0.12404094717085312
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   n_estimators: 782
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   subsample: 0.6724055367984789
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8740038680959015
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   reg_alpha: 1.0343558782044228e-06
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO -   reg_lambda: 0.33132712190213737
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,082 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,085 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,085 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,085 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,085 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,085 - src.hyperparameter_tuning - ERROR - Trial 28 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,098 - src.hyperparameter_tuning - INFO - Trial 29: 모델 타입 = lightgbm
2025-06-24 09:35:36,102 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,102 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,102 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,102 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,102 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,102 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,102 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,102 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,102 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,103 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,103 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,103 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,103 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,103 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,103 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,103 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,103 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,103 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,104 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,104 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,104 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,104 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,108 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,110 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,110 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,110 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,110 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,110 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,110 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,110 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,112 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,114 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,114 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,114 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,114 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,114 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,114 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,114 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,114 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,114 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,114 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,115 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,115 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,115 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,115 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,115 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,116 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,116 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,116 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,116 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,116 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,116 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,116 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,119 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,119 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,119 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,119 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,119 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,119 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   learning_rate: 0.021604981364913005
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   n_estimators: 515
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   subsample: 0.7969902083314745
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7309448291222742
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   reg_alpha: 4.867051057937844e-08
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO -   reg_lambda: 3.374072614356822e-07
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,120 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,122 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,122 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,122 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,122 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,122 - src.hyperparameter_tuning - ERROR - Trial 29 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,136 - src.hyperparameter_tuning - INFO - Trial 30: 모델 타입 = lightgbm
2025-06-24 09:35:36,140 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,140 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,140 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,140 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,140 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,140 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,140 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,140 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,140 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,141 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,141 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,141 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,141 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,141 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,141 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,141 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,141 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,141 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,142 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,142 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,142 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,142 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,146 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,148 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,148 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,148 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,148 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,148 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,148 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,148 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,150 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,152 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,152 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,152 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,152 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,152 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,152 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,152 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,152 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,153 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,153 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,153 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,154 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,154 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,154 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,154 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,154 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,154 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,154 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,154 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,154 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,154 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,154 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,155 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,156 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,157 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,157 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,157 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,157 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,157 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   learning_rate: 0.04035286091031472
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   n_estimators: 457
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   subsample: 0.8044792631641183
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8696839799381978
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   reg_alpha: 2.938419320810259e-06
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO -   reg_lambda: 1.474108753561657e-08
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,158 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,160 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,160 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,160 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,160 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,160 - src.hyperparameter_tuning - ERROR - Trial 30 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,174 - src.hyperparameter_tuning - INFO - Trial 31: 모델 타입 = lightgbm
2025-06-24 09:35:36,178 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,179 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,179 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,179 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,179 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,179 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,179 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,179 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,179 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,180 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,180 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,180 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,180 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,180 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,180 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,180 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,180 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,180 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,181 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,181 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,181 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,181 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,184 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,186 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,186 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,186 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,186 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,186 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,186 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,186 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,188 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,190 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,190 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,190 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,190 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,190 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,190 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,190 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,190 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,190 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,190 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,191 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,191 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,191 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,192 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,192 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,192 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,192 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,192 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,192 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,192 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,192 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,192 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,192 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,193 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,193 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,193 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,193 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,193 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,194 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,195 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,196 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   learning_rate: 0.013637410036364993
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   n_estimators: 358
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   subsample: 0.8349337395484048
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.831861212497879
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   reg_alpha: 0.001834620070516215
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO -   reg_lambda: 6.362585398085402e-07
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,196 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,199 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,199 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,199 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,199 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,199 - src.hyperparameter_tuning - ERROR - Trial 31 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,213 - src.hyperparameter_tuning - INFO - Trial 32: 모델 타입 = lightgbm
2025-06-24 09:35:36,217 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,217 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,217 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,217 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,217 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,217 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,217 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,217 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,217 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,218 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,218 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,218 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,218 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,218 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,218 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,218 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,218 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,218 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,219 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,219 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,219 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,219 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,222 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,225 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,225 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,225 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,225 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,225 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,225 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,225 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,227 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,229 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,229 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,229 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,229 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,229 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,229 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,229 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,229 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,230 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,230 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,230 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,230 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,231 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,231 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,231 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,231 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,231 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,231 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,231 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO -   learning_rate: 0.010358238324974577
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,234 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   n_estimators: 269
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   subsample: 0.9392065580983905
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7242608165537173
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   reg_alpha: 0.07671535159777253
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO -   reg_lambda: 9.281031668514603e-05
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,235 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,237 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,237 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,237 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,237 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,237 - src.hyperparameter_tuning - ERROR - Trial 32 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,252 - src.hyperparameter_tuning - INFO - Trial 33: 모델 타입 = lightgbm
2025-06-24 09:35:36,255 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,256 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,256 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,256 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,256 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,256 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,256 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,256 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,256 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,257 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,257 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,257 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,257 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,257 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,257 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,257 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,257 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,257 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,258 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,258 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,258 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,258 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,261 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,263 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,263 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,263 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,263 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,263 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,263 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,263 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,265 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,267 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,267 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,267 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,267 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,267 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,267 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,268 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,268 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,268 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,268 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,268 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,269 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,269 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,269 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,269 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,269 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,269 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,269 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,272 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,272 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,272 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,272 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   learning_rate: 0.018528024944816653
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   n_estimators: 585
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   subsample: 0.7403423161145642
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.694494095260054
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   reg_alpha: 0.009311170494905974
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO -   reg_lambda: 1.439483740775924e-07
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,273 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,275 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,276 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,276 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,276 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,276 - src.hyperparameter_tuning - ERROR - Trial 33 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,289 - src.hyperparameter_tuning - INFO - Trial 34: 모델 타입 = lightgbm
2025-06-24 09:35:36,293 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,294 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,294 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,294 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,294 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,294 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,294 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,294 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,294 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,294 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,294 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,294 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,294 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,294 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,294 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,294 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,294 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,294 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,295 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,295 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,295 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,295 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,299 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,301 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,301 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,301 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,301 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,301 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,301 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,301 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,303 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,305 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,305 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,305 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,305 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,305 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,305 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,305 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,306 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,306 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,306 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,306 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,306 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,307 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,307 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,307 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,307 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,307 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,307 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,307 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,307 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,307 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,307 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,308 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,308 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,308 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,309 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,310 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,310 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,310 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   learning_rate: 0.012603140096888722
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   n_estimators: 537
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   subsample: 0.887059385340847
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.814690263795279
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0007257356330429975
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0006511272157627004
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,311 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,314 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,314 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,314 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,314 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,314 - src.hyperparameter_tuning - ERROR - Trial 34 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,327 - src.hyperparameter_tuning - INFO - Trial 35: 모델 타입 = lightgbm
2025-06-24 09:35:36,331 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,331 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,331 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,331 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,331 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,331 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,331 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,331 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,331 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,332 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,332 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,332 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,332 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,332 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,332 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,332 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,332 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,332 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,333 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,333 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,333 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,333 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,337 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,339 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,339 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,339 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,339 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,339 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,339 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,339 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,341 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,343 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,343 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,343 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,343 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,343 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,343 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,343 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,343 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,343 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,343 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,344 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,344 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,344 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,344 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,344 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,345 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,345 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,345 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,345 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,345 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,345 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,345 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,348 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,348 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,348 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,348 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,348 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   learning_rate: 0.010078636987766579
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   n_estimators: 207
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   subsample: 0.9593052727074797
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9586658642491094
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   reg_alpha: 4.2693203841762886e-05
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO -   reg_lambda: 2.556230835595068e-05
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,349 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,351 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,351 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,351 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,351 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,351 - src.hyperparameter_tuning - ERROR - Trial 35 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,365 - src.hyperparameter_tuning - INFO - Trial 36: 모델 타입 = lightgbm
2025-06-24 09:35:36,369 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,369 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,369 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,369 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,369 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,369 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,369 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,369 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,370 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,370 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,370 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,370 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,370 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,370 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,370 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,370 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,370 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,370 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,371 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,371 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,371 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,371 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,375 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,377 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,377 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,377 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,377 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,377 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,377 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,377 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,379 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,381 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,381 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,381 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,381 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,381 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,381 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,381 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,381 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,381 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,381 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,382 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,382 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,382 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,383 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,383 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,383 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,383 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,383 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,383 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,383 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,383 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,383 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,385 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,386 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,386 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,386 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,386 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,386 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   learning_rate: 0.02487519724197392
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   n_estimators: 638
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   subsample: 0.7985560215507382
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7512759811523114
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   reg_alpha: 0.024900590270190155
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO -   reg_lambda: 1.8961556446893008e-06
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,387 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,389 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,389 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,389 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,389 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,389 - src.hyperparameter_tuning - ERROR - Trial 36 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,403 - src.hyperparameter_tuning - INFO - Trial 37: 모델 타입 = lightgbm
2025-06-24 09:35:36,407 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,408 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,408 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,408 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,408 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,408 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,408 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,408 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,408 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,408 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,408 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,408 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,408 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,409 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,409 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,409 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,409 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,409 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,409 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,410 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,410 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,410 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,410 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,413 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,415 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,415 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,415 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,415 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,415 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,415 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,415 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,417 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,419 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,419 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,419 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,419 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,419 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,419 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,419 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,420 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,420 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,421 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,421 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,421 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,421 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,421 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,421 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,422 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,422 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,422 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,422 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,422 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,423 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,424 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,425 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,425 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,425 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,425 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   learning_rate: 0.01569833488957703
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,425 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   n_estimators: 283
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   subsample: 0.7125680491414248
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.784145332591274
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   reg_alpha: 0.766447656094571
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO -   reg_lambda: 6.133310095468243e-06
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,426 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,428 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,428 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,428 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,428 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,428 - src.hyperparameter_tuning - ERROR - Trial 37 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,442 - src.hyperparameter_tuning - INFO - Trial 38: 모델 타입 = lightgbm
2025-06-24 09:35:36,446 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,446 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,446 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,446 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,446 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,446 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,446 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,446 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,446 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,447 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,447 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,447 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,447 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,447 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,447 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,447 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,447 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,447 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,448 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,448 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,448 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,448 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,451 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,453 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,454 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,454 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,454 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,454 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,454 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,454 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,456 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,457 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,458 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,458 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,458 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,458 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,458 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,458 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,458 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,459 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,459 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,459 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,460 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,460 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,460 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,460 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,460 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,460 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,460 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,460 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,461 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,462 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,463 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,463 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,463 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,463 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,463 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   learning_rate: 0.032767807118294565
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   n_estimators: 150
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   subsample: 0.9178842372107386
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8277442294773829
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0037264473202334634
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO -   reg_lambda: 4.218833317145971e-08
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,464 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,466 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,466 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,466 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,466 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,466 - src.hyperparameter_tuning - ERROR - Trial 38 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,481 - src.hyperparameter_tuning - INFO - Trial 39: 모델 타입 = lightgbm
2025-06-24 09:35:36,484 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,485 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,485 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,485 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,485 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,485 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,485 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,485 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,485 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,486 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,486 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,486 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,486 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,486 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,486 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,486 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,486 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,486 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,487 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,487 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,487 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,487 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,490 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,493 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,493 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,493 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,493 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,493 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,493 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,493 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,495 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,497 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,497 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,497 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,497 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,497 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,497 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,497 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,497 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,497 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,497 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,498 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,498 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,499 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,499 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,499 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,499 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,500 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,500 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,500 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,500 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,500 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,500 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,500 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,500 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,501 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,503 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,503 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,503 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,503 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,503 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   learning_rate: 0.246113868759451
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   n_estimators: 376
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   subsample: 0.7569340813632006
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9165276790317524
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   reg_alpha: 3.2547826967952095e-07
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO -   reg_lambda: 9.914717715029425
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,504 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,507 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,507 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,507 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,507 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,507 - src.hyperparameter_tuning - ERROR - Trial 39 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,521 - src.hyperparameter_tuning - INFO - Trial 40: 모델 타입 = lightgbm
2025-06-24 09:35:36,525 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,526 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,526 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,526 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,526 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,526 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,526 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,526 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,526 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,527 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,527 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,527 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,527 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,527 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,527 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,527 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,527 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,527 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,528 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,528 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,528 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,528 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,531 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,533 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,533 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,533 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,534 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,534 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,534 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,534 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,536 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,537 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,537 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,537 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,537 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,537 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,537 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,537 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,538 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,538 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,538 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,539 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,539 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,539 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,540 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,540 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,540 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,540 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,540 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,540 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,540 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,540 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,540 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,540 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,540 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,540 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,543 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,543 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   learning_rate: 0.2986164631467998
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,543 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   n_estimators: 446
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   subsample: 0.8551720469993793
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6327085885569078
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   reg_alpha: 7.703681668328675e-06
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO -   reg_lambda: 6.634521545517012e-07
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,544 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,546 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,546 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,546 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,546 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,546 - src.hyperparameter_tuning - ERROR - Trial 40 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,561 - src.hyperparameter_tuning - INFO - Trial 41: 모델 타입 = lightgbm
2025-06-24 09:35:36,564 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,565 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,565 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,565 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,565 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,565 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,565 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,565 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,565 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,566 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,566 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,566 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,566 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,566 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,566 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,566 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,566 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,566 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,567 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,567 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,567 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,567 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,570 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,572 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,572 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,572 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,572 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,572 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,572 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,572 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,574 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,576 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,576 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,576 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,576 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,577 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,577 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,578 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,578 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,578 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,579 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,579 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,579 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,579 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,579 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,579 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,579 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,579 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,580 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,581 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,582 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,582 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,582 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   learning_rate: 0.09793882584456802
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,582 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   n_estimators: 123
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   subsample: 0.9640586492533287
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6435146090531931
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   reg_alpha: 0.012306593994534086
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0003273769666730943
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,583 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,585 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,585 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,585 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,585 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,585 - src.hyperparameter_tuning - ERROR - Trial 41 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,600 - src.hyperparameter_tuning - INFO - Trial 42: 모델 타입 = lightgbm
2025-06-24 09:35:36,604 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,604 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,604 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,604 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,604 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,604 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,604 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,604 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,604 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,605 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,605 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,605 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,605 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,605 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,605 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,605 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,605 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,605 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,606 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,606 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,606 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,606 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,610 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,612 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,612 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,612 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,612 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,612 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,612 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,612 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,614 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,616 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,616 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,616 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,616 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,616 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,616 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,616 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,616 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,616 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,616 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,617 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,617 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,617 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,617 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,617 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,618 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,618 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,618 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,618 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,618 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,618 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,618 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,618 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,618 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,619 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,620 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,621 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,621 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,621 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,621 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,621 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   learning_rate: 0.13733093633534701
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   n_estimators: 87
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   subsample: 0.8965101815345152
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6091730541587009
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   reg_alpha: 0.4907237459022601
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO -   reg_lambda: 6.576001803087445e-05
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,622 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,625 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,625 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,625 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,625 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,625 - src.hyperparameter_tuning - ERROR - Trial 42 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,639 - src.hyperparameter_tuning - INFO - Trial 43: 모델 타입 = lightgbm
2025-06-24 09:35:36,643 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,644 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,644 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,644 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,644 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,644 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,644 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,644 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,644 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,645 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,645 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,645 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,645 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,645 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,645 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,645 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,645 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,645 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,646 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,646 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,646 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,646 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,649 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,651 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,651 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,651 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,651 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,651 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,651 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,651 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,653 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,655 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,655 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,655 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,655 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,655 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,655 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,655 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,655 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,655 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,655 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,656 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,656 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,657 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,657 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,657 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,657 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,657 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,657 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,657 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,657 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,657 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,657 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,658 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,658 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,658 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,658 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,658 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,658 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,660 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,660 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,660 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   learning_rate: 0.21326734344408033
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   n_estimators: 539
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   subsample: 0.9673242456454179
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7044942853722713
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   reg_alpha: 0.059174749853088904
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO -   reg_lambda: 0.02588182777279751
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,661 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,664 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,664 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,664 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,664 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,664 - src.hyperparameter_tuning - ERROR - Trial 43 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,679 - src.hyperparameter_tuning - INFO - Trial 44: 모델 타입 = lightgbm
2025-06-24 09:35:36,682 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,683 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,683 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,683 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,683 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,683 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,683 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,683 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,683 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,684 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,684 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,684 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,684 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,684 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,684 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,684 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,684 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,684 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,685 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,685 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,685 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,685 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,688 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,690 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,691 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,691 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,691 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,691 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,691 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,691 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,693 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,695 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,695 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,695 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,695 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,695 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,695 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,695 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,695 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,696 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,696 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,696 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,697 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,697 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,697 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,697 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,697 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,697 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,697 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,697 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,697 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,697 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,697 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,698 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,700 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,700 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   learning_rate: 0.05625048885017797
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,700 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   n_estimators: 651
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   subsample: 0.9936644823981703
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6776465721915215
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00018101280841052082
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO -   reg_lambda: 2.2021620859017483
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,701 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,703 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,703 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,703 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,703 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,703 - src.hyperparameter_tuning - ERROR - Trial 44 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,718 - src.hyperparameter_tuning - INFO - Trial 45: 모델 타입 = lightgbm
2025-06-24 09:35:36,722 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,722 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,722 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,722 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,722 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,722 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,722 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,722 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,722 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,723 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,723 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,723 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,723 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,723 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,723 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,723 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,723 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,723 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,724 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,724 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,724 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,724 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,728 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,730 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,730 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,730 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,730 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,730 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,730 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,730 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,732 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,734 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,734 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,734 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,734 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,734 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,734 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,734 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,734 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,734 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,734 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,735 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,735 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,736 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,736 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,736 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,736 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,736 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,736 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,736 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,736 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,736 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,737 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,737 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,738 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,739 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,739 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,739 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,739 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   learning_rate: 0.08474924091905767
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   n_estimators: 179
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   subsample: 0.9332399755244474
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6557272282328251
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0012292771784949972
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0023872846722201887
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,740 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,743 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,743 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,743 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,743 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,743 - src.hyperparameter_tuning - ERROR - Trial 45 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,758 - src.hyperparameter_tuning - INFO - Trial 46: 모델 타입 = lightgbm
2025-06-24 09:35:36,762 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,763 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,763 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,763 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,763 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,763 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,763 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,763 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,763 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,763 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,763 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,763 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,763 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,763 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,763 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,763 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,763 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,763 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,764 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,764 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,764 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,764 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,768 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,770 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,770 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,770 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,770 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,770 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,770 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,770 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,772 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,774 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,774 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,774 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,774 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,774 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,774 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,774 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,774 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,774 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,774 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,775 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,775 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,775 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,775 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,775 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,776 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,776 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,776 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,776 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,776 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,776 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,776 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,776 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,776 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,778 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,779 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   learning_rate: 0.012214781803232549
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   n_estimators: 319
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   subsample: 0.9011353546076427
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8923112812273108
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   reg_alpha: 1.819220639207179e-07
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO -   reg_lambda: 1.5563198677214068e-05
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,780 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,786 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,786 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,786 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,786 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,786 - src.hyperparameter_tuning - ERROR - Trial 46 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,801 - src.hyperparameter_tuning - INFO - Trial 47: 모델 타입 = lightgbm
2025-06-24 09:35:36,804 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,805 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,805 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,805 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,805 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,805 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,805 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,805 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,805 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,806 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,806 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,806 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,806 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,806 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,806 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,806 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,806 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,806 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,807 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,807 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,807 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,807 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,811 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,813 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,813 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,813 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,813 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,813 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,813 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,813 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,815 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,817 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,817 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,817 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,817 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,817 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,817 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,817 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,817 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,818 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,818 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,818 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,819 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,819 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,819 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,819 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,819 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,819 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,819 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,819 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,819 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,819 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,819 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,820 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,821 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,822 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,822 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,822 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,822 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   learning_rate: 0.03507645979363265
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,822 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   n_estimators: 761
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   subsample: 0.9824694942087706
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7417033228523667
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   reg_alpha: 0.004366446105347352
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO -   reg_lambda: 2.675638978946855e-07
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,823 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,825 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,825 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,825 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,825 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,825 - src.hyperparameter_tuning - ERROR - Trial 47 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,840 - src.hyperparameter_tuning - INFO - Trial 48: 모델 타입 = lightgbm
2025-06-24 09:35:36,843 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,844 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,844 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,844 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,844 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,844 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,844 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,844 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,844 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,845 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,845 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,845 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,845 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,845 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,845 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,845 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,845 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,845 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,846 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,846 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,846 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,846 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,850 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,852 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,852 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,852 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,852 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,852 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,852 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,852 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,854 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,856 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,856 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,856 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,856 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,856 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,856 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,856 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,856 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,856 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,856 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,857 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,857 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,857 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,857 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,857 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,858 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,858 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,858 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,858 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,858 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,858 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,858 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,858 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,858 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,859 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,860 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,861 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,862 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   learning_rate: 0.06459184368410763
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   n_estimators: 384
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   subsample: 0.8774992037260307
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.702163125786101
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   reg_alpha: 2.160303535766916e-08
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO -   reg_lambda: 1.1500879799835756e-06
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,862 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,865 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,865 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,865 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,865 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,865 - src.hyperparameter_tuning - ERROR - Trial 48 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,880 - src.hyperparameter_tuning - INFO - Trial 49: 모델 타입 = lightgbm
2025-06-24 09:35:36,883 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,884 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,884 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,884 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,884 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,884 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,884 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,884 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,884 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,885 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,885 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,885 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,885 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,885 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,885 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,885 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,885 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,885 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,886 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,886 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,886 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,886 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,889 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,891 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,891 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,891 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,891 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,891 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,891 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,891 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,893 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,895 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,895 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,895 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,895 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,895 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,895 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,895 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,895 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,895 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,895 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,896 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,896 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,897 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,897 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,897 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,897 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,897 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,897 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,897 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,897 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,897 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,897 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,898 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,898 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,898 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,898 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,898 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,898 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,899 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,900 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,900 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,900 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,900 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   learning_rate: 0.10017283165371263
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   n_estimators: 73
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   subsample: 0.8373072645672719
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8564848185348581
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   reg_alpha: 6.266565809920671
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO -   reg_lambda: 0.2714317924622672
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,901 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,904 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,904 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,904 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,904 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,904 - src.hyperparameter_tuning - ERROR - Trial 49 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,919 - src.hyperparameter_tuning - INFO - Trial 50: 모델 타입 = lightgbm
2025-06-24 09:35:36,923 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,923 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,923 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,923 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,923 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,923 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,923 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,923 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,923 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,924 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,924 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,924 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,924 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,924 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,924 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,924 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,924 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,924 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,925 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,925 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,925 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,925 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,929 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,931 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,931 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,931 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,931 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,931 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,931 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,931 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,933 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,935 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,935 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,935 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,935 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,935 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,935 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,935 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,935 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,936 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,936 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,936 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,937 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,937 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,937 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,937 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,937 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,937 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,937 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,937 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,937 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,937 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,937 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,938 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,940 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,940 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO -   learning_rate: 0.19354396033060667
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,940 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   n_estimators: 461
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   subsample: 0.8193951276727495
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7785557445809279
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00027869312762492945
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00013688798527848386
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,941 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,944 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,944 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,944 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,944 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,944 - src.hyperparameter_tuning - ERROR - Trial 50 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,959 - src.hyperparameter_tuning - INFO - Trial 51: 모델 타입 = lightgbm
2025-06-24 09:35:36,962 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:36,963 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:36,963 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:36,963 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:36,963 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:36,963 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:36,963 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:36,963 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:36,963 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:36,964 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:36,964 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:36,964 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:36,964 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:36,964 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:36,964 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:36,964 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:36,964 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:36,964 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:36,965 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:36,965 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:36,965 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:36,965 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:36,968 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:36,970 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,970 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:36,970 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:36,970 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:36,970 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:36,970 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:36,970 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:36,972 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:36,974 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:36,974 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,974 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,974 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:36,974 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:36,974 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,974 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:36,974 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:36,974 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,974 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,975 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:36,975 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,976 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,976 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:36,976 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:36,976 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:36,977 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:36,977 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:36,977 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:36,977 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:36,977 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:36,977 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:36,979 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:36,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:36,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   learning_rate: 0.0142443614712617
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   n_estimators: 129
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   subsample: 0.9746128038451177
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.718946577832295
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   reg_alpha: 4.407538220944994e-06
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO -   reg_lambda: 0.13079007377001461
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:36,980 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:36,983 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:36,983 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:36,983 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:36,983 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:36,983 - src.hyperparameter_tuning - ERROR - Trial 51 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:36,998 - src.hyperparameter_tuning - INFO - Trial 52: 모델 타입 = lightgbm
2025-06-24 09:35:37,002 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,002 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,002 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,003 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,003 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,003 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,003 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,003 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,003 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,003 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,003 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,003 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,003 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,003 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,003 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,003 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,003 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,003 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,004 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,004 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,004 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,004 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,008 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,010 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,010 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,010 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,010 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,010 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,010 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,010 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,012 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,014 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,014 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,014 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,014 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,014 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,014 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,014 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,014 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,015 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,015 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,015 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,016 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,016 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,016 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,016 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,016 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,016 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,016 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,016 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,016 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,016 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,016 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,016 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,017 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,018 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,019 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   learning_rate: 0.018456661428192748
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   n_estimators: 181
2025-06-24 09:35:37,019 - src.models.lightgbm_model - INFO -   subsample: 0.9509603298852387
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6911039091967015
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO -   reg_alpha: 7.612892550570312e-07
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO -   reg_lambda: 4.173453381060882e-06
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,020 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,022 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,022 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,022 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,022 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,022 - src.hyperparameter_tuning - ERROR - Trial 52 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,038 - src.hyperparameter_tuning - INFO - Trial 53: 모델 타입 = lightgbm
2025-06-24 09:35:37,041 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,042 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,042 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,042 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,042 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,042 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,042 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,042 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,042 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,042 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,042 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,042 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,042 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,042 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,042 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,042 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,042 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,042 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,043 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,043 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,043 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,043 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,047 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,049 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,049 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,049 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,049 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,049 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,049 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,049 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,051 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,053 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,053 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,053 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,053 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,054 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,054 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,054 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,055 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,055 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,055 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,055 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,055 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,055 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,055 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,055 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,056 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   learning_rate: 0.023387567111245493
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,058 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   n_estimators: 253
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   subsample: 0.9226975130375475
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6611933706717418
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   reg_alpha: 2.5680490521396752e-08
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO -   reg_lambda: 0.008010451217063149
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,059 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,062 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,062 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,062 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,062 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,062 - src.hyperparameter_tuning - ERROR - Trial 53 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,077 - src.hyperparameter_tuning - INFO - Trial 54: 모델 타입 = lightgbm
2025-06-24 09:35:37,081 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,081 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,081 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,081 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,081 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,081 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,081 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,081 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,081 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,082 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,082 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,082 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,082 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,082 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,082 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,082 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,082 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,082 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,083 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,083 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,083 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,083 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,086 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,088 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,088 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,088 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,088 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,088 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,088 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,088 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,090 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,092 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,092 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,092 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,092 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,092 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,092 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,092 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,092 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,092 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,092 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,093 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,093 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,094 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,094 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,094 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,094 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,094 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,095 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,095 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,095 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,095 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,095 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,095 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,096 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,097 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   learning_rate: 0.017930539769372034
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   n_estimators: 292
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   subsample: 0.7831255552496368
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7589517267440986
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   reg_alpha: 3.771141225353274e-05
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO -   reg_lambda: 0.000530203372836347
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,098 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,101 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,101 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,101 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,101 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,101 - src.hyperparameter_tuning - ERROR - Trial 54 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,119 - src.hyperparameter_tuning - INFO - Trial 55: 모델 타입 = lightgbm
2025-06-24 09:35:37,123 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,124 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,124 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,124 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,124 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,124 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,124 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,124 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,125 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,125 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,125 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,125 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,125 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,125 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,125 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,125 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,125 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,125 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,126 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,126 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,126 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,126 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,131 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,133 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,133 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,133 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,133 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,133 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,133 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,133 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,136 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,138 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,138 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,138 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,138 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,138 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,138 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,138 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,139 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,139 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,140 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,140 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,140 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,140 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,141 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,141 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,141 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,141 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,141 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,141 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,141 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,142 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,144 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,144 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   learning_rate: 0.011437207024077016
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,144 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   n_estimators: 51
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   subsample: 0.9988910626470648
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7955253543847626
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   reg_alpha: 3.9245291180279974e-07
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO -   reg_lambda: 0.001413477088598793
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,145 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,248 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,248 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,249 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,249 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,249 - src.hyperparameter_tuning - ERROR - Trial 55 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,265 - src.hyperparameter_tuning - INFO - Trial 56: 모델 타입 = lightgbm
2025-06-24 09:35:37,268 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,269 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,269 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,269 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,269 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,269 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,269 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,269 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,269 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,270 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,270 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,270 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,270 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,270 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,270 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,270 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,270 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,270 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,271 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,271 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,271 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,271 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,275 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,277 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,277 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,277 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,277 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,277 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,277 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,277 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,279 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,281 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,281 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,281 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,281 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,281 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,281 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,281 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,281 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,281 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,281 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,282 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,282 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,282 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,282 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,282 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,283 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,283 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,283 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,283 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,283 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,283 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,283 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,284 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,285 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,286 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,286 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,286 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,286 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   learning_rate: 0.153186769078403
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   n_estimators: 620
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   subsample: 0.7475015634023295
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9150280338924608
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   reg_alpha: 1.1809416753112032e-07
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO -   reg_lambda: 1.3713683152159453e-05
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,287 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,295 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,295 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,295 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,295 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,295 - src.hyperparameter_tuning - ERROR - Trial 56 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,311 - src.hyperparameter_tuning - INFO - Trial 57: 모델 타입 = lightgbm
2025-06-24 09:35:37,315 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,315 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,315 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,315 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,315 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,315 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,315 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,315 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,315 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,316 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,316 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,316 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,316 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,316 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,316 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,316 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,316 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,316 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,317 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,317 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,317 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,317 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,321 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,323 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,323 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,323 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,323 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,323 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,323 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,323 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,325 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,327 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,327 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,327 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,327 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,327 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,327 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,327 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,327 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,327 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,327 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,328 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,328 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,328 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,328 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,328 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,329 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,329 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,329 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,329 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,329 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,329 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,329 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,329 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,329 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,329 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,330 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,332 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,332 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,332 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,332 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   learning_rate: 0.04252092888793017
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   n_estimators: 555
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   subsample: 0.9111812059161246
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6841855639649754
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   reg_alpha: 1.469469291873918e-06
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO -   reg_lambda: 1.362640689879042
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,333 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,335 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,336 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,336 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,336 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,336 - src.hyperparameter_tuning - ERROR - Trial 57 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,351 - src.hyperparameter_tuning - INFO - Trial 58: 모델 타입 = lightgbm
2025-06-24 09:35:37,354 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,355 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,355 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,355 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,355 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,355 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,355 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,355 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,355 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,356 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,356 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,356 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,356 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,356 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,356 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,356 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,356 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,356 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,357 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,357 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,357 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,357 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,360 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,362 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,362 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,362 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,362 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,362 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,362 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,362 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,364 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,366 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,366 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,366 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,366 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,366 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,366 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,366 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,366 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,366 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,366 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,367 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,367 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,368 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,368 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,368 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,368 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,368 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,368 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,368 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,368 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,368 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,368 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,368 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,368 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,368 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,369 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,369 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,369 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,370 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,371 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,371 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,371 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,371 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   learning_rate: 0.01121632525249422
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   n_estimators: 506
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   subsample: 0.7239428053703661
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7096617144525774
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   reg_alpha: 1.2539835065528851e-05
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO -   reg_lambda: 3.479924777807695e-08
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,372 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,375 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,375 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,375 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,375 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,375 - src.hyperparameter_tuning - ERROR - Trial 58 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,391 - src.hyperparameter_tuning - INFO - Trial 59: 모델 타입 = lightgbm
2025-06-24 09:35:37,394 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,395 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,395 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,395 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,395 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,395 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,395 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,395 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,395 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,396 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,396 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,396 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,396 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,396 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,396 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,396 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,396 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,396 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,397 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,397 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,397 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,397 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,400 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,402 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,402 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,402 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,402 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,402 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,402 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,402 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,404 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,406 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,406 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,406 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,406 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,406 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,406 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,406 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,406 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,406 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,406 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,407 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,407 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,408 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,408 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,408 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,408 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,408 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,408 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,408 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,408 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,408 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,408 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,409 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,409 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,409 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,409 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,409 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,409 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,410 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,411 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,411 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,411 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,411 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   learning_rate: 0.24384133830368773
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   n_estimators: 335
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   subsample: 0.8683523300707465
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8857996984773274
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   reg_alpha: 4.439663032964412e-08
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO -   reg_lambda: 0.02341800942228853
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,412 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,415 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,415 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,415 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,415 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,415 - src.hyperparameter_tuning - ERROR - Trial 59 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,431 - src.hyperparameter_tuning - INFO - Trial 60: 모델 타입 = lightgbm
2025-06-24 09:35:37,434 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,435 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,435 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,435 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,435 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,435 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,435 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,435 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,435 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,436 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,436 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,436 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,436 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,436 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,436 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,436 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,436 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,436 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,437 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,437 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,437 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,437 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,440 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,442 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,442 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,442 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,442 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,442 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,442 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,442 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,444 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,446 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,446 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,447 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,447 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,447 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,447 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,447 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,447 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,448 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,448 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,448 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,449 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,449 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,449 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,449 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,449 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,449 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,449 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,449 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,449 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,449 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,449 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,449 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,452 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,452 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO -   learning_rate: 0.013791386929805163
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,452 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   n_estimators: 693
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   subsample: 0.6055182468435556
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7421066057531389
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   reg_alpha: 0.028410855500270112
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00020704799608554415
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,453 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,456 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,456 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,456 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,456 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,456 - src.hyperparameter_tuning - ERROR - Trial 60 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,472 - src.hyperparameter_tuning - INFO - Trial 61: 모델 타입 = lightgbm
2025-06-24 09:35:37,475 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,476 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,476 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,476 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,476 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,476 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,476 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,476 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,476 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,477 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,477 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,477 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,477 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,477 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,477 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,477 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,477 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,477 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,478 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,478 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,478 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,478 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,481 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,484 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,484 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,484 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,484 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,484 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,484 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,484 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,486 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,487 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,488 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,488 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,488 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,489 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,489 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,489 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,490 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,490 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,490 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,490 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,490 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,490 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,490 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,490 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,493 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,493 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,493 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,493 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   learning_rate: 0.29607121667659375
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   n_estimators: 571
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   subsample: 0.9492180121271596
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9835831542773467
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   reg_alpha: 0.1889918707742379
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO -   reg_lambda: 0.6510572184077662
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,494 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,497 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,497 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,497 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,497 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,497 - src.hyperparameter_tuning - ERROR - Trial 61 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,513 - src.hyperparameter_tuning - INFO - Trial 62: 모델 타입 = lightgbm
2025-06-24 09:35:37,517 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,517 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,517 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,517 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,517 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,517 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,517 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,517 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,518 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,518 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,518 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,518 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,518 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,518 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,518 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,518 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,518 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,518 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,519 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,519 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,519 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,519 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,522 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,525 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,525 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,525 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,525 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,525 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,525 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,525 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,527 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,529 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,529 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,529 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,529 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,529 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,529 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,529 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,529 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,529 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,529 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,530 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,530 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,530 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,530 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,530 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,531 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,531 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,531 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,531 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,531 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,531 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,531 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,531 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,532 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,533 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,534 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,534 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,534 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,534 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,534 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   learning_rate: 0.27145131192063576
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   n_estimators: 441
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   subsample: 0.8388888202790384
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9679527386504253
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0032641441634054954
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO -   reg_lambda: 3.55409111214763e-05
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,535 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,538 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,538 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,538 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,538 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,538 - src.hyperparameter_tuning - ERROR - Trial 62 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,554 - src.hyperparameter_tuning - INFO - Trial 63: 모델 타입 = lightgbm
2025-06-24 09:35:37,557 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,558 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,558 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,558 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,558 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,558 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,558 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,558 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,558 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,559 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,559 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,559 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,559 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,559 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,559 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,559 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,559 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,559 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,560 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,560 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,560 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,560 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,563 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,565 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,565 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,565 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,566 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,566 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,566 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,566 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,568 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,569 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,569 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,570 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,570 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,570 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,570 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,570 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,570 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,571 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,571 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,571 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,572 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,572 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,572 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,572 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,572 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,572 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,572 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,572 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,573 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,574 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,575 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,575 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   learning_rate: 0.18507739953392208
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,575 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   n_estimators: 501
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   subsample: 0.9255363949136147
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9478516979033457
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0016453016635939743
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO -   reg_lambda: 3.889292533372911
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,576 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,578 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,578 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,578 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,578 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,578 - src.hyperparameter_tuning - ERROR - Trial 63 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,595 - src.hyperparameter_tuning - INFO - Trial 64: 모델 타입 = lightgbm
2025-06-24 09:35:37,598 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,599 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,599 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,599 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,599 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,599 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,599 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,599 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,599 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,600 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,600 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,600 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,600 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,600 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,600 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,600 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,600 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,600 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,601 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,601 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,601 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,601 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,604 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,606 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,606 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,606 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,606 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,606 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,606 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,606 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,608 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,610 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,610 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,610 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,610 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,610 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,610 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,610 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,610 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,610 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,610 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,611 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,611 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,611 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,611 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,611 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,612 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,612 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,612 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,612 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,612 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,612 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,612 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,612 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,612 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,613 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,614 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,615 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,615 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,615 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,615 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,615 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   learning_rate: 0.12954824612423743
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   n_estimators: 98
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   subsample: 0.8112141622588307
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9260449527056052
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   reg_alpha: 0.009995808450449633
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO -   reg_lambda: 0.10706547190904596
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,616 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,618 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,619 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,619 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,619 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,619 - src.hyperparameter_tuning - ERROR - Trial 64 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,635 - src.hyperparameter_tuning - INFO - Trial 65: 모델 타입 = lightgbm
2025-06-24 09:35:37,638 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,639 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,639 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,639 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,639 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,639 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,639 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,639 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,639 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,640 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,640 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,640 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,640 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,640 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,640 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,640 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,640 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,640 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,641 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,641 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,641 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,641 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,644 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,646 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,646 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,646 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,646 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,646 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,646 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,646 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,648 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,650 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,650 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,650 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,650 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,650 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,650 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,650 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,650 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,650 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,650 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,651 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,651 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,651 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,651 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,651 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,652 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,652 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,652 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,652 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,652 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,652 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,652 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,652 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,652 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,653 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,655 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,655 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,655 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,655 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   learning_rate: 0.015953931804349637
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   n_estimators: 415
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   subsample: 0.9789455694045592
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9991613164008715
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   reg_alpha: 6.456208343096671e-05
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1200870633038303e-07
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,656 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,658 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,659 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,659 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,659 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,659 - src.hyperparameter_tuning - ERROR - Trial 65 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,675 - src.hyperparameter_tuning - INFO - Trial 66: 모델 타입 = lightgbm
2025-06-24 09:35:37,678 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,679 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,679 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,679 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,679 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,679 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,679 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,679 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,679 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,679 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,679 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,679 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,679 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,679 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,679 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,679 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,679 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,679 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,680 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,680 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,680 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,680 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,681 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,684 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,686 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,686 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,686 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,686 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,686 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,686 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,686 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,688 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,690 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,690 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,690 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,690 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,690 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,690 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,690 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,690 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,691 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,691 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,691 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,691 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,692 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,692 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,692 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,692 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,692 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,692 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,692 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,694 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,695 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,695 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   learning_rate: 0.11087159867996219
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   n_estimators: 679
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   subsample: 0.9403050846328712
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9758227150453681
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   reg_alpha: 1.0131157393738157e-08
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO -   reg_lambda: 0.8523746549601214
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,696 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,698 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,698 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,698 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,698 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,698 - src.hyperparameter_tuning - ERROR - Trial 66 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,715 - src.hyperparameter_tuning - INFO - Trial 67: 모델 타입 = lightgbm
2025-06-24 09:35:37,718 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,718 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,718 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,718 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,718 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,718 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,718 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,718 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,718 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,719 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,719 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,719 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,719 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,719 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,719 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,719 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,719 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,719 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,720 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,720 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,720 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,720 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,723 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,725 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,725 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,725 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,725 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,725 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,725 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,725 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,727 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,729 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,729 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,729 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,729 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,729 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,729 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,729 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,729 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,729 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,729 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,730 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,730 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,730 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,730 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,731 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,731 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,731 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,731 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,731 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,731 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,731 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,731 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,731 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,731 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,734 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,734 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,734 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,734 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   learning_rate: 0.22703332024128894
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   n_estimators: 738
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   subsample: 0.682593228121369
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8224029138278149
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   reg_alpha: 6.007326216970683e-06
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO -   reg_lambda: 7.268356621597371e-08
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,735 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,738 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,738 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,738 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,738 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,738 - src.hyperparameter_tuning - ERROR - Trial 67 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,754 - src.hyperparameter_tuning - INFO - Trial 68: 모델 타입 = lightgbm
2025-06-24 09:35:37,757 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,757 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,757 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,757 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,757 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,757 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,757 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,757 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,757 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,758 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,758 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,758 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,758 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,758 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,758 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,758 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,758 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,758 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,759 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,759 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,759 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,759 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,762 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,764 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,764 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,764 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,765 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,765 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,765 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,765 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,766 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,768 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,768 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,768 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,768 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,769 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,769 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,769 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,769 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,770 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,770 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,770 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,771 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,771 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,771 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,771 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,771 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,771 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,771 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,771 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,772 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,774 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   learning_rate: 0.04990710888816552
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   n_estimators: 609
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   subsample: 0.848270830948627
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.850598430172833
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0004951275409578349
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO -   reg_lambda: 3.47820930095863e-06
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,774 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,777 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,777 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,777 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,777 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,777 - src.hyperparameter_tuning - ERROR - Trial 68 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,793 - src.hyperparameter_tuning - INFO - Trial 69: 모델 타입 = lightgbm
2025-06-24 09:35:37,796 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,796 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,797 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,797 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,797 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,797 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,797 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,797 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,797 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,797 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,797 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,797 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,797 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,797 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,797 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,797 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,797 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,797 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,798 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,798 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,798 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,798 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,802 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,803 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,803 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,804 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,804 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,804 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,804 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,804 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,806 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,807 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,807 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,808 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,808 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,808 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,808 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,808 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,808 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,809 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,809 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,809 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,810 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,810 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,810 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,810 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,810 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,810 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,810 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,810 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,812 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,813 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,813 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   learning_rate: 0.15916881726677745
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   max_depth: 6
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   n_estimators: 998
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   subsample: 0.9530544650204105
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8647144776940237
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6010135879554323e-06
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO -   reg_lambda: 1.0999472666734155e-05
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,813 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,816 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,816 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,816 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,816 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,816 - src.hyperparameter_tuning - ERROR - Trial 69 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,832 - src.hyperparameter_tuning - INFO - Trial 70: 모델 타입 = lightgbm
2025-06-24 09:35:37,835 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,836 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,836 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,836 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,836 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,836 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,836 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,836 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,836 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,837 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,837 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,837 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,837 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,837 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,837 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,837 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,837 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,837 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,838 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,838 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,838 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,838 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,841 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,843 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,843 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,843 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,843 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,843 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,843 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,843 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,845 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,847 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,847 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,847 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,847 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,847 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,847 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,848 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,848 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,848 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,848 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,848 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,849 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,849 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,849 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,849 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,849 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,849 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,849 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,850 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,852 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,852 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,852 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,852 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,852 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   learning_rate: 0.020914360188651566
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   n_estimators: 220
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   subsample: 0.7847861042114909
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6157716992226357
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   reg_alpha: 2.2119025375971438e-05
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO -   reg_lambda: 2.5581389759662644e-08
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,853 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,855 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,855 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,855 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,855 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,855 - src.hyperparameter_tuning - ERROR - Trial 70 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,871 - src.hyperparameter_tuning - INFO - Trial 71: 모델 타입 = lightgbm
2025-06-24 09:35:37,874 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,875 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,875 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,875 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,875 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,875 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,875 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,875 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,875 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,876 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,876 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,876 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,876 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,876 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,876 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,876 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,876 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,876 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,877 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,877 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,877 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,877 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,880 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,882 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,882 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,882 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,882 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,882 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,882 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,882 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,884 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,886 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,886 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,886 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,886 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,886 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,886 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,886 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,886 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,886 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,886 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,887 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,887 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,887 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,887 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,887 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,888 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,888 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,888 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,888 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,888 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,888 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,888 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,888 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,888 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,888 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,889 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,890 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,891 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,891 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,891 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   learning_rate: 0.010957129865736666
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,891 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   n_estimators: 153
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   subsample: 0.6564142001008275
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8397815212987682
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   reg_alpha: 3.0126779680525884
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO -   reg_lambda: 6.874100189958323e-05
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,892 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,895 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,895 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,895 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,895 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,895 - src.hyperparameter_tuning - ERROR - Trial 71 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,911 - src.hyperparameter_tuning - INFO - Trial 72: 모델 타입 = lightgbm
2025-06-24 09:35:37,914 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,915 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,915 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,915 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,915 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,915 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,915 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,915 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,915 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,915 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,915 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,915 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,915 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,915 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,915 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,915 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,915 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,915 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,916 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,916 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,916 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,917 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,917 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,920 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,922 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,922 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,922 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,922 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,922 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,922 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,922 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,924 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,926 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,926 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,926 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,926 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,926 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,927 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,927 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,927 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,928 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,928 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,928 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,928 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,928 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,928 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,928 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,928 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,928 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,931 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,931 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   learning_rate: 0.012872128435596708
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,931 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   n_estimators: 108
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   subsample: 0.701870451203659
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7329492683995666
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   min_child_weight: 5
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   reg_alpha: 0.2817736475166566
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO -   reg_lambda: 6.653037142606319e-07
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,932 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,934 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,934 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,934 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,934 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,934 - src.hyperparameter_tuning - ERROR - Trial 72 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,950 - src.hyperparameter_tuning - INFO - Trial 73: 모델 타입 = lightgbm
2025-06-24 09:35:37,953 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,954 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,954 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,954 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,954 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,954 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,954 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,954 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,954 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,955 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,955 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,955 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,955 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,955 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,955 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,955 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,955 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,955 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,955 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,956 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,956 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,956 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,956 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,959 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:37,961 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,961 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:37,961 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:37,961 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:37,961 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:37,961 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:37,961 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,963 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:37,965 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:37,965 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,965 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,965 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:37,965 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:37,965 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,965 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,965 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:37,966 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:37,966 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,966 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,966 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:37,966 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:37,967 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:37,967 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:37,967 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:37,967 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:37,967 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:37,967 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:37,967 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:37,967 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:37,967 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,967 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:37,968 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:37,969 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:37,970 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:37,970 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:37,970 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:37,970 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:37,970 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   learning_rate: 0.014541973687489567
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:37,970 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   max_depth: 3
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   n_estimators: 188
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   subsample: 0.759421050732034
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7654101279240798
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   reg_alpha: 0.01722905276111146
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO -   reg_lambda: 1.263937240496527e-06
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:37,971 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:37,973 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:37,973 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:37,973 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:37,973 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:37,973 - src.hyperparameter_tuning - ERROR - Trial 73 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:37,989 - src.hyperparameter_tuning - INFO - Trial 74: 모델 타입 = lightgbm
2025-06-24 09:35:37,992 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:37,993 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:37,993 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:37,993 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:37,993 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:37,993 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:37,993 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:37,993 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:37,993 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:37,994 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:37,994 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:37,994 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:37,994 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:37,994 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:37,994 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:37,994 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:37,994 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:37,994 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:37,995 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:37,995 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:37,995 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:37,995 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:37,998 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,000 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,000 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,000 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,000 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,000 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,000 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,000 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,002 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,004 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,004 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,004 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,004 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,004 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,004 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,004 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,004 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,004 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,004 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,005 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,005 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,005 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,005 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,005 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,006 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,006 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,006 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,006 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,006 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,006 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,006 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,006 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,006 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,007 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,008 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,009 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,009 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,009 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,009 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,009 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   learning_rate: 0.010049681564965829
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   n_estimators: 472
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   subsample: 0.7277245828295967
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7166438037926771
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   reg_alpha: 0.006492067438794327
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO -   reg_lambda: 3.47045623771009e-05
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,010 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,012 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,012 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,012 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,012 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,012 - src.hyperparameter_tuning - ERROR - Trial 74 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,029 - src.hyperparameter_tuning - INFO - Trial 75: 모델 타입 = lightgbm
2025-06-24 09:35:38,032 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,033 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,033 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,033 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,033 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,033 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,033 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,033 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,033 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,033 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,033 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,033 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,033 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,033 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,033 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,033 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,033 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,033 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,034 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,034 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,034 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,034 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,038 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,040 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,040 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,040 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,040 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,040 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,040 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,040 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,042 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,044 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,044 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,044 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,044 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,045 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,045 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,045 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,046 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,046 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,046 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,046 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,046 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,046 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,046 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,046 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,047 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,049 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,049 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,049 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,049 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   learning_rate: 0.028490465891437326
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,049 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   n_estimators: 365
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   subsample: 0.6254706923605511
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7925475288364967
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   reg_alpha: 0.05495560517360351
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO -   reg_lambda: 3.551282729015529
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,050 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,052 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,052 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,052 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,052 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,052 - src.hyperparameter_tuning - ERROR - Trial 75 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,069 - src.hyperparameter_tuning - INFO - Trial 76: 모델 타입 = lightgbm
2025-06-24 09:35:38,072 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,072 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,072 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,072 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,072 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,072 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,072 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,072 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,073 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,073 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,073 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,073 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,073 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,073 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,073 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,073 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,073 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,073 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,074 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,074 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,074 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,074 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,078 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,080 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,080 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,080 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,080 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,080 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,080 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,080 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,082 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,084 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,084 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,084 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,084 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,084 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,084 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,084 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,084 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,085 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,085 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,085 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,086 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,086 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,086 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,086 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,086 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,086 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,086 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,086 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,086 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,086 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,087 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,088 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,089 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,089 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,089 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,089 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,089 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   learning_rate: 0.012115236479030286
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,089 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   n_estimators: 153
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   subsample: 0.9118267599058681
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6687523762556236
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6345515759655802
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO -   reg_lambda: 7.166551603900752e-06
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,090 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,092 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,092 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,092 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,092 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,092 - src.hyperparameter_tuning - ERROR - Trial 76 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,109 - src.hyperparameter_tuning - INFO - Trial 77: 모델 타입 = lightgbm
2025-06-24 09:35:38,112 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,113 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,113 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,113 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,113 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,113 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,113 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,113 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,113 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,114 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,114 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,114 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,114 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,114 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,114 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,114 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,114 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,114 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,115 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,115 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,115 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,115 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,118 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,120 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,120 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,120 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,120 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,120 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,120 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,120 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,122 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,124 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,124 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,124 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,124 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,124 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,124 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,124 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,124 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,124 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,124 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,125 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,125 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,125 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,125 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,125 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,126 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,126 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,126 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,126 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,126 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,126 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,126 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,126 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,126 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,127 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,128 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,129 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,129 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,129 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   learning_rate: 0.063637820225863
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   n_estimators: 881
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   subsample: 0.9660419365576216
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9529111978290701
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   reg_alpha: 5.114020852306642e-07
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0003097731129743343
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,130 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,132 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,132 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,132 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,132 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,132 - src.hyperparameter_tuning - ERROR - Trial 77 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,149 - src.hyperparameter_tuning - INFO - Trial 78: 모델 타입 = lightgbm
2025-06-24 09:35:38,153 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,153 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,153 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,153 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,153 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,153 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,154 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,154 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,154 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,154 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,154 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,154 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,154 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,154 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,154 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,154 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,154 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,154 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,155 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,155 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,155 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,155 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,159 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,161 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,161 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,161 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,161 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,161 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,161 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,161 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,163 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,165 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,165 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,165 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,165 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,165 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,165 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,165 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,165 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,166 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,166 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,166 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,167 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,167 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,167 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,167 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,167 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,167 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,167 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,167 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,168 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   learning_rate: 0.016976948057482684
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,170 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   n_estimators: 393
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   subsample: 0.7883441898007725
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9375725893666309
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   min_child_weight: 4
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   reg_alpha: 1.6432227257309933e-07
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO -   reg_lambda: 0.0009728369901229373
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,171 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,173 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,173 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,173 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,173 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,173 - src.hyperparameter_tuning - ERROR - Trial 78 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,191 - src.hyperparameter_tuning - INFO - Trial 79: 모델 타입 = lightgbm
2025-06-24 09:35:38,194 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,195 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,195 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,195 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,195 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,195 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,195 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,195 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,195 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,196 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,196 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,196 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,196 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,196 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,196 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,196 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,196 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,196 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,197 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,197 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,197 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,197 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,200 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,202 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,202 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,202 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,202 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,202 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,202 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,202 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,204 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,206 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,206 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,206 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,206 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,206 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,206 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,206 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,206 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,206 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,206 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,207 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,207 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,208 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,208 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,208 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,208 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,208 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,209 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,209 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,209 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,209 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,209 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,209 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,210 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,211 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   learning_rate: 0.2593451809950288
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   max_depth: 5
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   n_estimators: 524
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   subsample: 0.9892833490980313
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8114549676244355
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0024320305460977846
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO -   reg_lambda: 0.00011587610553415014
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,212 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,215 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,215 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,215 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,215 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,215 - src.hyperparameter_tuning - ERROR - Trial 79 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,232 - src.hyperparameter_tuning - INFO - Trial 80: 모델 타입 = lightgbm
2025-06-24 09:35:38,236 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,236 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,236 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,236 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,237 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,237 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,237 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,237 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,237 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,237 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,237 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,237 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,237 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,237 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,237 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,237 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,237 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,237 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,238 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,238 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,238 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,238 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,242 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,244 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,244 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,244 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,244 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,244 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,244 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,244 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,246 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,248 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,248 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,248 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,248 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,249 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,249 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,249 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,250 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,250 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,250 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,250 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,250 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,250 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,250 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,250 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,250 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,250 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,251 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,253 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,253 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,253 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,253 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   learning_rate: 0.07813911661457104
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,253 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   n_estimators: 302
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   subsample: 0.8875096072240903
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6433794276239841
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0011379545210007589
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO -   reg_lambda: 4.306976213595928e-07
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,254 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,256 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,256 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,256 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,256 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,256 - src.hyperparameter_tuning - ERROR - Trial 80 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,273 - src.hyperparameter_tuning - INFO - Trial 81: 모델 타입 = lightgbm
2025-06-24 09:35:38,276 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,277 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,277 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,277 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,277 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,277 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,277 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,277 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,277 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,278 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,278 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,278 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,278 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,278 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,278 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,278 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,278 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,278 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,279 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,279 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,279 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,279 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,282 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,284 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,284 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,284 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,284 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,284 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,284 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,284 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,286 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,288 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,288 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,288 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,288 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,288 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,288 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,288 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,288 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,288 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,288 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,289 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,289 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,290 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,290 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,290 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,290 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,290 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,290 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,290 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,290 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,290 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,290 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,290 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,291 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,291 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,291 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,291 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,292 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,293 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,293 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,293 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,293 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   learning_rate: 0.013390824935990937
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   n_estimators: 225
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   subsample: 0.8655718258437664
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6268140816663329
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   reg_alpha: 0.13849867415852568
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1834271927039548e-06
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,294 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,297 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,297 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,297 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,297 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,297 - src.hyperparameter_tuning - ERROR - Trial 81 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,314 - src.hyperparameter_tuning - INFO - Trial 82: 모델 타입 = lightgbm
2025-06-24 09:35:38,317 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,317 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,317 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,318 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,318 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,318 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,318 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,318 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,318 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,318 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,318 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,318 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,318 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,318 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,318 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,318 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,318 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,318 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,319 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,319 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,319 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,319 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,323 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,325 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,325 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,325 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,325 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,325 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,325 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,325 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,327 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,329 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,329 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,329 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,329 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,329 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,330 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,330 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,330 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,331 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,331 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,331 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,331 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,331 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,331 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,331 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,331 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,334 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   learning_rate: 0.015254010311290964
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,334 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   n_estimators: 270
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   subsample: 0.9338363605752303
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6435775161794274
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   reg_alpha: 0.10966313007085868
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO -   reg_lambda: 1.8570005277345276e-07
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,335 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,337 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,337 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,337 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,337 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,337 - src.hyperparameter_tuning - ERROR - Trial 82 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,355 - src.hyperparameter_tuning - INFO - Trial 83: 모델 타입 = lightgbm
2025-06-24 09:35:38,358 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,359 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,359 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,359 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,359 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,359 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,359 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,359 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,359 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,360 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,360 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,360 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,360 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,360 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,360 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,360 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,360 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,360 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,361 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,361 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,361 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,361 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,364 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,366 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,366 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,366 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,367 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,367 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,367 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,367 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,369 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,371 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,371 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,371 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,371 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,371 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,371 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,371 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,371 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,372 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,372 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,372 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,373 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,373 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,373 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,373 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,373 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,373 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,373 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,373 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,373 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,373 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,373 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,374 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,375 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,376 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,376 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,376 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,376 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,376 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   learning_rate: 0.019506751038527934
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   n_estimators: 72
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   subsample: 0.9016055807922
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6786527742452434
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   reg_alpha: 0.5179817334010663
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO -   reg_lambda: 2.585526747106335e-05
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,377 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,380 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,380 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,380 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,380 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,380 - src.hyperparameter_tuning - ERROR - Trial 83 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,397 - src.hyperparameter_tuning - INFO - Trial 84: 모델 타입 = lightgbm
2025-06-24 09:35:38,400 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,401 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,401 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,401 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,401 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,401 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,401 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,401 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,401 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,402 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,402 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,402 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,402 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,402 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,402 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,402 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,402 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,402 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,403 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,403 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,403 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,403 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,406 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,408 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,408 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,408 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,408 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,408 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,409 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,409 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,411 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,413 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,413 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,413 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,413 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,413 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,413 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,413 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,413 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,414 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,414 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,414 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,415 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,415 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,415 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,415 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,415 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,415 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,415 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,415 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,415 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,415 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,415 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,416 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,418 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,418 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,418 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,418 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,418 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   learning_rate: 0.011761518315917473
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,418 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   max_depth: 8
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   n_estimators: 336
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   subsample: 0.8814774332424677
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6589836190226069
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   min_child_weight: 9
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   reg_alpha: 0.03740462540171629
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO -   reg_lambda: 9.421800508700533e-07
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,419 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,421 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,421 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,421 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,421 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,421 - src.hyperparameter_tuning - ERROR - Trial 84 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,439 - src.hyperparameter_tuning - INFO - Trial 85: 모델 타입 = lightgbm
2025-06-24 09:35:38,443 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,443 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,443 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,443 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,443 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,443 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,443 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,443 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,443 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,444 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,444 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,444 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,444 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,444 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,444 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,444 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,444 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,444 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,445 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,445 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,445 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,445 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,449 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,451 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,451 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,451 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,451 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,451 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,451 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,451 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,453 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,455 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,455 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,455 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,455 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,455 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,456 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,456 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,456 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,456 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,457 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,457 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,457 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,457 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,457 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,457 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,457 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,457 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,459 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,460 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,460 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,460 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,460 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,460 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   learning_rate: 0.023369091605691176
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   n_estimators: 416
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   subsample: 0.9285006889587568
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6911826263958073
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   reg_alpha: 0.005586000009250545
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO -   reg_lambda: 1.0365316887043513e-07
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,461 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,464 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,464 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,464 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,464 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,464 - src.hyperparameter_tuning - ERROR - Trial 85 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,481 - src.hyperparameter_tuning - INFO - Trial 86: 모델 타입 = lightgbm
2025-06-24 09:35:38,485 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,486 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,486 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,486 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,486 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,486 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,486 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,486 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,486 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,486 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,486 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,487 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,487 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,487 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,487 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,487 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,487 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,487 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,488 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,488 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,488 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,488 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,491 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,493 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,493 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,493 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,493 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,493 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,493 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,493 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,496 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,498 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,498 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,498 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,498 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,498 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,498 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,498 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,498 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,499 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,499 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,499 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,500 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,500 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,500 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,500 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,500 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,500 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,500 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,502 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,503 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,503 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,503 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,503 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO -   learning_rate: 0.0167210164277769
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,503 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   n_estimators: 126
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   subsample: 0.8121859411209759
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.600980416597681
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   reg_alpha: 0.015484276919204112
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO -   reg_lambda: 3.60403122472424e-07
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,504 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,506 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,506 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,506 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,506 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,507 - src.hyperparameter_tuning - ERROR - Trial 86 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,524 - src.hyperparameter_tuning - INFO - Trial 87: 모델 타입 = lightgbm
2025-06-24 09:35:38,527 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,528 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,528 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,528 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,528 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,528 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,528 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,528 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,528 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,528 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,528 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,528 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,528 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,528 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,528 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,529 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,529 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,529 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,529 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,529 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,530 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,530 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,530 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,530 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,530 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,530 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,530 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,530 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,533 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,535 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,535 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,535 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,535 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,535 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,535 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,535 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,537 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,539 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,539 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,539 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,539 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,539 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,539 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,539 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,539 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,539 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,539 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,540 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,540 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,540 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,540 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,540 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,541 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,541 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,541 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,541 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,541 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,541 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,541 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,541 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,542 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,543 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,544 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,544 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,544 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,544 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,544 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,544 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   learning_rate: 0.08737941929340731
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   max_depth: 7
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   n_estimators: 485
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   subsample: 0.7725397087037676
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9032259116266748
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   reg_alpha: 3.4172998319315425e-06
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO -   reg_lambda: 8.925646395185016e-06
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,545 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,547 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,547 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,547 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,547 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,548 - src.hyperparameter_tuning - ERROR - Trial 87 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,564 - src.hyperparameter_tuning - INFO - Trial 88: 모델 타입 = lightgbm
2025-06-24 09:35:38,568 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,568 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,568 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,568 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,568 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,568 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,568 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,569 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,569 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,569 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,569 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,569 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,569 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,569 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,569 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,569 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,569 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,569 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,570 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,570 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,570 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,570 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,574 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,576 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,576 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,576 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,576 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,576 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,576 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,576 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,578 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,580 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,580 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,580 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,580 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,580 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,580 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,580 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,580 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,581 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,581 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,581 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,582 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,582 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,582 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,582 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,582 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,582 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,582 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,582 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,582 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,582 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,582 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,583 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,584 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,585 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,585 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,585 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,585 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   learning_rate: 0.20084862043853582
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,585 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   n_estimators: 436
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   subsample: 0.6836681494518045
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7513030717936812
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0001317813499998491
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO -   reg_lambda: 2.3433791053557896e-06
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,586 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,588 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,588 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,589 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,589 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,589 - src.hyperparameter_tuning - ERROR - Trial 88 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,606 - src.hyperparameter_tuning - INFO - Trial 89: 모델 타입 = lightgbm
2025-06-24 09:35:38,609 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,610 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,610 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,610 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,610 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,610 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,610 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,610 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,610 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,611 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,611 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,611 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,611 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,611 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,611 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,611 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,611 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,611 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,612 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,612 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,612 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,612 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,615 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,617 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,617 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,617 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,617 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,617 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,617 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,617 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,619 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,621 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,621 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,621 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,621 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,621 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,621 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,621 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,621 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,621 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,621 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,622 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,622 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,623 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,623 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,623 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,623 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,624 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,624 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,624 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,624 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,624 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,624 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,626 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   learning_rate: 0.010712348865860803
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   n_estimators: 569
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   subsample: 0.9715163381303065
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8835099955381397
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   min_child_weight: 6
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   reg_alpha: 3.181288168420014e-08
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO -   reg_lambda: 0.003706339122281663
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,627 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,630 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,630 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,630 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,630 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,630 - src.hyperparameter_tuning - ERROR - Trial 89 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,647 - src.hyperparameter_tuning - INFO - Trial 90: 모델 타입 = lightgbm
2025-06-24 09:35:38,650 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,651 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,651 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,651 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,651 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,651 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,651 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,651 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,651 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,652 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,652 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,652 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,652 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,652 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,652 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,652 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,652 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,652 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,653 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,653 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,653 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,653 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,656 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,658 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,658 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,658 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,658 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,658 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,658 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,658 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,660 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,662 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,662 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,662 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,662 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,662 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,662 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,663 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,663 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,664 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,664 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,664 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,664 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,664 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,664 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,664 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,664 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,664 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,664 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,664 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,665 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,665 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,665 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,665 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,665 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,666 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,667 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,667 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,667 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   learning_rate: 0.17292774562587593
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   n_estimators: 249
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   subsample: 0.9100639628414496
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.7319861545848053
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   min_child_weight: 7
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   reg_alpha: 6.841319298994953e-08
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO -   reg_lambda: 7.294516932532824e-08
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,668 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,671 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,671 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,671 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,671 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,671 - src.hyperparameter_tuning - ERROR - Trial 90 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,688 - src.hyperparameter_tuning - INFO - Trial 91: 모델 타입 = lightgbm
2025-06-24 09:35:38,692 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,692 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,693 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,693 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,693 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,693 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,693 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,693 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,693 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,693 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,693 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,693 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,693 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,693 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,693 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,693 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,693 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,693 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,694 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,694 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,694 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,694 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,698 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,700 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,700 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,700 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,700 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,700 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,700 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,700 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,702 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,704 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,704 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,704 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,704 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,704 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,704 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,704 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,704 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,705 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,705 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,705 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,705 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,705 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,705 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,705 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,705 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,705 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,706 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,706 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,706 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,706 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,706 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,706 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,706 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,706 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,707 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,709 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,709 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   learning_rate: 0.11013898979209548
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   n_estimators: 86
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   subsample: 0.9578849478844019
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9636601537167676
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   reg_alpha: 1.4565994044938084e-05
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO -   reg_lambda: 4.107640210812544e-06
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,710 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,712 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,713 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,713 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,713 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,713 - src.hyperparameter_tuning - ERROR - Trial 91 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,730 - src.hyperparameter_tuning - INFO - Trial 92: 모델 타입 = lightgbm
2025-06-24 09:35:38,733 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,734 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,734 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,734 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,734 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,734 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,734 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,734 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,734 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,734 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,734 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,734 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,734 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,734 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,734 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,734 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,734 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,734 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,735 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,735 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,735 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,735 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,739 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,741 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,741 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,741 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,741 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,741 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,741 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,741 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,743 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,745 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,745 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,745 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,745 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,745 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,745 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,745 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,745 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,745 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,745 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,746 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,746 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,746 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,746 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,746 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,747 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,747 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,747 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,747 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,747 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,747 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,747 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,747 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,748 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,749 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,750 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,750 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,750 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,750 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,750 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   learning_rate: 0.06512620613719415
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   n_estimators: 62
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   subsample: 0.9440049750817702
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9069793609426638
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   reg_alpha: 1.3433121325142226e-06
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO -   reg_lambda: 2.1808112052856218e-08
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,751 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,753 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,753 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,753 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,754 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,754 - src.hyperparameter_tuning - ERROR - Trial 92 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,771 - src.hyperparameter_tuning - INFO - Trial 93: 모델 타입 = lightgbm
2025-06-24 09:35:38,774 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,775 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,775 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,775 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,775 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,775 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,775 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,775 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,775 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,776 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,776 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,776 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,776 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,776 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,776 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,776 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,776 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,776 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,777 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,777 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,777 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,777 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,780 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,782 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,782 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,782 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,782 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,782 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,782 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,782 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,784 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,786 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,786 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,786 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,786 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,786 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,786 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,786 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,786 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,786 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,786 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,787 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,787 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,787 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,787 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,787 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,788 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,788 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,788 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,788 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,788 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,788 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,788 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,788 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,788 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,791 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,791 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,791 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,791 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,791 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   learning_rate: 0.144034078327933
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   n_estimators: 161
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   subsample: 0.891280205171518
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9241422630860318
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   reg_alpha: 7.365332985642187e-05
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO -   reg_lambda: 5.580919445808581e-05
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,792 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,795 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,795 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,795 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,795 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,795 - src.hyperparameter_tuning - ERROR - Trial 93 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,812 - src.hyperparameter_tuning - INFO - Trial 94: 모델 타입 = lightgbm
2025-06-24 09:35:38,815 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,816 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,816 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,816 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,816 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,816 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,816 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,816 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,816 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,817 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,817 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,817 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,817 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,817 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,817 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,817 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,817 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,817 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,818 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,818 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,818 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,818 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,821 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,823 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,823 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,823 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,823 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,823 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,823 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,823 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,825 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,827 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,827 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,827 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,827 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,827 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,827 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,827 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,827 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,827 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,827 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,828 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,828 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,828 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,828 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,829 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,829 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,829 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,829 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,829 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,829 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,829 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,829 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,829 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,829 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,830 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,831 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,832 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,832 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,832 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,832 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   learning_rate: 0.03226966411568605
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   n_estimators: 111
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   subsample: 0.8275247108212429
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.6198230292372529
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   reg_alpha: 0.00034040068930289746
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO -   reg_lambda: 4.96586351698221e-07
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,833 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,836 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,836 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,836 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,836 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,836 - src.hyperparameter_tuning - ERROR - Trial 94 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,853 - src.hyperparameter_tuning - INFO - Trial 95: 모델 타입 = lightgbm
2025-06-24 09:35:38,856 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,857 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,857 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,857 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,857 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,857 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,857 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,857 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,857 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,858 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,858 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,858 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,858 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,858 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,858 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,858 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,858 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,858 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,859 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,859 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,859 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,859 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,862 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,864 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,864 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,864 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,864 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,864 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,864 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,864 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,866 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,868 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,868 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,868 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,868 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,868 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,868 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,868 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,868 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,868 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,869 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,869 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,870 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,870 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,870 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,870 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,870 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,870 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,871 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,871 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,871 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,871 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,872 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,873 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,873 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,873 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   learning_rate: 0.23289446247753645
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   max_depth: 10
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   n_estimators: 199
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   subsample: 0.9182339907634957
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8414284434329359
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   min_child_weight: 2
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   reg_alpha: 0.30891866315595923
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO -   reg_lambda: 7.06945184557314
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,874 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,877 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,877 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,877 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,877 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,877 - src.hyperparameter_tuning - ERROR - Trial 95 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,895 - src.hyperparameter_tuning - INFO - Trial 96: 모델 타입 = lightgbm
2025-06-24 09:35:38,898 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,899 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,899 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,899 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,899 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,899 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,899 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,899 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,899 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,900 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,900 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,900 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,900 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,900 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,900 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,900 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,900 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,900 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,901 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,901 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,901 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,901 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,904 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,906 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,906 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,906 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,906 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,906 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,906 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,906 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,908 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,910 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,910 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,910 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,910 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,910 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,910 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,910 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,910 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,910 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,910 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,911 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,911 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,912 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,912 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,912 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,912 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,912 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,912 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,912 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,912 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,912 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,913 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,913 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,914 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,915 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,915 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,915 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,915 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   learning_rate: 0.0128858323826597
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   max_depth: 12
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   n_estimators: 392
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   subsample: 0.9883471561917563
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.9800264200829185
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   min_child_weight: 8
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   reg_alpha: 0.0008163736186869123
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO -   reg_lambda: 7.146987388366111e-08
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,916 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,919 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,919 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,919 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,919 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,919 - src.hyperparameter_tuning - ERROR - Trial 96 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,937 - src.hyperparameter_tuning - INFO - Trial 97: 모델 타입 = lightgbm
2025-06-24 09:35:38,940 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,941 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,941 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,941 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,941 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,941 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,941 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,941 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,941 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,941 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,941 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,941 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,941 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,941 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,941 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,941 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,941 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,941 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,942 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,942 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,942 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,942 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,946 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,948 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,948 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,948 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,948 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,948 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,948 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,948 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,950 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,952 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,952 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,952 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,952 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,952 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,952 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,952 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,952 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,953 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,953 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,953 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,954 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,954 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,954 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,954 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,954 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,954 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,954 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,954 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,954 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,954 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,954 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,954 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,955 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,956 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,957 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,957 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,957 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   learning_rate: 0.04708035431951437
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   max_depth: 11
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,957 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   n_estimators: 545
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   subsample: 0.8481306135407106
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8777043418153438
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   min_child_weight: 1
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   reg_alpha: 5.301017506056371e-06
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO -   reg_lambda: 1.4157321646404635e-07
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,958 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:38,960 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:38,960 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:38,960 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:38,960 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:38,960 - src.hyperparameter_tuning - ERROR - Trial 97 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:38,978 - src.hyperparameter_tuning - INFO - Trial 98: 모델 타입 = lightgbm
2025-06-24 09:35:38,981 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:38,981 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:38,981 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:38,981 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:38,981 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:38,981 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:38,982 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:38,982 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:38,982 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:38,982 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:38,982 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:38,982 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:38,982 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:38,982 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:38,982 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:38,982 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:38,982 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:38,982 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:38,983 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:38,983 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:38,983 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:38,983 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:38,986 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:38,988 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,988 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:38,988 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:38,988 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:38,989 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:38,989 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:38,989 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:38,990 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:38,992 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:38,992 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,992 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,992 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:38,993 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:38,993 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,993 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:38,993 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,994 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,994 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:38,994 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:38,995 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:38,995 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:38,995 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:38,995 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:38,995 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:38,995 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:38,995 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,995 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:38,997 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   learning_rate: 0.014754168878137339
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   max_depth: 9
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   n_estimators: 354
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   subsample: 0.7178025885121065
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8037627937927796
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   min_child_weight: 10
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   reg_alpha: 2.5408310634329025e-06
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO -   reg_lambda: 1.658568588495107e-05
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:38,998 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:39,001 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:39,001 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:39,001 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:39,001 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:39,001 - src.hyperparameter_tuning - ERROR - Trial 98 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:39,018 - src.hyperparameter_tuning - INFO - Trial 99: 모델 타입 = lightgbm
2025-06-24 09:35:39,022 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:35:39,022 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:35:39,022 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:35:39,022 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:35:39,022 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:35:39,022 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:35:39,022 - src.training - INFO - 교차 검증 시작
2025-06-24 09:35:39,022 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:35:39,022 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:35:39,023 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:35:39,023 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:35:39,023 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:35:39,023 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:35:39,023 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:35:39,023 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:35:39,023 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:35:39,023 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:35:39,023 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:35:39,024 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:35:39,024 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:35:39,024 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:35:39,024 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:35:39,027 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:35:39,029 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:39,029 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:35:39,030 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:35:39,030 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:35:39,030 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:35:39,030 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:35:39,030 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:35:39,032 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:35:39,033 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:35:39,034 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:39,034 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:39,034 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:35:39,034 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:35:39,034 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,034 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:35:39,034 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,035 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:39,035 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:35:39,035 - src.training - INFO - 모델 학습 시작
2025-06-24 09:35:39,036 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:35:39,036 - src.training - INFO - 모델 타입: lightgbm
2025-06-24 09:35:39,036 - src.models.model_factory - INFO - 모델 타입 'lightgbm'으로 모델을 생성합니다.
2025-06-24 09:35:39,036 - src.models.base_model - INFO - LIGHTGBM 모델 초기화 완료
2025-06-24 09:35:39,036 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:35:39,036 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO - 입력 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO - 검증 데이터 형태: X_val=(250, 6), y_val=(250, 1)
2025-06-24 09:35:39,036 - src.models.lightgbm_model - INFO - 입력 데이터 검증 및 전처리 중...
2025-06-24 09:35:39,036 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:35:39,036 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:39,036 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:39,036 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:35:39,037 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:35:39,038 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:35:39,039 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:35:39,039 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:35:39,039 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:35:39,039 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - 전처리 후 데이터 형태: X=(500, 6), y=(500, 1)
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - === 타겟 pass__suicide_a_next_year 모델 학습 시작 ===
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 데이터 정리 후: X=(500, 6), y=500
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - 검증 데이터 정리 후: X_val=(250, 6), y_val=250
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO - === pass__suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   num_leaves: 31
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   learning_rate: 0.03847826310814636
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   feature_fraction: 0.9
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   bagging_fraction: 0.8
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   bagging_freq: 5
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   min_data_in_leaf: 20
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   min_sum_hessian_in_leaf: 1e-3
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   lambda_l1: 0.1
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   lambda_l2: 0.1
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   num_threads: 28
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   verbose: -1
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   max_cat_threshold: 32
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   cat_smooth: 10.0
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   cat_l2: 10.0
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   is_unbalance: True
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   class_weight: balanced
2025-06-24 09:35:39,039 - src.models.lightgbm_model - INFO -   boosting_type: gbdt
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   objective: regression
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   metric: rmse
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   max_depth: 4
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   min_gain_to_split: 0.0
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   min_child_samples: 20
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   bagging_seed: 42
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   feature_fraction_seed: 42
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   drop_seed: 42
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   data_random_seed: 42
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   n_estimators: 139
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   subsample: 0.9029634435810079
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   colsample_bytree: 0.8644492537002094
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   min_child_weight: 3
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   reg_alpha: 1.8669869859858968e-05
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO -   reg_lambda: 1.3473548198935023e-08
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO - LightGBM 데이터셋 생성 중...
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO - 검증 데이터셋 생성 완료
2025-06-24 09:35:39,040 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 시작 (타겟: pass__suicide_a_next_year)
2025-06-24 09:35:39,042 - src.models.lightgbm_model - INFO - 타겟 pass__suicide_a_next_year 모델 학습 완료
2025-06-24 09:35:39,042 - src.models.lightgbm_model - INFO -   - Best Score: defaultdict(<class 'collections.OrderedDict'>, {'valid': OrderedDict({'rmse': 0.002})})
2025-06-24 09:35:39,042 - src.models.lightgbm_model - INFO -   - Best Iteration: 1
2025-06-24 09:35:39,042 - src.models.lightgbm_model - INFO - LightGBM 모델 학습 완료
2025-06-24 09:35:39,042 - src.hyperparameter_tuning - ERROR - Trial 99 실패: 모델이 학습되지 않았습니다. fit() 메서드를 먼저 호출하세요.
2025-06-24 09:35:39,043 - src.hyperparameter_tuning - INFO - 튜닝 완료 - 최고 성능: -inf
2025-06-24 09:35:39,043 - src.hyperparameter_tuning - INFO - 튜닝 시간: 3.92초
2025-06-24 09:35:39,048 - __main__ - INFO - 튜닝 결과 저장 중...
2025-06-24 09:35:39,048 - __main__ - ERROR - 결과 저장 실패: 'NoneType' object has no attribute 'copy'
2025-06-24 09:35:39,048 - __main__ - INFO - 최고 성능: -inf
2025-06-24 09:35:39,048 - __main__ - INFO - 최적 파라미터:
2025-06-24 09:35:39,048 - __main__ - INFO -   n_estimators: 406
2025-06-24 09:35:39,048 - __main__ - INFO -   max_depth: 12
2025-06-24 09:35:39,048 - __main__ - INFO -   learning_rate: 0.1205712628744377
2025-06-24 09:35:39,048 - __main__ - INFO -   subsample: 0.8394633936788146
2025-06-24 09:35:39,048 - __main__ - INFO -   colsample_bytree: 0.6624074561769746
2025-06-24 09:35:39,048 - __main__ - INFO -   min_child_weight: 2
2025-06-24 09:35:39,048 - __main__ - INFO -   reg_alpha: 3.3323645788192616e-08
2025-06-24 09:35:39,048 - __main__ - INFO -   reg_lambda: 0.6245760287469893

==================================================
튜닝 결과 요약
==================================================
모델 타입: lightgbm
실험 타입: hyperparameter_tuning
사용 데이터 행 수: 1,000
MLflow 링크: http://localhost:5000/#/experiments/765186397364671153/runs/8964daeb8d1f4e3cad44f192c950229d
최고 성능: -inf
최적 파라미터: {'n_estimators': 406, 'max_depth': 12, 'learning_rate': 0.1205712628744377, 'subsample': 0.8394633936788146, 'colsample_bytree': 0.6624074561769746, 'min_child_weight': 2, 'reg_alpha': 3.3323645788192616e-08, 'reg_lambda': 0.6245760287469893}
튜닝 시간: 3.9230165481567383
==================================================
2025-06-24 09:35:39,049 - __main__ - INFO - 실험 결과가 /home/junhyung/Documents/simcare/kbsmc_suicide/results/experiment_results_20250624_093539.txt에 저장되었습니다.
2025-06-24 09:35:39,049 - __main__ - INFO - MLflow Experiment ID: 765186397364671153
2025-06-24 09:35:39,049 - __main__ - INFO - MLflow Run ID: 8964daeb8d1f4e3cad44f192c950229d
2025-06-24 09:35:39,049 - __main__ - INFO - MLflow 링크: http://localhost:5000/#/experiments/765186397364671153/runs/8964daeb8d1f4e3cad44f192c950229d
2025-06-24 09:35:39,049 - __main__ - ERROR - 하이퍼파라미터 튜닝 실패: 'tuple' object has no attribute 'get'
