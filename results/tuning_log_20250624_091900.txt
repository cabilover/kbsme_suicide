2025-06-24 09:19:00,823 - src.hyperparameter_tuning - INFO - MLflow 실험 설정: hyperparameter_tuning (ID: 765186397364671153)
2025-06-24 09:19:00,823 - src.hyperparameter_tuning - INFO - 데이터 로드 중: data/processed/processed_data_with_features.csv
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO - 테스트용 데이터 로드: 1,000 행
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO - 모델 타입: xgboost
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO - 튜닝 설정 - 시도 횟수: 100, 타임아웃: 3600초
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO - 하이퍼파라미터 튜너 초기화 완료
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO -   - 튜닝 설정: {}
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO -   - 튜닝 횟수: 100
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO -   - 타임아웃: 3600초
2025-06-24 09:19:00,828 - __main__ - INFO - 하이퍼파라미터 최적화 실행 중...
2025-06-24 09:19:00,828 - src.hyperparameter_tuning - INFO - === 하이퍼파라미터 튜닝 시작 ===
2025-06-24 09:19:00,829 - src.hyperparameter_tuning - INFO - Trial 0: 모델 타입 = xgboost
2025-06-24 09:19:00,832 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:19:00,833 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:19:00,833 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:19:00,833 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:19:00,833 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:19:00,833 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:19:00,834 - src.training - INFO - 교차 검증 시작
2025-06-24 09:19:00,834 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:19:00,834 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:19:00,835 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:19:00,835 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:19:00,835 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:19:00,835 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:19:00,835 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:19:00,835 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:19:00,835 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:19:00,835 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:19:00,835 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:19:00,836 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:19:00,836 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:19:00,836 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:19:00,836 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:19:00,841 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:19:00,843 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:19:00,843 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:19:00,843 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:19:00,843 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:19:00,843 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:19:00,843 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:19:00,843 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,845 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:19:00,847 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:19:00,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,847 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,847 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,847 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,847 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:19:00,847 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,847 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,848 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:19:00,848 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,848 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:19:00,848 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:19:00,848 - src.training - INFO - 모델 학습 시작
2025-06-24 09:19:00,849 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:19:00,849 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:19:00,849 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:19:00,849 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:19:00,849 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:19:00,850 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:19:00,850 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:19:00,850 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:19:00,850 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:19:00,850 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,850 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,851 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,851 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:19:00,851 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:19:00,852 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:19:00,853 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   n_estimators: 100
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   learning_rate: 0.1
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   subsample: 0.8
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:19:00,853 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:19:00,854 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:19:00,884 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:19:00,884 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:19:00,884 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:19:00,884 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:19:00,884 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,886 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,886 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:19:00,886 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,886 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:19:00,887 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:19:00,887 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:19:00,887 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:19:00,887 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:19:00,887 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,887 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:19:00,887 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:19:00,887 - src.training - INFO -   부분 매칭: pass__suicide_a_next_year -> suicide_a_next_year
2025-06-24 09:19:00,887 - src.training - INFO -   true_vals shape: (250,), pred_vals shape: (250,)
2025-06-24 09:19:00,887 - src.training - INFO -   true_vals unique: [0.0]
2025-06-24 09:19:00,887 - src.training - INFO -   pred_vals unique: [0 1]
2025-06-24 09:19:00,887 - src.training - INFO -   유효한 샘플 수: 250
2025-06-24 09:19:00,887 - src.training - INFO - === 예측 결과 평가 완료 - 0개 메트릭 ===
2025-06-24 09:19:00,887 - src.training - INFO - 계산된 메트릭: []
2025-06-24 09:19:00,887 - src.training - INFO - 피처 검증은 원본 데이터에서 수행되어야 하므로 건너뜁니다.
2025-06-24 09:19:00,888 - src.training - INFO - 모델 학습 완료
2025-06-24 09:19:00,888 - src.training - INFO - 검증 성능: {}
2025-06-24 09:19:00,888 - src.training - INFO - [DEBUG] train_model 진입 - X_train 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,888 - src.training - INFO - [DEBUG] train_model 진입 - y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,888 - src.training - INFO - [DEBUG] train_model 진입 - X_val 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,888 - src.training - INFO - [DEBUG] train_model 진입 - y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,902 - src.training - INFO - 폴드 1 학습 결과 MLflow 로깅 완료
2025-06-24 09:19:00,902 - src.training - INFO - 폴드 1 완료
2025-06-24 09:19:00,903 - src.splits - INFO - 그룹 K-Fold 폴드 2 생성 완료
2025-06-24 09:19:00,903 - src.splits - INFO -   - 훈련 데이터: 571 행 (72개 ID)
2025-06-24 09:19:00,903 - src.splits - INFO -   - 검증 데이터: 285 행 (35개 ID)
2025-06-24 09:19:00,903 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:19:00,903 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:19:00,903 - src.training - INFO - === 폴드 2 학습 ===
2025-06-24 09:19:00,903 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:19:00,903 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:19:00,903 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:19:00,904 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:19:00,904 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:19:00,904 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:19:00,904 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:19:00,908 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:19:00,910 - src.preprocessing - INFO - 데이터 변환 완료: (571, 33)
2025-06-24 09:19:00,910 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:19:00,910 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:19:00,910 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:19:00,910 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:19:00,910 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:19:00,910 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,912 - src.preprocessing - INFO - 데이터 변환 완료: (571, 33)
2025-06-24 09:19:00,914 - src.preprocessing - INFO - 데이터 변환 완료: (285, 33)
2025-06-24 09:19:00,914 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,915 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,915 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,915 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,915 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] X_train shape: (571, 6), y_train shape: (571, 1)
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] X_val shape: (285, 6), y_val shape: (285, 1)
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,915 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] X_train_resampled shape: (571, 6), y_train_resampled shape: (571, 1)
2025-06-24 09:19:00,915 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,916 - src.training - INFO - 폴드 2 - 리샘플링 전 클래스 분포: {(0.0,): 498, (1.0,): 1}
2025-06-24 09:19:00,916 - src.training - INFO - 폴드 2 - 리샘플링 후 클래스 분포: {(0.0,): 498, (1.0,): 1}
2025-06-24 09:19:00,916 - src.training - INFO - 모델 학습 시작
2025-06-24 09:19:00,917 - src.training - INFO - 결측 타겟 제거: train 571->499, val 285->251
2025-06-24 09:19:00,917 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:19:00,917 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:19:00,917 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:19:00,917 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:19:00,917 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:19:00,917 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:19:00,917 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:19:00,917 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:19:00,917 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,917 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (499, 6)
2025-06-24 09:19:00,917 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (499, 6)
2025-06-24 09:19:00,917 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,917 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (499, 6)
2025-06-24 09:19:00,918 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (499, 6), y shape: (499, 1)
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,919 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,919 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (499, 6)
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (251, 6)
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (251, 6)
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (251, 6), y shape: (251, 1)
2025-06-24 09:19:00,920 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,920 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (251, 6)
2025-06-24 09:19:00,920 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,920 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   - scale_pos_weight: 498.00
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   n_estimators: 100
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   learning_rate: 0.1
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   subsample: 0.8
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   scale_pos_weight: 498.0
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:19:00,921 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:19:00,941 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:19:00,941 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:19:00,941 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:19:00,941 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (251, 6)
2025-06-24 09:19:00,941 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,942 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,943 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (251, 6)
2025-06-24 09:19:00,943 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,943 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (251, 6)
2025-06-24 09:19:00,943 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:19:00,943 - src.models.xgboost_model - INFO - 예측 완료: (251, 1)
2025-06-24 09:19:00,943 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:19:00,943 - src.training - INFO - y_true shape: (251, 1), y_pred shape: (251, 1)
2025-06-24 09:19:00,943 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,943 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:19:00,943 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:19:00,944 - src.training - INFO -   부분 매칭: pass__suicide_a_next_year -> suicide_a_next_year
2025-06-24 09:19:00,944 - src.training - INFO -   true_vals shape: (251,), pred_vals shape: (251,)
2025-06-24 09:19:00,944 - src.training - INFO -   true_vals unique: [0.0]
2025-06-24 09:19:00,944 - src.training - INFO -   pred_vals unique: [0]
2025-06-24 09:19:00,944 - src.training - INFO -   유효한 샘플 수: 251
2025-06-24 09:19:00,944 - src.training - INFO - === 예측 결과 평가 완료 - 0개 메트릭 ===
2025-06-24 09:19:00,944 - src.training - INFO - 계산된 메트릭: []
2025-06-24 09:19:00,944 - src.training - INFO - 모델 학습 완료
2025-06-24 09:19:00,944 - src.training - INFO - 검증 성능: {}
2025-06-24 09:19:00,944 - src.training - INFO - [DEBUG] train_model 진입 - X_train 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,944 - src.training - INFO - [DEBUG] train_model 진입 - y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,944 - src.training - INFO - [DEBUG] train_model 진입 - X_val 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,944 - src.training - INFO - [DEBUG] train_model 진입 - y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,947 - src.training - INFO - 폴드 2 학습 결과 MLflow 로깅 완료
2025-06-24 09:19:00,947 - src.training - INFO - 폴드 2 완료
2025-06-24 09:19:00,947 - src.splits - INFO - 그룹 K-Fold 폴드 3 생성 완료
2025-06-24 09:19:00,947 - src.splits - INFO -   - 훈련 데이터: 571 행 (71개 ID)
2025-06-24 09:19:00,947 - src.splits - INFO -   - 검증 데이터: 285 행 (36개 ID)
2025-06-24 09:19:00,947 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:19:00,947 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:19:00,947 - src.training - INFO - === 폴드 3 학습 ===
2025-06-24 09:19:00,947 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:19:00,947 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:19:00,947 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:19:00,948 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,948 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,948 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:19:00,949 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:19:00,949 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,949 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:19:00,949 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:19:00,949 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:19:00,949 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:19:00,949 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:19:00,952 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:19:00,954 - src.preprocessing - INFO - 데이터 변환 완료: (571, 33)
2025-06-24 09:19:00,954 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:19:00,954 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:19:00,954 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:19:00,954 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:19:00,954 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:19:00,954 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:19:00,956 - src.preprocessing - INFO - 데이터 변환 완료: (571, 33)
2025-06-24 09:19:00,958 - src.preprocessing - INFO - 데이터 변환 완료: (285, 33)
2025-06-24 09:19:00,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:19:00,958 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:19:00,958 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,958 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:19:00,958 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:19:00,958 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,958 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] X_train shape: (571, 6), y_train shape: (571, 1)
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] X_val shape: (285, 6), y_val shape: (285, 1)
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,959 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] X_train_resampled shape: (571, 6), y_train_resampled shape: (571, 1)
2025-06-24 09:19:00,959 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,960 - src.training - INFO - 폴드 3 - 리샘플링 전 클래스 분포: {(0.0,): 501}
2025-06-24 09:19:00,960 - src.training - INFO - 폴드 3 - 리샘플링 후 클래스 분포: {(0.0,): 501}
2025-06-24 09:19:00,960 - src.training - INFO - 모델 학습 시작
2025-06-24 09:19:00,961 - src.training - INFO - 결측 타겟 제거: train 571->501, val 285->249
2025-06-24 09:19:00,961 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:19:00,961 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:19:00,961 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:19:00,961 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:19:00,961 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:19:00,961 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:19:00,961 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:19:00,961 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:19:00,961 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,961 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (501, 6)
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (501, 6)
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,961 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (501, 6)
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (501, 6), y shape: (501, 1)
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,962 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,962 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (501, 6)
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (249, 6)
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,962 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (249, 6)
2025-06-24 09:19:00,963 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (249, 6), y shape: (249, 1)
2025-06-24 09:19:00,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (249, 6)
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   - scale_pos_weight: 1.00
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   n_estimators: 100
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   learning_rate: 0.1
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   subsample: 0.8
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   scale_pos_weight: 1.0
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:19:00,964 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:19:00,976 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:19:00,976 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:19:00,976 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:19:00,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (249, 6)
2025-06-24 09:19:00,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:19:00,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:19:00,978 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:19:00,978 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (249, 6)
2025-06-24 09:19:00,978 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (249, 6)
2025-06-24 09:19:00,978 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:19:00,979 - src.models.xgboost_model - INFO - 예측 완료: (249, 1)
2025-06-24 09:19:00,979 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:19:00,979 - src.training - INFO - y_true shape: (249, 1), y_pred shape: (249, 1)
2025-06-24 09:19:00,979 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,979 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:19:00,979 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:19:00,979 - src.training - INFO -   부분 매칭: pass__suicide_a_next_year -> suicide_a_next_year
2025-06-24 09:19:00,979 - src.training - INFO -   true_vals shape: (249,), pred_vals shape: (249,)
2025-06-24 09:19:00,979 - src.training - INFO -   true_vals unique: [0.0 1.0]
2025-06-24 09:19:00,979 - src.training - INFO -   pred_vals unique: [0]
2025-06-24 09:19:00,979 - src.training - INFO -   유효한 샘플 수: 249
2025-06-24 09:19:00,979 - src.training - INFO - === 예측 결과 평가 완료 - 0개 메트릭 ===
2025-06-24 09:19:00,979 - src.training - INFO - 계산된 메트릭: []
2025-06-24 09:19:00,979 - src.training - INFO - 모델 학습 완료
2025-06-24 09:19:00,979 - src.training - INFO - 검증 성능: {}
2025-06-24 09:19:00,979 - src.training - INFO - [DEBUG] train_model 진입 - X_train 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,979 - src.training - INFO - [DEBUG] train_model 진입 - y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,979 - src.training - INFO - [DEBUG] train_model 진입 - X_val 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:19:00,979 - src.training - INFO - [DEBUG] train_model 진입 - y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:19:00,982 - src.training - INFO - 폴드 3 학습 결과 MLflow 로깅 완료
2025-06-24 09:19:00,982 - src.training - INFO - 폴드 3 완료
2025-06-24 09:19:00,983 - src.training - INFO - 교차 검증 완료: 3개 폴드
2025-06-24 09:19:00,983 - src.training - INFO - 집계 성능: {}
2025-06-24 09:19:00,983 - src.training - INFO - 최고 성능 폴드: None (점수: -inf)
2025-06-24 09:19:00,983 - src.training - INFO - 리샘플링 사용: False
2025-06-24 09:19:00,983 - src.hyperparameter_tuning - ERROR - Trial 0 실패: 'evaluation'
2025-06-24 09:19:00,984 - src.hyperparameter_tuning - ERROR - 튜닝 실행 중 오류 발생: 'tuning'
2025-06-24 09:19:00,984 - __main__ - ERROR - 하이퍼파라미터 튜닝 실패: 'tuning'

==================================================
튜닝 결과 요약
==================================================
모델 타입: xgboost
실험 타입: hyperparameter_tuning
사용 데이터 행 수: 1,000
에러 메시지: 'tuning'
==================================================
