2025-06-24 09:25:21,804 - src.hyperparameter_tuning - INFO - MLflow 실험 설정: hyperparameter_tuning (ID: 765186397364671153)
2025-06-24 09:25:21,804 - src.hyperparameter_tuning - INFO - 데이터 로드 중: data/processed/processed_data_with_features.csv
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO - 테스트용 데이터 로드: 1,000 행
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO - 모델 타입: xgboost
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO - 튜닝 설정 - 시도 횟수: 100, 타임아웃: 3600초
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO - 하이퍼파라미터 튜너 초기화 완료
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO -   - 튜닝 설정: {'data': {'file_path': 'data/processed_data.csv', 'encoding': 'utf-8', 'na_values': ['', 'nan', 'NaN', 'NULL', 'null']}, 'features': {'target_columns': ['suicide_a_next_year'], 'exclude_columns': ['id', 'patient_id', 'visit_date', 'visit_year'], 'categorical_columns': ['gender', 'marital_status', 'education_level', 'income_level', 'residence_type', 'insurance_type', 'primary_diagnosis', 'comorbidity', 'medication_type', 'treatment_type', 'follow_up_status'], 'selected_features': ['age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score'], 'validation': {'scope': 'sample', 'sample_size': 10}, 'enable_feature_engineering': False, 'enable_lagged_features': False, 'lag_periods': [1, 2, 3], 'lagged_features': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}, 'enable_rolling_stats': False, 'rolling_stats': {'window_sizes': [2, 3], 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp']}}, 'preprocessing': {'time_series_imputation': {'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp'], 'fallback_strategy': 'mean'}, 'numerical_imputation': {'strategy': 'mean', 'columns': ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']}, 'categorical_imputation': {'strategy': 'most_frequent', 'columns': ['sex']}, 'categorical_encoding': {'method': 'ordinal'}, 'missing_value_strategy': 'median', 'outlier_detection': {'method': 'iqr', 'threshold': 1.5}, 'scaling': {'method': 'robust', 'with_mean': True, 'with_std': True}, 'feature_selection': {'method': 'variance_threshold', 'threshold': 0.01}}, 'data_split': {'test_ids_ratio': 0.15, 'random_state': 42, 'method': 'stratified_kfold', 'n_splits': 5, 'test_size': 0.2, 'val_size': 0.2}, 'validation': {'strategy': 'group_kfold', 'num_cv_folds': 3, 'test_size': 0.15, 'random_state': 42, 'val_ids_ratio': 0.15, 'validation_start_year': 2021, 'min_train_years': 3, 'max_train_years': 8}, 'time_series': {'date_column': 'dov', 'year_column': 'yov', 'id_column': 'id'}, 'evaluation': {'regression_metrics': ['mae', 'rmse', 'r2'], 'classification_metrics': ['precision', 'recall', 'f1', 'roc_auc', 'balanced_accuracy'], 'cv_metrics': ['accuracy', 'f1', 'auc', 'rmse', 'r2'], 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True, 'primary_metric': 'f1_score', 'secondary_metrics': ['recall', 'precision', 'balanced_accuracy', 'roc_auc'], 'cv': {'strategy': 'group_kfold', 'n_folds': 5, 'shuffle': False}}, 'training': {'early_stopping': True, 'patience': 10, 'handle_imbalance': True, 'save_best_model': True, 'model_save_path': 'models/'}, 'logging': {'log_splits_info': True, 'log_fold_details': True, 'level': 'INFO', 'format': '%(asctime)s - %(name)s - %(levelname)s - %(message)s', 'file': 'logs/experiment.log'}, 'output': {'directory': 'results', 'save_model': True, 'save_predictions': True, 'save_feature_importance': True, 'save_confusion_matrix': True, 'save_roc_curve': True, 'save_precision_recall_curve': True}, 'mlflow': {'experiment_name': 'hyperparameter_tuning', 'experiment_description': '자살 위험 예측 모델 실험', 'tags': ['suicide_prediction', 'healthcare', 'classification', 'regression'], 'nested_runs': True, 'save_artifacts': True, 'log_params': True, 'log_metrics': True, 'log_model': True, 'tracking': {'tracking_uri': 'file:./mlruns', 'experiment_name': 'suicide_prediction', 'nested_runs': True, 'artifact_location': './mlruns'}, 'logging': {'param_logging_level': 'INFO', 'metric_logging_level': 'INFO', 'artifact_logging_level': 'INFO', 'log_experiment_info': True, 'log_fold_results': True, 'log_model_info': True}, 'log_optimization': True}, 'model': {'model_type': 'xgboost', 'xgboost': {'n_estimators': 100, 'max_depth': 6, 'learning_rate': 0.1, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 1, 'scale_pos_weight': 1.0, 'early_stopping_rounds': 10, 'verbose': 0, 'n_jobs': 28, 'use_focal_loss': False, 'focal_loss': {'alpha': 0.25, 'gamma': 2.0}}}, 'resampling': {'enabled': False, 'method': 'smote', 'random_state': 42, 'smote_k_neighbors': 5, 'borderline_smote_k_neighbors': 5, 'adasyn_k_neighbors': 5, 'under_sampling_strategy': 'random', 'hybrid_strategy': 'smote_tomek', 'time_series_adapted': {'enabled': False, 'time_weight': 0.3, 'pattern_preservation': True}}, 'experiment': {'name': 'hyperparameter_tuning_experiment', 'description': 'Optuna 기반 하이퍼파라미터 최적화 실험', 'tags': ['hyperparameter_tuning', 'optuna', 'optimization']}, 'tuning': {'direction': 'maximize', 'n_trials': 50, 'n_jobs': 1, 'early_stopping': {'enabled': True, 'patience': 20, 'min_trials': 30}}, 'sampler': {'type': 'tpe', 'tpe': {'n_startup_trials': 10, 'n_ei_candidates': 24, 'multivariate': True, 'group': False}, 'cmaes': {'x0': {'n_estimators': 100, 'max_depth': 6, 'learning_rate': 0.1, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 1, 'reg_alpha': 0.1, 'reg_lambda': 1.0}, 'sigma0': 0.1}}, 'xgboost_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 15, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'scale_pos_weight': {'type': 'float', 'low': 0.5, 'high': 10.0, 'log': True}}, 'lightgbm_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 1000, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 12, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'subsample': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'colsample_bytree': {'type': 'float', 'low': 0.6, 'high': 1.0, 'log': False}, 'min_child_weight': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'reg_alpha': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}, 'reg_lambda': {'type': 'float', 'low': '1e-8', 'high': 10.0, 'log': True}}, 'catboost_params': {'iterations': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'depth': {'type': 'int', 'low': 3, 'high': 10, 'log': False}, 'learning_rate': {'type': 'float', 'low': 0.01, 'high': 0.3, 'log': True}, 'l2_leaf_reg': {'type': 'float', 'low': 1, 'high': 10, 'log': True}, 'border_count': {'type': 'int', 'low': 32, 'high': 255, 'log': False}, 'bagging_temperature': {'type': 'float', 'low': 0.1, 'high': 1.0, 'log': False}, 'random_strength': {'type': 'float', 'low': 0.1, 'high': 10.0, 'log': True}}, 'random_forest_params': {'n_estimators': {'type': 'int', 'low': 50, 'high': 500, 'log': False}, 'max_depth': {'type': 'int', 'low': 3, 'high': 20, 'log': False}, 'min_samples_split': {'type': 'int', 'low': 2, 'high': 20, 'log': False}, 'min_samples_leaf': {'type': 'int', 'low': 1, 'high': 10, 'log': False}, 'max_features': {'type': 'categorical', 'choices': ['sqrt', 'log2', 'auto']}}, 'results': {'save_best_model': True, 'model_save_path': 'models/best_tuned_model.joblib', 'save_study': True, 'study_save_path': 'models/optuna_study.pkl', 'create_plots': True, 'plots_save_path': 'data/tuning_results/'}}
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO -   - 튜닝 횟수: 100
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO -   - 타임아웃: 3600초
2025-06-24 09:25:21,809 - __main__ - INFO - 하이퍼파라미터 최적화 실행 중...
2025-06-24 09:25:21,809 - src.hyperparameter_tuning - INFO - === 하이퍼파라미터 튜닝 시작 ===
2025-06-24 09:25:21,811 - src.hyperparameter_tuning - INFO - Trial 0: 모델 타입 = xgboost
2025-06-24 09:25:21,814 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:21,815 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:21,815 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:21,815 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:21,815 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:21,815 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:21,818 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:21,818 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:21,818 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:21,819 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:21,819 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:21,819 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:21,819 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:21,819 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:21,819 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:21,819 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:21,819 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:21,819 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:21,820 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:21,820 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:21,820 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:21,820 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:21,825 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:21,827 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,827 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:21,827 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:21,827 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:21,827 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:21,827 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:21,828 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,830 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,832 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:21,832 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,832 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,832 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,832 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,832 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,832 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:21,832 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,833 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,833 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,833 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:21,834 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:21,834 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:21,834 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:21,834 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:21,834 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:21,834 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:21,834 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:21,834 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:21,834 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:21,834 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,834 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:21,834 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:21,834 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,835 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,835 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,835 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,835 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,835 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,836 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,836 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,837 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,838 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:21,838 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   n_estimators: 406
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   learning_rate: 0.1205712628744377
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   subsample: 0.8394633936788146
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6624074561769746
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:21,838 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO -   reg_alpha: 3.3323645788192616e-08
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO -   reg_lambda: 0.6245760287469893
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:21,839 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:21,872 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:21,873 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:21,873 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:21,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,874 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,875 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,875 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,875 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,875 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,875 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:21,879 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:21,879 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:21,879 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:21,879 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:21,879 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,879 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:21,879 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:21,879 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:21,879 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:21,879 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:21,879 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:21,879 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:21,880 - src.hyperparameter_tuning - ERROR - Trial 0 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:21,881 - src.hyperparameter_tuning - INFO - Trial 1: 모델 타입 = xgboost
2025-06-24 09:25:21,886 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:21,887 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:21,887 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:21,887 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:21,887 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:21,887 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:21,887 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:21,887 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:21,887 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:21,888 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:21,888 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:21,888 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:21,888 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:21,888 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:21,888 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:21,888 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:21,888 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:21,888 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:21,889 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:21,889 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:21,889 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:21,889 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:21,893 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:21,895 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,895 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:21,895 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:21,895 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:21,895 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:21,895 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:21,895 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,897 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,899 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:21,899 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,899 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,899 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,899 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,899 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,899 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,899 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:21,899 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,899 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,900 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:21,900 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,900 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,901 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,901 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:21,901 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:21,901 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:21,901 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:21,901 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:21,901 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:21,901 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:21,902 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:21,902 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:21,902 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:21,902 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,902 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,902 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,903 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,903 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,903 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,904 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,905 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,905 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,905 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:21,905 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   n_estimators: 723
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   learning_rate: 0.2708160864249968
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   subsample: 0.9329770563201687
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6849356442713105
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:21,905 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   reg_alpha: 4.4734294104626844e-07
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   reg_lambda: 5.472429642032198e-06
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:21,906 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:21,913 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:21,913 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:21,913 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:21,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,913 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,913 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,913 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,914 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:21,915 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:21,915 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:21,915 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:21,915 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:21,915 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,915 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:21,915 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:21,915 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:21,915 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:21,915 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:21,916 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:21,916 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:21,916 - src.hyperparameter_tuning - ERROR - Trial 1 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:21,917 - src.hyperparameter_tuning - INFO - Trial 2: 모델 타입 = xgboost
2025-06-24 09:25:21,921 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:21,921 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:21,921 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:21,921 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:21,921 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:21,921 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:21,921 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:21,921 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:21,921 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:21,922 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:21,922 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:21,922 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:21,922 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:21,922 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:21,922 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:21,922 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:21,922 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:21,922 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:21,923 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:21,923 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:21,923 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:21,923 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:21,928 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:21,930 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,930 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:21,930 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:21,930 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:21,930 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:21,930 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:21,930 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,932 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,934 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:21,934 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,934 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,934 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,935 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,935 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,935 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:21,935 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,936 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,936 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,936 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:21,937 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:21,937 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:21,937 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:21,937 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:21,937 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:21,937 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:21,937 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:21,937 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:21,937 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:21,937 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,937 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:21,937 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:21,937 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,939 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,939 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,939 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:21,940 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,940 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:21,940 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,940 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   n_estimators: 460
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   learning_rate: 0.08012737503998542
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   subsample: 0.6557975442608167
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7168578594140873
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   reg_alpha: 0.00012724181576752517
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   reg_lambda: 0.1165691561324743
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:21,941 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:21,954 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:21,954 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:21,954 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:21,954 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,954 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,955 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,956 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,956 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,956 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:21,956 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:21,956 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:21,956 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:21,956 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:21,956 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,956 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:21,957 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:21,957 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:21,957 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:21,957 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:21,957 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:21,957 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:21,957 - src.hyperparameter_tuning - ERROR - Trial 2 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:21,958 - src.hyperparameter_tuning - INFO - Trial 3: 모델 타입 = xgboost
2025-06-24 09:25:21,963 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:21,963 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:21,963 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:21,964 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:21,964 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:21,964 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:21,964 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:21,964 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:21,964 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:21,964 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:21,964 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:21,964 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:21,964 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:21,964 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:21,964 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:21,964 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:21,964 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:21,964 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:21,965 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:21,965 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:21,965 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:21,965 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:21,969 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:21,971 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,971 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:21,971 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:21,971 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:21,971 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:21,971 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:21,971 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:21,974 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:21,976 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:21,976 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,976 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,976 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:21,976 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:21,976 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,976 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:21,976 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,977 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,977 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:21,977 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:21,978 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:21,978 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:21,978 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:21,978 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:21,978 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:21,978 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:21,978 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:21,978 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:21,978 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:21,978 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,978 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:21,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:21,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,978 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,978 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:21,979 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,980 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,980 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:21,980 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:21,981 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,981 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:21,981 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:21,981 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   n_estimators: 539
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   learning_rate: 0.011711509955524094
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   subsample: 0.8430179407605753
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6682096494749166
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   reg_alpha: 3.4671276804481113
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   reg_lambda: 4.905556676028774
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:21,982 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,060 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,060 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,060 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,060 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,061 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,062 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,062 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,062 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,062 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,062 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,062 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,062 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,062 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,062 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,062 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,062 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,062 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,063 - src.hyperparameter_tuning - ERROR - Trial 3 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,064 - src.hyperparameter_tuning - INFO - Trial 4: 모델 타입 = xgboost
2025-06-24 09:25:22,068 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,068 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,068 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,068 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,068 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,068 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,068 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,068 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,068 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,069 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,069 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,069 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,069 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,069 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,069 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,069 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,069 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,069 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,070 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,070 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,070 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,070 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,074 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,076 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,076 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,076 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,076 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,076 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,076 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,076 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,078 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,080 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,080 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,080 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,081 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,081 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,081 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,081 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,081 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,081 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,081 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,081 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,082 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,082 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,082 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,082 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,082 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,082 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,082 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,082 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,082 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,082 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,082 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,084 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,084 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,084 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,085 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,085 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,085 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,085 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   n_estimators: 339
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   learning_rate: 0.1024932221692416
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   subsample: 0.7760609974958406
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6488152939379115
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   reg_alpha: 2.039373116525212e-08
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   reg_lambda: 1.527156759251193
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,086 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,099 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,099 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,099 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,099 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,099 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,099 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,100 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,101 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,101 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,101 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,101 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,101 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,101 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,101 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,101 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,101 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,102 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,102 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,102 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,102 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,102 - src.hyperparameter_tuning - ERROR - Trial 4 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,103 - src.hyperparameter_tuning - INFO - Trial 5: 모델 타입 = xgboost
2025-06-24 09:25:22,106 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,107 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,107 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,107 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,107 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,107 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,107 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,107 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,107 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,108 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,108 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,108 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,108 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,108 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,108 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,108 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,108 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,108 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,109 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,109 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,109 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,109 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,112 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,115 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,115 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,115 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,115 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,115 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,115 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,115 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,117 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,119 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,119 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,119 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,119 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,120 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,120 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,120 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,121 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,121 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,121 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,121 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,121 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,121 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,121 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,121 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,121 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,121 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,121 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,122 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,123 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,123 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,123 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,124 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,124 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,124 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,124 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   n_estimators: 680
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   learning_rate: 0.05864129169696527
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   subsample: 0.8186841117373118
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6739417822102108
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   min_child_weight: 10
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   reg_alpha: 0.09466630153726856
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   reg_lambda: 2.854239907497756
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,125 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,143 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,143 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,143 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,143 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,144 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,145 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,145 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,145 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,145 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,145 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,145 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,145 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,145 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,145 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,145 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,145 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,145 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,146 - src.hyperparameter_tuning - ERROR - Trial 5 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,147 - src.hyperparameter_tuning - INFO - Trial 6: 모델 타입 = xgboost
2025-06-24 09:25:22,150 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,151 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,151 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,151 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,151 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,151 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,151 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,151 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,151 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,151 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,151 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,151 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,151 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,152 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,152 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,152 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,152 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,152 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,152 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,153 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,153 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,153 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,153 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,156 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,158 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,158 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,158 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,158 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,158 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,158 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,158 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,161 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,162 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,162 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,163 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,163 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,163 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,164 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,164 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,164 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,164 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,165 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,165 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,165 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,165 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,165 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,165 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,165 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,165 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,165 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,165 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,165 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,165 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,165 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,166 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,166 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,167 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,167 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,168 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,168 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,169 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,169 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,169 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   n_estimators: 618
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   learning_rate: 0.01351182947645082
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   subsample: 0.6783931449676581
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6180909155642152
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   reg_alpha: 3.148441347423712e-05
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   reg_lambda: 2.7678419414850017e-06
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,170 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,246 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,246 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,246 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,246 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,246 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,247 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,248 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,248 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,248 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,249 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,249 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,249 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,249 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,249 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,249 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,249 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,249 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,249 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,249 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,249 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,249 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,249 - src.hyperparameter_tuning - ERROR - Trial 6 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,251 - src.hyperparameter_tuning - INFO - Trial 7: 모델 타입 = xgboost
2025-06-24 09:25:22,255 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,255 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,255 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,256 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,256 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,256 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,256 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,256 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,256 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,256 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,256 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,256 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,256 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,256 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,256 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,256 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,256 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,256 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,257 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,257 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,257 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,257 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,258 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,258 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,258 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,258 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,258 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,258 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,261 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,263 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,263 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,263 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,263 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,263 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,263 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,263 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,265 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,267 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,268 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,268 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,268 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,268 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,269 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,269 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,269 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,270 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,270 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,270 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,270 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,270 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,270 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,270 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,270 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,270 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,270 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,270 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,270 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,271 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,271 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,273 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,273 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,273 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,273 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,273 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO -   n_estimators: 389
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:22,273 - src.models.xgboost_model - INFO -   learning_rate: 0.06333268775321842
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   subsample: 0.6563696899899051
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9208787923016158
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   reg_alpha: 7.620481786158549
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   reg_lambda: 0.08916674715636537
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,274 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,288 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,288 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,288 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,288 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,288 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,288 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,288 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,289 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,290 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,290 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,290 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,290 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,290 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,290 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,290 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,290 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,290 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,290 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,290 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,290 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,291 - src.hyperparameter_tuning - ERROR - Trial 7 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,292 - src.hyperparameter_tuning - INFO - Trial 8: 모델 타입 = xgboost
2025-06-24 09:25:22,296 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,297 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,297 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,297 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,297 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,297 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,297 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,297 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,297 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,298 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,298 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,298 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,298 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,298 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,298 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,298 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,298 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,298 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,299 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,299 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,299 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,299 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,302 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,304 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,304 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,304 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,304 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,304 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,304 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,304 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,306 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,308 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,308 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,308 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,308 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,308 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,308 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,308 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,308 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,308 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,308 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,309 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,309 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,310 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,310 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,310 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,310 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,310 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,310 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,310 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,310 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,310 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,310 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,310 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,311 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,311 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,311 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,312 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,312 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,312 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,313 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,314 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,314 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   n_estimators: 55
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   learning_rate: 0.11069143219393454
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   subsample: 0.8916028672163949
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9085081386743783
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   reg_alpha: 1.683416412018213e-05
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   reg_lambda: 1.1036250149900698e-07
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,314 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,327 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,327 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,327 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,327 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,327 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,327 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,327 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,327 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,328 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,329 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,329 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,329 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,329 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,329 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,329 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,329 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,329 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,329 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,329 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,329 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,329 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,330 - src.hyperparameter_tuning - ERROR - Trial 8 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,331 - src.hyperparameter_tuning - INFO - Trial 9: 모델 타입 = xgboost
2025-06-24 09:25:22,335 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,335 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,335 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,335 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,335 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,335 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,335 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,335 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,336 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,336 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,336 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,336 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,336 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,336 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,336 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,336 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,336 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,336 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,337 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,337 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,337 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,337 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,341 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,343 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,343 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,343 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,343 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,343 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,343 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,343 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,345 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,347 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,347 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,347 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,347 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,347 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,347 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,347 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,347 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,347 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,347 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,348 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,348 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,348 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,348 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,348 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,349 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,349 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,349 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,349 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,349 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,349 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,349 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,349 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,349 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,349 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,349 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,349 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,349 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,351 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,351 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,351 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,352 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,352 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,352 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,352 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   n_estimators: 642
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   learning_rate: 0.012413189635294229
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   subsample: 0.7243929286862649
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7300733288106989
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   min_child_weight: 8
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   reg_alpha: 0.005470376807480391
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   reg_lambda: 0.9658611176861268
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,353 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,560 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,560 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,560 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,561 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,561 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,561 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,561 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,562 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,573 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,573 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,574 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,574 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,574 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,574 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,574 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,574 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,574 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,574 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,574 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,574 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,575 - src.hyperparameter_tuning - ERROR - Trial 9 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,588 - src.hyperparameter_tuning - INFO - Trial 10: 모델 타입 = xgboost
2025-06-24 09:25:22,593 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,593 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,593 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,593 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,593 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,593 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,593 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,593 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,593 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,594 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,594 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,594 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,594 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,594 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,594 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,594 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,594 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,594 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,595 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,595 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,595 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,595 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,599 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,601 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,601 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,601 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,601 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,601 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,601 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,601 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,603 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,605 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,605 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,605 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,605 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,605 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,605 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,605 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,605 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,605 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,605 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,606 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,606 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,607 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,607 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,607 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,608 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,608 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,608 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,608 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,608 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,608 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,608 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,608 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,608 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,608 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,608 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,608 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,609 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,609 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,609 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,610 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,611 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,611 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,611 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,611 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   n_estimators: 948
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   max_depth: 11
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   learning_rate: 0.028477486830279865
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   subsample: 0.9729161367647149
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8085360047450805
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   min_child_weight: 7
2025-06-24 09:25:22,611 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   reg_alpha: 1.3686680646913267e-08
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   reg_lambda: 0.004077450220493048
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,612 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,646 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,646 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,646 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,646 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,647 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,648 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,648 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,648 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,648 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,648 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,648 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,648 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,649 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,649 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,649 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,649 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,649 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,649 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,649 - src.hyperparameter_tuning - ERROR - Trial 10 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,663 - src.hyperparameter_tuning - INFO - Trial 11: 모델 타입 = xgboost
2025-06-24 09:25:22,667 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,667 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,667 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,667 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,667 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,667 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,667 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,667 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,668 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,668 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,668 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,668 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,668 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,668 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,668 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,668 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,668 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,668 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,669 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,669 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,669 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,669 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,673 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,675 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,675 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,675 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,675 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,675 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,675 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,675 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,677 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,679 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,679 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,679 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,679 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,679 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,679 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,679 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,680 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,680 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,680 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,680 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,680 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,680 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,680 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,680 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,681 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,681 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,681 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,681 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,681 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,681 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,681 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,681 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,681 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,681 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,681 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,681 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,681 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,681 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,682 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,683 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,683 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,683 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,684 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,684 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,684 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,684 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   n_estimators: 838
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   learning_rate: 0.26817078508151854
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   subsample: 0.9481474318740984
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7971457481268196
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   reg_alpha: 1.018249387319176e-06
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   reg_lambda: 3.975631426149656e-05
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,685 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,692 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,692 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,692 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,694 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,694 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,694 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,694 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,694 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,694 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,694 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,695 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,695 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,695 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,695 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,695 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,695 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,695 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,695 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,695 - src.hyperparameter_tuning - ERROR - Trial 11 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,709 - src.hyperparameter_tuning - INFO - Trial 12: 모델 타입 = xgboost
2025-06-24 09:25:22,713 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,713 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,713 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,713 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,713 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,713 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,714 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,714 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,714 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,714 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,714 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,714 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,714 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,714 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,714 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,714 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,714 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,714 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,715 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,715 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,715 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,715 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,719 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,721 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,721 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,721 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,721 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,721 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,721 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,721 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,723 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,725 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,725 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,725 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,725 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,725 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,725 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,725 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,725 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,725 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,725 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,726 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,726 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,726 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,726 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,726 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,727 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,727 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,727 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,727 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,727 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,727 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,727 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,727 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,727 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,727 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,727 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,727 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,727 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,728 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,729 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,729 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,729 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,730 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,730 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,730 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,730 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   n_estimators: 234
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   learning_rate: 0.25883506810244084
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   subsample: 0.8884170683398009
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7874820875551369
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   reg_alpha: 1.6858448300255918e-06
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   reg_lambda: 0.00038695297511260837
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,731 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,740 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,740 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,740 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,740 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,741 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,742 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,742 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,742 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,742 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,742 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,742 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,742 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,742 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,742 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,742 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,742 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,742 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,743 - src.hyperparameter_tuning - ERROR - Trial 12 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,757 - src.hyperparameter_tuning - INFO - Trial 13: 모델 타입 = xgboost
2025-06-24 09:25:22,760 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,761 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,761 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,761 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,761 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,761 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,761 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,761 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,761 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,762 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,762 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,762 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,762 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,762 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,762 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,762 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,762 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,762 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,763 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,763 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,763 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,763 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,767 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,769 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,769 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,769 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,769 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,769 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,769 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,769 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,771 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,773 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,773 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,773 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,773 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,773 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,773 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,773 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,773 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,773 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,773 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,774 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,774 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,774 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,774 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,774 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,775 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,775 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,775 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,775 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,775 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,775 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,775 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,775 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,775 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,775 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,775 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,775 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,775 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,776 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,777 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,777 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,777 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,778 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,779 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,779 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   n_estimators: 844
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   max_depth: 11
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   learning_rate: 0.15995102405445347
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   subsample: 0.9997449754566204
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6021809558214184
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   reg_alpha: 3.9514246158876435e-07
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   reg_lambda: 3.429292381773519e-07
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,779 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,800 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,800 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,800 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,800 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,800 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,800 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,800 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,800 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,801 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,802 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,802 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,802 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,802 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,802 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,802 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,802 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,802 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,802 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,802 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,802 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,802 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,803 - src.hyperparameter_tuning - ERROR - Trial 13 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,817 - src.hyperparameter_tuning - INFO - Trial 14: 모델 타입 = xgboost
2025-06-24 09:25:22,821 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,822 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,822 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,822 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,822 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,822 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,822 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,822 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,822 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,822 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,822 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,822 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,822 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,822 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,822 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,822 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,822 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,822 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,823 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,823 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,823 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,824 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,824 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,824 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,824 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,824 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,824 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,824 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,827 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,829 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,829 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,829 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,829 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,829 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,829 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,829 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,831 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,833 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,833 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,833 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,833 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,833 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,833 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,833 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,833 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,833 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,833 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,834 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,834 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,835 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,835 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,835 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,835 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,836 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,836 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,836 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,836 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,836 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,836 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,836 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,836 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,836 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,836 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,836 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,837 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,837 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,837 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,838 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,839 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,839 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   n_estimators: 199
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   max_depth: 9
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   learning_rate: 0.17080659935001277
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   subsample: 0.9115356811308601
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7337344348736515
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   reg_alpha: 4.4977900234236005e-08
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   reg_lambda: 1.6381830181950573e-05
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,839 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,840 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,848 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,848 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,848 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,849 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,850 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,850 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,850 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,850 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,851 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,851 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,851 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,851 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,851 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,851 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,851 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,851 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,851 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,851 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,851 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,851 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,851 - src.hyperparameter_tuning - ERROR - Trial 14 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,865 - src.hyperparameter_tuning - INFO - Trial 15: 모델 타입 = xgboost
2025-06-24 09:25:22,869 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,870 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,870 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,870 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,870 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,870 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,870 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,870 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,870 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,871 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,871 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,871 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,871 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,871 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,871 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,871 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,871 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,871 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,872 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,872 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,872 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,872 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,875 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,877 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,877 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,877 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,877 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,877 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,878 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,878 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,880 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,881 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,881 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,881 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,881 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,882 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,882 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,882 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,882 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,883 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,883 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,883 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,884 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,884 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,884 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,884 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,884 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,884 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,884 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,884 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,884 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,884 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,884 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,884 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,884 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,884 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,884 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,884 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,885 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,885 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,886 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,886 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,887 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,887 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,887 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO -   n_estimators: 768
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:22,887 - src.models.xgboost_model - INFO -   learning_rate: 0.16625944364237574
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   subsample: 0.7634072550781038
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   colsample_bytree: 0.857356555876742
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   reg_alpha: 0.001837758412974711
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   reg_lambda: 1.3790926312136672e-08
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,888 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,896 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,896 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,896 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,896 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,897 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,898 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,898 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,898 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,898 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,898 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,898 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,898 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,898 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,898 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,899 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,899 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,899 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,899 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,899 - src.hyperparameter_tuning - ERROR - Trial 15 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,913 - src.hyperparameter_tuning - INFO - Trial 16: 모델 타입 = xgboost
2025-06-24 09:25:22,917 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,918 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,918 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,918 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,918 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,918 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,918 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,918 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,918 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,919 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,919 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,919 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,919 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,919 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,919 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,919 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,919 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,919 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,920 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,920 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,920 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,920 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,923 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,925 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,925 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,925 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,925 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,926 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,926 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,926 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,928 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,929 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,929 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,929 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,929 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,930 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,930 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,930 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,930 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,931 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,931 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,931 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,932 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,932 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,932 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,932 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,932 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,932 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,932 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,932 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,932 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,932 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,932 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,932 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,932 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,932 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,932 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,932 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,933 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,933 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,933 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,934 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,935 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,935 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,935 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:22,935 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   n_estimators: 520
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   learning_rate: 0.03167502366659872
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   subsample: 0.8503991699305872
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7019847524469807
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:22,935 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   reg_alpha: 2.754291235426171e-07
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   reg_lambda: 0.0021118373797918487
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:22,936 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:22,963 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:22,963 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:22,963 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:22,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:22,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:22,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:22,965 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:22,965 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:22,965 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,965 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:22,966 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:22,966 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:22,966 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:22,966 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:22,966 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,966 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:22,966 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:22,966 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:22,966 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:22,966 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:22,966 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:22,966 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:22,966 - src.hyperparameter_tuning - ERROR - Trial 16 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:22,981 - src.hyperparameter_tuning - INFO - Trial 17: 모델 타입 = xgboost
2025-06-24 09:25:22,985 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:22,985 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:22,985 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:22,985 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:22,985 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:22,985 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:22,985 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:22,985 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:22,986 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:22,986 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:22,986 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:22,986 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:22,986 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:22,986 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:22,986 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:22,986 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:22,986 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:22,986 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:22,987 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:22,987 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:22,987 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:22,987 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:22,991 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:22,993 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,993 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:22,993 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:22,993 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:22,993 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:22,993 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:22,993 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:22,995 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:22,997 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:22,997 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,997 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,997 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:22,997 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:22,997 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,997 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:22,997 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:22,997 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:22,997 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,998 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:22,998 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,998 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,998 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:22,998 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:22,999 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:22,999 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:22,999 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:22,999 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:22,999 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:22,999 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:22,999 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:22,999 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:22,999 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:22,999 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:22,999 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:22,999 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:22,999 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,000 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,001 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,001 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,001 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,002 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,003 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   n_estimators: 970
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   max_depth: 9
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   learning_rate: 0.2754554257172804
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   subsample: 0.9340956836065549
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   colsample_bytree: 0.769400478413884
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   reg_alpha: 7.639371274654815e-06
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   reg_lambda: 0.04296215514985972
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,003 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,004 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,010 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,010 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,010 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,012 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,012 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,012 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,012 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,012 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,012 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,012 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,012 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,013 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,013 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,013 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,013 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,013 - src.hyperparameter_tuning - ERROR - Trial 17 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,027 - src.hyperparameter_tuning - INFO - Trial 18: 모델 타입 = xgboost
2025-06-24 09:25:23,031 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,032 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,032 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,032 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,032 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,032 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,032 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,032 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,032 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,033 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,033 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,033 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,033 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,033 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,033 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,033 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,033 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,033 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,034 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,034 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,034 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,034 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,037 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,039 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,039 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,039 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,040 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,040 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,040 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,040 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,042 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,043 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,044 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,044 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,044 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,044 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,045 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,045 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,045 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,046 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,046 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,046 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,046 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,046 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,046 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,046 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,046 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,046 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,046 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,046 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,046 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,047 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,048 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,048 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,048 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,049 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,049 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,049 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,049 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,049 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,049 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,049 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,049 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,049 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   n_estimators: 320
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   max_depth: 12
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   learning_rate: 0.036046969689776914
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   subsample: 0.6026168324121943
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8416634198004798
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   reg_alpha: 9.919978178114084e-08
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   reg_lambda: 0.00010765713633373472
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,050 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,078 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,078 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,078 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,078 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,078 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,078 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,079 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,080 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,080 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,080 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,080 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,080 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,080 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,080 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,080 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,080 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,080 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,080 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,080 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,081 - src.hyperparameter_tuning - ERROR - Trial 18 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,095 - src.hyperparameter_tuning - INFO - Trial 19: 모델 타입 = xgboost
2025-06-24 09:25:23,099 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,100 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,100 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,100 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,100 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,100 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,100 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,100 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,100 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,101 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,101 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,101 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,101 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,101 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,101 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,101 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,101 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,101 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,102 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,102 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,102 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,102 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,105 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,108 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,108 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,108 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,108 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,108 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,108 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,108 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,110 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,112 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,112 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,112 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,112 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,112 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,112 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,112 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,112 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,113 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,113 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,113 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,114 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,114 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,114 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,114 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,114 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,114 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,114 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,114 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,114 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,114 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,114 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,114 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,115 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,116 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,116 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,117 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,117 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,117 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   n_estimators: 735
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   learning_rate: 0.11744851804282604
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   subsample: 0.858058025655211
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6296618535752112
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   min_child_weight: 9
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   reg_alpha: 0.0005256761664787865
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   reg_lambda: 2.721927782819717e-06
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,118 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,129 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,129 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,129 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,129 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,130 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,131 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,131 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,131 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,131 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,131 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,131 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,131 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,131 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,131 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,132 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,132 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,132 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,132 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,132 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,132 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,132 - src.hyperparameter_tuning - ERROR - Trial 19 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,147 - src.hyperparameter_tuning - INFO - Trial 20: 모델 타입 = xgboost
2025-06-24 09:25:23,151 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,151 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,152 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,152 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,152 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,152 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,152 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,152 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,152 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,152 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,152 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,152 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,152 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,152 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,152 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,152 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,152 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,152 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,153 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,153 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,153 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,153 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,157 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,159 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,159 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,159 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,159 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,159 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,159 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,159 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,161 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,163 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,163 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,163 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,163 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,163 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,163 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,163 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,164 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,164 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,164 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,165 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,165 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,165 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,165 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,165 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,165 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,165 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,165 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,165 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,165 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,165 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,166 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,166 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,166 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,167 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,167 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,167 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,168 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   n_estimators: 524
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   learning_rate: 0.19533630974741553
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   subsample: 0.8048690303422982
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9780383022354938
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   reg_alpha: 3.100303355334906e-06
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   reg_lambda: 0.0031512146598649143
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,169 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,170 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,177 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,177 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,178 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,178 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,179 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,179 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,179 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,180 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,180 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,180 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,180 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,180 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,180 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,180 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,180 - src.hyperparameter_tuning - ERROR - Trial 20 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,195 - src.hyperparameter_tuning - INFO - Trial 21: 모델 타입 = xgboost
2025-06-24 09:25:23,199 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,200 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,200 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,200 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,200 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,200 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,200 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,200 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,200 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,201 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,201 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,201 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,201 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,201 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,201 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,201 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,201 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,201 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,202 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,202 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,202 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,202 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,206 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,209 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,209 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,209 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,209 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,209 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,209 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,209 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,212 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,215 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,215 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,215 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,215 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,215 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,215 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,216 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,216 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,217 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,217 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,217 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,218 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,218 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,218 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,218 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,218 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,218 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,218 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,218 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,218 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,218 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,218 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,218 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,218 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,219 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,220 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,221 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,221 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,221 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO -   n_estimators: 460
2025-06-24 09:25:23,221 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   learning_rate: 0.07870183784266177
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   subsample: 0.7055818053995003
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7130366546802293
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   reg_alpha: 5.925825400469547e-05
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   reg_lambda: 0.14245949703092106
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,222 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,241 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,241 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,241 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,241 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,241 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,242 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,243 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,243 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,243 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,243 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,245 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,245 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,245 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,245 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,245 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,245 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,245 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,245 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,246 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,246 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,246 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,246 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,246 - src.hyperparameter_tuning - ERROR - Trial 21 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,261 - src.hyperparameter_tuning - INFO - Trial 22: 모델 타입 = xgboost
2025-06-24 09:25:23,265 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,266 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,266 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,266 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,266 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,266 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,266 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,266 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,266 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,267 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,267 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,267 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,267 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,267 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,267 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,267 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,267 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,267 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,268 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,268 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,268 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,268 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,271 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,273 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,273 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,273 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,274 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,274 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,274 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,274 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,276 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,277 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,277 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,278 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,278 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,278 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,278 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,279 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,279 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,279 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,280 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,280 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,280 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,280 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,280 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,280 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,280 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,280 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,280 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,280 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,280 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,280 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,280 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,280 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,280 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,281 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,281 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,282 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,283 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,283 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,283 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,283 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   n_estimators: 401
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   learning_rate: 0.04398189955114847
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   subsample: 0.7488306146704025
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6893181261975687
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   reg_alpha: 0.020211660841900077
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   reg_lambda: 0.020797603391813763
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,284 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,302 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,302 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,302 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,302 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,302 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,302 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,303 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,304 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,304 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,304 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,304 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,304 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,304 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,304 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,304 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,304 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,305 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,305 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,305 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,305 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,305 - src.hyperparameter_tuning - ERROR - Trial 22 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,320 - src.hyperparameter_tuning - INFO - Trial 23: 모델 타입 = xgboost
2025-06-24 09:25:23,324 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,325 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,325 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,325 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,325 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,325 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,325 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,325 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,325 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,326 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,326 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,326 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,326 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,326 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,326 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,326 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,326 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,326 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,327 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,327 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,327 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,327 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,331 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,333 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,333 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,333 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,333 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,333 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,333 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,333 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,335 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,337 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,337 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,337 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,337 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,337 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,337 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,337 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,337 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,337 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,337 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,338 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,338 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,338 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,338 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,338 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,339 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,339 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,339 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,339 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,339 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,339 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,339 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,339 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,339 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,339 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,339 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,339 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,339 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,340 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,341 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,341 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,341 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,342 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   n_estimators: 583
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   learning_rate: 0.09701544808702593
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   subsample: 0.6073248792362046
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7512970916485808
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   reg_alpha: 0.00015087809760065368
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   reg_lambda: 0.23203295015878606
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,343 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,356 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,356 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,356 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,356 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,356 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,357 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,358 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,358 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,358 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,358 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,358 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,358 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,358 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,358 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,358 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,358 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,359 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,359 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,359 - src.hyperparameter_tuning - ERROR - Trial 23 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,375 - src.hyperparameter_tuning - INFO - Trial 24: 모델 타입 = xgboost
2025-06-24 09:25:23,379 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,380 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,380 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,380 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,380 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,380 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,380 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,380 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,380 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,380 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,380 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,380 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,380 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,380 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,380 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,380 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,381 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,381 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,381 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,381 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,381 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,382 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,382 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,382 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,382 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,382 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,382 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,382 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,385 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,387 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,387 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,387 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,387 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,387 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,387 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,387 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,389 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,391 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,391 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,391 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,391 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,392 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,392 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,392 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,392 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,393 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,393 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,393 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,394 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,394 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,394 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,394 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,394 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,394 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,394 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,394 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,394 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,394 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,394 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,394 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,394 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,394 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,395 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,395 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,395 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,396 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,397 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,397 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,397 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,397 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO -   n_estimators: 252
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:23,397 - src.models.xgboost_model - INFO -   learning_rate: 0.07488893191233491
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   subsample: 0.6512724702232536
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6568950498440635
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   reg_alpha: 1.6584643769529482e-07
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   reg_lambda: 0.0005348881786784441
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,398 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,417 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,417 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,417 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,418 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,419 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,419 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,419 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,419 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,419 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,420 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,420 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,420 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,420 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,420 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,420 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,420 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,420 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,420 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,420 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,420 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,420 - src.hyperparameter_tuning - ERROR - Trial 24 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,435 - src.hyperparameter_tuning - INFO - Trial 25: 모델 타입 = xgboost
2025-06-24 09:25:23,439 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,440 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,440 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,440 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,440 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,440 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,440 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,440 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,440 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,441 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,441 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,441 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,441 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,441 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,441 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,441 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,441 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,441 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,442 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,442 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,442 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,442 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,445 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,448 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,448 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,448 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,448 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,448 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,448 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,448 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,450 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,452 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,452 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,452 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,452 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,452 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,452 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,452 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,453 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,453 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,453 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,453 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,453 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,454 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,454 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,454 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,454 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,454 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,454 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,454 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,454 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,454 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,454 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,454 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,454 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,454 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,455 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,455 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,455 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,457 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,457 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,458 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,458 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,458 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,458 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   n_estimators: 467
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   learning_rate: 0.13745541553982266
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   subsample: 0.8716844621710428
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   colsample_bytree: 0.701870398920289
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   reg_alpha: 0.8842742611236626
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   reg_lambda: 0.47831211750168423
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,459 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,470 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,470 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,470 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,470 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,470 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,470 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,470 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,471 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,472 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,472 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,472 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,472 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,472 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,472 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,472 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,472 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,472 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,473 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,473 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,473 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,473 - src.hyperparameter_tuning - ERROR - Trial 25 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,489 - src.hyperparameter_tuning - INFO - Trial 26: 모델 타입 = xgboost
2025-06-24 09:25:23,493 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,493 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,493 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,493 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,493 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,493 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,493 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,494 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,494 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,494 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,494 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,494 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,494 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,494 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,494 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,494 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,494 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,494 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,495 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,495 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,495 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,495 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,499 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,501 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,501 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,501 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,501 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,501 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,501 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,501 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,503 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,505 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,505 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,505 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,505 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,505 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,505 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,505 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,505 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,505 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,505 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,506 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,506 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,506 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,507 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,507 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,507 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,507 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,507 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,507 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,507 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,507 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,507 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,507 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,507 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,508 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,508 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,508 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,509 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,509 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,511 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,511 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   n_estimators: 93
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   learning_rate: 0.21590200607321333
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   subsample: 0.8295815448711918
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6390144737460547
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   reg_alpha: 1.1306482876280548e-08
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   reg_lambda: 0.022773054823943602
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,511 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,512 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,520 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,520 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,520 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,520 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,520 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,521 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,522 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,522 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,522 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,522 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,522 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,522 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,522 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,522 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,522 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,522 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,523 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,523 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,523 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,523 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,523 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,523 - src.hyperparameter_tuning - ERROR - Trial 26 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,538 - src.hyperparameter_tuning - INFO - Trial 27: 모델 타입 = xgboost
2025-06-24 09:25:23,542 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,543 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,543 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,543 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,543 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,543 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,543 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,543 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,543 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,544 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,544 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,544 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,544 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,544 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,544 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,544 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,544 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,544 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,545 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,545 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,545 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,545 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,548 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,550 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,550 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,550 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,551 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,551 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,551 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,551 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,553 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,554 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,554 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,555 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,555 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,555 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,556 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,556 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,556 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,557 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,557 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,557 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,557 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,557 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,557 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,557 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,557 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,557 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,557 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,557 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,557 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,557 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,558 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,558 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,558 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,559 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,560 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,560 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO -   n_estimators: 716
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:23,560 - src.models.xgboost_model - INFO -   learning_rate: 0.017810439777166672
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   subsample: 0.7862901903405964
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7488621218277184
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   reg_alpha: 0.0007703591702435432
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   reg_lambda: 8.051535046703718
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,561 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,599 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,600 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,600 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,600 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,601 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,601 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,601 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,601 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,601 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,602 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,602 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,602 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,602 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,602 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,602 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,602 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,602 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,602 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,602 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,602 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,602 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,602 - src.hyperparameter_tuning - ERROR - Trial 27 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,618 - src.hyperparameter_tuning - INFO - Trial 28: 모델 타입 = xgboost
2025-06-24 09:25:23,622 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,623 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,623 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,623 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,623 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,623 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,623 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,623 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,623 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,624 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,624 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,624 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,624 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,624 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,624 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,624 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,624 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,624 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,625 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,625 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,625 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,625 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,629 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,631 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,631 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,631 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,631 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,631 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,631 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,631 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,633 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,635 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,635 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,635 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,635 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,636 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,636 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,636 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,637 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,637 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,637 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,638 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,638 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,638 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,638 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,638 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,638 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,638 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,638 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,638 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,638 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,638 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,638 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,639 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,640 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,640 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,640 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,641 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,642 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,642 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,642 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,642 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   n_estimators: 444
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   learning_rate: 0.0804240885230043
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   subsample: 0.9228113692867211
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6805505706097182
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,642 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   reg_alpha: 7.233857828150096e-06
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   reg_lambda: 2.480253684313045e-06
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,643 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,661 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,661 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,661 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,661 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,661 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,662 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,663 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,663 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,663 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,663 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,664 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,664 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,664 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,664 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,664 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,664 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,664 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,664 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,664 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,664 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,664 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,664 - src.hyperparameter_tuning - ERROR - Trial 28 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,681 - src.hyperparameter_tuning - INFO - Trial 29: 모델 타입 = xgboost
2025-06-24 09:25:23,686 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,686 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,686 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,686 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,686 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,686 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,686 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,686 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,686 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,687 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,687 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,687 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,687 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,687 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,687 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,687 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,687 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,687 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,688 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,688 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,688 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,688 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,692 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,694 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,694 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,694 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,694 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,694 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,694 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,694 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,696 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,698 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,698 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,698 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,698 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,698 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,698 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,698 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,698 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,699 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,699 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,699 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,700 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,700 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,700 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,700 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,700 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,700 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,700 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,700 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,700 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,700 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,700 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,700 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,701 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,701 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,701 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,702 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,703 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,703 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,703 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,703 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   n_estimators: 567
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   learning_rate: 0.04970917336815857
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   subsample: 0.9800957308963963
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   colsample_bytree: 0.66594978983778
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,703 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   reg_alpha: 6.316657494967782e-07
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   reg_lambda: 8.666468151872799e-06
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,704 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,734 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,734 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,734 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,736 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,736 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,736 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,736 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,737 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,737 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,737 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,737 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,737 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,737 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,737 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,737 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,737 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,737 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,737 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,737 - src.hyperparameter_tuning - ERROR - Trial 29 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,752 - src.hyperparameter_tuning - INFO - Trial 30: 모델 타입 = xgboost
2025-06-24 09:25:23,757 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,758 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,758 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,758 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,758 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,758 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,758 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,758 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,758 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,758 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,758 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,758 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,758 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,758 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,758 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,758 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,758 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,758 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,759 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,759 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,759 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,759 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,760 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,763 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,765 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,765 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,765 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,765 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,765 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,765 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,765 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,767 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,769 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,769 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,769 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,769 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,769 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,769 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,769 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,769 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,769 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,769 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,770 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,770 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,770 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,770 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,770 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,771 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,771 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,771 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,771 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,771 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,771 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,771 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,771 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,771 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,771 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,771 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,771 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,772 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,773 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,773 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,773 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,774 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,774 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,774 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,774 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   n_estimators: 799
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   learning_rate: 0.13488959138550238
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   subsample: 0.7340508610504258
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6009230104184364
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   reg_alpha: 5.89013926932394e-08
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   reg_lambda: 6.320050440064079e-07
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,775 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,787 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,787 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,787 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,787 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,787 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,789 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,789 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,789 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,790 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,790 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,790 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,790 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,790 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,790 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,790 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,790 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,790 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,790 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,790 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,790 - src.hyperparameter_tuning - ERROR - Trial 30 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,805 - src.hyperparameter_tuning - INFO - Trial 31: 모델 타입 = xgboost
2025-06-24 09:25:23,810 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,810 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,810 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,810 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,810 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,810 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,810 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,810 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,811 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,811 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,811 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,811 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,811 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,811 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,811 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,811 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,811 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,811 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,812 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,812 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,812 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,812 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,816 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,818 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,818 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,818 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,818 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,818 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,818 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,818 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,820 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,821 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,821 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,822 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,822 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,822 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,822 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,822 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,822 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,823 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,823 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,823 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,824 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,824 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,824 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,824 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,824 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,824 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,824 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,824 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,824 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,824 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,824 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,824 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,825 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,825 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,825 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,826 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,827 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,827 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   n_estimators: 373
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   learning_rate: 0.025262873302905067
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   subsample: 0.8375673911058672
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   colsample_bytree: 0.647393749185171
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   reg_alpha: 0.15452868534580036
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   reg_lambda: 6.474372455238996
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,827 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,828 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,873 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,873 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,873 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,873 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,873 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,873 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,874 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,875 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,875 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,875 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,875 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,875 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,875 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,875 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,875 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,875 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,875 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,875 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,875 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,876 - src.hyperparameter_tuning - ERROR - Trial 31 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,890 - src.hyperparameter_tuning - INFO - Trial 32: 모델 타입 = xgboost
2025-06-24 09:25:23,894 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,895 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,895 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,895 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,895 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,895 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,895 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,895 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,895 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,895 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,895 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,895 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,895 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,895 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,895 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,895 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,895 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,895 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,896 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,896 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,896 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,896 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,896 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,897 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,897 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,897 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,897 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,897 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,900 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,902 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,902 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,902 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,902 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,902 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,902 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,902 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,904 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,906 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,906 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,906 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,906 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,906 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,906 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,906 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,906 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,907 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,907 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,907 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,907 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,908 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,908 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,908 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,908 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,908 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,908 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,908 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,908 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,908 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,908 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,908 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,908 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,908 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,908 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,908 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,909 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,910 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,910 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,910 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,911 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,911 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,911 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,911 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   n_estimators: 314
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   learning_rate: 0.02174606293132475
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   subsample: 0.7965463627014362
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6756877771165838
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   reg_alpha: 6.688191458684811
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   reg_lambda: 1.278137745006047
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,912 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:23,958 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:23,958 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:23,958 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:23,958 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,958 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,958 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,958 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,958 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,959 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:23,960 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:23,960 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:23,960 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:23,960 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:23,960 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,960 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:23,960 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:23,960 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:23,960 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:23,960 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:23,960 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:23,960 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:23,961 - src.hyperparameter_tuning - ERROR - Trial 32 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:23,976 - src.hyperparameter_tuning - INFO - Trial 33: 모델 타입 = xgboost
2025-06-24 09:25:23,979 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:23,980 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:23,980 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:23,980 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:23,980 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:23,980 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:23,980 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:23,980 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:23,980 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:23,981 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:23,981 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:23,981 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:23,981 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:23,981 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:23,981 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:23,981 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:23,981 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:23,981 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:23,982 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:23,982 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:23,982 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:23,982 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:23,985 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:23,987 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,987 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:23,987 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:23,987 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:23,987 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:23,987 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:23,987 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:23,989 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:23,991 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:23,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:23,991 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:23,991 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,991 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:23,991 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:23,991 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,991 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,992 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:23,992 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,992 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,992 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:23,992 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:23,993 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:23,993 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:23,993 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:23,993 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:23,993 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:23,993 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:23,993 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:23,993 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:23,993 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:23,993 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,993 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:23,993 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:23,993 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,994 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,995 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,995 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:23,995 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:23,996 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,996 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:23,996 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:23,996 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   n_estimators: 668
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   learning_rate: 0.040993008605745
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   subsample: 0.8843190881003888
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7202324585461473
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   reg_alpha: 0.019121490795512428
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   reg_lambda: 1.3187741955337704
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:23,997 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,020 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,020 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,020 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,020 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,020 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,021 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,022 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,022 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,022 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,022 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,022 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,022 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,022 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,022 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,022 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,022 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,022 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,023 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,023 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,023 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,023 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,023 - src.hyperparameter_tuning - ERROR - Trial 33 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,038 - src.hyperparameter_tuning - INFO - Trial 34: 모델 타입 = xgboost
2025-06-24 09:25:24,041 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,042 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,042 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,042 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,042 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,042 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,042 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,042 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,042 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,043 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,043 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,043 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,043 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,043 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,043 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,043 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,043 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,043 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,044 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,044 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,044 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,044 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,047 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,049 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,049 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,049 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,049 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,049 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,049 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,049 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,051 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,053 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,053 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,053 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,053 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,053 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,053 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,053 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,054 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,054 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,054 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,054 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,054 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,055 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,055 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,055 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,055 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,055 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,055 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,055 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,055 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,055 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,055 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,055 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,055 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,056 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,057 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,057 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,057 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,058 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,058 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,058 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,058 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   n_estimators: 600
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   learning_rate: 0.060139188644410736
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   subsample: 0.8190445679231486
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6276136571831136
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   reg_alpha: 0.00010997174612556153
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   reg_lambda: 2.9142244270257804
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,059 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,080 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,080 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,080 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,080 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,081 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,082 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,082 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,082 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,082 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,082 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,082 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,082 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,083 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,083 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,083 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,083 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,083 - src.hyperparameter_tuning - ERROR - Trial 34 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,098 - src.hyperparameter_tuning - INFO - Trial 35: 모델 타입 = xgboost
2025-06-24 09:25:24,101 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,102 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,102 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,102 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,102 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,102 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,102 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,102 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,102 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,103 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,103 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,103 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,103 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,103 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,103 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,103 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,103 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,103 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,104 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,104 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,104 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,104 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,107 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,109 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,109 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,109 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,109 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,109 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,109 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,109 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,111 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,113 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,113 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,113 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,113 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,113 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,113 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,113 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,113 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,113 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,113 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,114 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,114 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,114 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,114 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,114 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,115 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,115 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,115 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,115 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,115 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,115 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,115 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,115 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,115 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,115 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,115 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,115 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,115 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,116 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,117 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,117 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,117 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,118 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,118 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,118 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,118 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   n_estimators: 501
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   learning_rate: 0.09364149573021768
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   subsample: 0.7741645444647017
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6556360654745068
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   reg_alpha: 0.4301485373653154
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   reg_lambda: 0.24084197435865054
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,119 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,133 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,133 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,133 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,133 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,133 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,134 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,135 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,135 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,135 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,135 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,135 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,135 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,135 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,135 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,135 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,135 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,135 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,136 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,136 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,136 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,136 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,136 - src.hyperparameter_tuning - ERROR - Trial 35 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,151 - src.hyperparameter_tuning - INFO - Trial 36: 모델 타입 = xgboost
2025-06-24 09:25:24,155 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,155 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,155 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,155 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,156 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,156 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,156 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,156 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,156 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,156 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,156 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,156 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,156 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,156 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,156 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,156 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,156 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,156 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,157 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,157 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,157 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,157 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,161 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,163 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,163 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,163 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,163 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,163 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,163 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,163 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,165 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,166 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,167 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,167 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,167 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,167 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,168 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,168 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,168 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,169 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,169 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,169 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,169 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,169 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,169 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,169 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,169 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,169 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,169 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,169 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,169 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,169 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,169 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,170 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,170 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,170 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,171 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,172 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,172 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   n_estimators: 424
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   learning_rate: 0.014888463560777308
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   subsample: 0.694338834099599
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6875943380135292
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   reg_alpha: 1.743190789530439e-05
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   reg_lambda: 0.05548526724430413
2025-06-24 09:25:24,172 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,173 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,173 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,232 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,232 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,232 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,235 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,235 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,235 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,235 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,235 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,235 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,235 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,235 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,236 - src.hyperparameter_tuning - ERROR - Trial 36 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,251 - src.hyperparameter_tuning - INFO - Trial 37: 모델 타입 = xgboost
2025-06-24 09:25:24,255 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,256 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,256 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,256 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,256 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,256 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,256 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,256 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,256 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,257 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,257 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,257 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,257 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,257 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,257 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,257 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,257 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,257 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,258 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,258 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,258 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,258 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,261 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,263 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,263 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,263 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,263 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,263 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,263 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,263 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,265 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,267 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,267 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,267 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,267 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,267 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,267 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,267 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,268 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,268 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,268 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,268 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,268 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,269 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,269 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,269 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,269 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,269 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,269 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,269 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,269 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,269 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,269 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,269 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,269 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,270 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,271 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,271 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,272 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,272 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,272 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   n_estimators: 342
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   max_depth: 12
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   learning_rate: 0.011106177733945734
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   subsample: 0.6414109605820982
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7582904913624
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   reg_alpha: 0.007901658723927483
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   reg_lambda: 0.011666773143898272
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,273 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,346 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,346 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,346 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,348 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,348 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,348 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,348 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,348 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,348 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,348 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,348 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,348 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,348 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,348 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,348 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,349 - src.hyperparameter_tuning - ERROR - Trial 37 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,364 - src.hyperparameter_tuning - INFO - Trial 38: 모델 타입 = xgboost
2025-06-24 09:25:24,367 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,368 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,368 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,368 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,368 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,368 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,368 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,368 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,368 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,369 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,369 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,369 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,369 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,369 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,369 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,369 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,369 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,369 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,370 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,370 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,370 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,370 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,373 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,375 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,375 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,375 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,375 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,375 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,375 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,375 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,377 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,379 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,379 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,379 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,379 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,379 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,379 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,379 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,380 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,380 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,380 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,380 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,380 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,381 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,381 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,381 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,381 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,381 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,381 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,381 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,381 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,381 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,381 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,381 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,382 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,383 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,383 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,383 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,384 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,384 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,384 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,384 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   n_estimators: 880
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   learning_rate: 0.06750932168685053
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   subsample: 0.904688600178765
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   colsample_bytree: 0.621663737839185
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   reg_alpha: 1.3895347834722849
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   reg_lambda: 0.5146821339084064
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,385 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,406 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,406 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,406 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,406 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,407 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,407 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,407 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,408 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,408 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,408 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,408 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,408 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,408 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,408 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,408 - src.hyperparameter_tuning - ERROR - Trial 38 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,423 - src.hyperparameter_tuning - INFO - Trial 39: 모델 타입 = xgboost
2025-06-24 09:25:24,427 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,428 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,428 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,428 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,428 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,428 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,428 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,428 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,428 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,428 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,428 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,428 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,428 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,428 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,429 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,429 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,429 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,430 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,430 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,430 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,430 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,430 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,433 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,435 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,435 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,435 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,435 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,435 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,435 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,435 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,437 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,439 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,439 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,439 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,439 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,439 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,439 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,439 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,439 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,440 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,440 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,440 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,441 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,441 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,441 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,441 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,441 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,441 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,441 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,441 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,441 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,441 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,441 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,441 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,441 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,441 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,441 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,442 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,443 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,443 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,443 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,444 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,444 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,444 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,444 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,444 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   n_estimators: 678
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   learning_rate: 0.21222299187051066
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   subsample: 0.9458829506563314
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8247641928574576
2025-06-24 09:25:24,444 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   reg_alpha: 3.219062241102895e-08
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   reg_lambda: 3.343806676566346
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,445 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,453 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,453 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,453 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,453 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,453 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,454 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,455 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,455 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,455 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,455 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,455 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,455 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,455 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,455 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,455 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,455 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,456 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,456 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,456 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,456 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,456 - src.hyperparameter_tuning - ERROR - Trial 39 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,472 - src.hyperparameter_tuning - INFO - Trial 40: 모델 타입 = xgboost
2025-06-24 09:25:24,475 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,476 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,476 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,476 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,476 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,476 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,476 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,476 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,476 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,477 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,477 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,477 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,477 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,477 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,477 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,477 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,477 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,477 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,478 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,478 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,478 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,478 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,482 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,484 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,484 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,484 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,484 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,484 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,484 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,484 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,486 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,488 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,488 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,488 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,488 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,488 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,489 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,489 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,489 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,490 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,490 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,490 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,490 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,490 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,490 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,490 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,490 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,490 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,490 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,490 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,490 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,490 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,491 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,492 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,492 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,492 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,493 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,493 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,493 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,493 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,493 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,493 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,493 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   n_estimators: 618
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   learning_rate: 0.05198302781935729
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   subsample: 0.8564381057543136
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7365843039252995
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   min_child_weight: 7
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   reg_alpha: 4.205711048449931e-06
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   reg_lambda: 3.585773527491845e-08
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,494 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,516 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,516 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,516 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,516 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,516 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,517 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,518 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,518 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,518 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,518 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,519 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,519 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,519 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,519 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,519 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,519 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,519 - src.hyperparameter_tuning - ERROR - Trial 40 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,535 - src.hyperparameter_tuning - INFO - Trial 41: 모델 타입 = xgboost
2025-06-24 09:25:24,539 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,539 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,539 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,539 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,539 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,539 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,539 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,539 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,540 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,540 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,540 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,540 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,540 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,540 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,540 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,540 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,540 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,540 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,541 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,541 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,541 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,541 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,545 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,546 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,546 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,546 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,547 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,547 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,547 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,547 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,549 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,550 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,550 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,550 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,550 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,550 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,551 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,551 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,551 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,552 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,552 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,552 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,553 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,553 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,553 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,553 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,553 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,553 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,553 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,553 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,553 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,553 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,553 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,553 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,554 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,554 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,554 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,555 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,556 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   n_estimators: 369
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   learning_rate: 0.1076240804087041
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   subsample: 0.6763025298115524
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6627347900135979
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   reg_alpha: 2.9005208564701332e-08
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   reg_lambda: 1.59985066458589
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,556 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,568 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,568 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,568 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,568 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,568 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,568 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,569 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,570 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,570 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,570 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,570 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,570 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,570 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,570 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,570 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,570 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,571 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,571 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,571 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,571 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,571 - src.hyperparameter_tuning - ERROR - Trial 41 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,587 - src.hyperparameter_tuning - INFO - Trial 42: 모델 타입 = xgboost
2025-06-24 09:25:24,590 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,591 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,591 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,591 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,591 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,591 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,591 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,591 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,591 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,592 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,592 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,592 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,592 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,592 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,592 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,592 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,592 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,592 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,593 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,593 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,593 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,593 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,596 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,598 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,598 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,598 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,598 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,598 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,598 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,598 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,600 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,602 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,602 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,602 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,602 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,602 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,602 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,602 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,602 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,602 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,602 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,603 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,603 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,604 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,604 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,604 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,604 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,604 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,604 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,605 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,605 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,605 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,605 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,605 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,605 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,605 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,605 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,605 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,606 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,606 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,606 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,607 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,608 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,608 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   n_estimators: 271
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   learning_rate: 0.13429211658836965
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   subsample: 0.8080684433645796
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6971511938015964
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   min_child_weight: 10
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   reg_alpha: 1.2343027946286545e-06
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   reg_lambda: 0.4775527568543944
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,608 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,609 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,617 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,617 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,617 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,617 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,617 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,617 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,618 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,619 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,619 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,619 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,619 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,619 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,619 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,619 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,619 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,619 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,620 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,620 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,620 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,620 - src.hyperparameter_tuning - ERROR - Trial 42 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,636 - src.hyperparameter_tuning - INFO - Trial 43: 모델 타입 = xgboost
2025-06-24 09:25:24,639 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,640 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,640 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,640 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,640 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,640 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,640 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,640 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,640 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,641 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,641 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,641 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,641 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,641 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,641 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,641 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,641 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,641 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,642 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,642 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,642 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,642 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,645 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,647 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,647 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,647 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,647 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,647 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,647 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,647 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,649 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,651 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,651 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,651 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,651 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,651 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,651 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,651 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,651 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,651 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,651 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,652 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,652 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,652 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,652 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,652 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,653 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,653 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,653 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,653 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,653 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,653 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,653 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,653 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,653 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,653 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,653 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,653 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,653 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,654 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,655 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,655 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,655 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,656 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,656 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,656 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,656 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   n_estimators: 164
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   learning_rate: 0.08809079171602548
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   subsample: 0.6270147255078318
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6398538218149827
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   min_child_weight: 7
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   reg_alpha: 1.588159572221995e-08
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   reg_lambda: 4.710562529570451
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,657 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,670 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,670 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,670 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,670 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,670 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,671 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,672 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,672 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,672 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,672 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,672 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,673 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,673 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,673 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,673 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,673 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,673 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,673 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,673 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,673 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,673 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,673 - src.hyperparameter_tuning - ERROR - Trial 43 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,689 - src.hyperparameter_tuning - INFO - Trial 44: 모델 타입 = xgboost
2025-06-24 09:25:24,693 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,694 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,694 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,694 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,694 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,694 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,694 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,694 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,694 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,694 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,694 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,694 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,694 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,694 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,695 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,695 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,695 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,696 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,696 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,696 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,696 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,696 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,696 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,699 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,701 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,701 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,701 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,701 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,701 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,701 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,701 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,703 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,705 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,705 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,705 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,705 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,705 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,705 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,705 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,705 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,705 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,705 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,706 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,706 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,707 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,707 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,707 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,707 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,707 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,707 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,707 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,707 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,707 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,707 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,707 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,707 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,708 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,708 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,708 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,709 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,709 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,709 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,710 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,710 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,710 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,710 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   n_estimators: 553
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   learning_rate: 0.0627062981779422
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   subsample: 0.7604324091183771
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7127611342766016
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   reg_alpha: 1.3665097608208182e-07
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   reg_lambda: 0.12470993335985998
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,711 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,724 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,724 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,724 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,724 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,724 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,724 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,724 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,725 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,726 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,726 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,726 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,726 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,726 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,726 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,726 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,726 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,726 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,726 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,726 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,726 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,727 - src.hyperparameter_tuning - ERROR - Trial 44 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,742 - src.hyperparameter_tuning - INFO - Trial 45: 모델 타입 = xgboost
2025-06-24 09:25:24,746 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,746 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,746 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,746 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,746 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,746 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,746 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,746 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,746 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,747 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,747 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,747 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,747 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,747 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,747 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,747 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,747 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,747 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,748 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,748 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,748 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,748 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,752 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,753 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,754 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,754 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,754 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,754 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,754 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,754 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,756 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,757 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,757 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,757 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,757 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,757 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,757 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,758 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,758 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,758 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,759 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,759 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,759 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,760 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,760 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,760 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,760 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,760 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,760 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,760 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,760 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,760 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,760 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,760 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,760 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,761 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,761 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,761 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,762 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,763 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,763 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   n_estimators: 494
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   learning_rate: 0.11422611121472559
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   subsample: 0.8767679257799672
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6756203282568491
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   reg_alpha: 3.1298607191768083e-07
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   reg_lambda: 7.334888586850769e-05
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,763 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,764 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,781 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,781 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,781 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,781 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,781 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,782 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,783 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,783 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,787 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,787 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,787 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,787 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,787 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,787 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,787 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,787 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,787 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,787 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,787 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,787 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,788 - src.hyperparameter_tuning - ERROR - Trial 45 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,803 - src.hyperparameter_tuning - INFO - Trial 46: 모델 타입 = xgboost
2025-06-24 09:25:24,807 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,808 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,808 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,808 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,808 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,808 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,808 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,808 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,808 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,808 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,808 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,808 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,808 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,808 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,808 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,808 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,808 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,808 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,809 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,809 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,809 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,809 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,810 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,813 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,815 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,815 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,815 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,815 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,815 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,815 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,815 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,817 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,819 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,819 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,819 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,819 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,819 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,819 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,819 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,819 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,819 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,819 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,820 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,820 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,820 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,820 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,820 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,821 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,821 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,821 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,821 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,821 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,821 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,821 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,821 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,821 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,821 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,821 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,821 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,822 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,823 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,823 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,823 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,824 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,824 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,824 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,824 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   n_estimators: 394
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   learning_rate: 0.24336618057064013
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   subsample: 0.9001275835219629
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8893506055014104
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   reg_alpha: 0.0012794749252556005
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   reg_lambda: 0.0008826355019954863
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,825 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,831 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,831 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,831 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,831 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,832 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,833 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,833 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,833 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,833 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,833 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,834 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,834 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,834 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,834 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,834 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,834 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,834 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,834 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,834 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,834 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,834 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,834 - src.hyperparameter_tuning - ERROR - Trial 46 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,850 - src.hyperparameter_tuning - INFO - Trial 47: 모델 타입 = xgboost
2025-06-24 09:25:24,854 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,855 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,855 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,855 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,855 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,855 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,855 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,855 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,855 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,855 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,855 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,855 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,855 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,855 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,855 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,855 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,855 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,855 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,856 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,856 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,856 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,856 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,857 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,860 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,862 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,862 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,862 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,862 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,862 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,862 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,862 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,864 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,866 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,866 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,866 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,866 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,867 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,867 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,867 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,867 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,867 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,867 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,867 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,867 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,868 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,868 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,868 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,868 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,868 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,868 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,868 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,868 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,868 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,868 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,868 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,868 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,869 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,870 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,870 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,870 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,871 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,871 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,871 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,871 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   n_estimators: 298
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   max_depth: 11
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   learning_rate: 0.29798215010771406
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   subsample: 0.9661743588899239
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   colsample_bytree: 0.778358810756072
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   min_child_weight: 8
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   reg_alpha: 6.949241088266816e-08
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   reg_lambda: 9.259217630906102
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,872 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,886 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,886 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,886 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,886 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,887 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,888 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,888 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,888 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,888 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,889 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,889 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,889 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,889 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,889 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,889 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,889 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,889 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,889 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,889 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,889 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,889 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,889 - src.hyperparameter_tuning - ERROR - Trial 47 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,905 - src.hyperparameter_tuning - INFO - Trial 48: 모델 타입 = xgboost
2025-06-24 09:25:24,910 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,910 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,910 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,910 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,910 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,910 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,910 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,910 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,911 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,911 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,911 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,911 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,911 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,911 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,911 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,911 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,911 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,911 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,912 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,912 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,912 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,912 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,916 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,918 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,918 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,918 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,918 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,918 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,918 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,918 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,920 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,922 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,922 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,922 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,922 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,922 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,922 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,922 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,922 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,923 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,923 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,923 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,923 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,923 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,923 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,923 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,923 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,923 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,924 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,924 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,924 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,924 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,924 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,924 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,924 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,924 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,924 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,924 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,924 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,924 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,925 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,926 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,926 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,926 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,927 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,927 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,927 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,927 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   n_estimators: 189
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   learning_rate: 0.1418689101868712
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   subsample: 0.6752502540594851
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6139781114763024
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   reg_alpha: 6.399531868419384e-07
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   reg_lambda: 0.006050576339212821
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,928 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,938 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,938 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,938 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,938 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,938 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,938 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,938 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,938 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,940 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,940 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,940 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,940 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,940 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,940 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,940 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,940 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,940 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,940 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,940 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,940 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,941 - src.hyperparameter_tuning - ERROR - Trial 48 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:24,957 - src.hyperparameter_tuning - INFO - Trial 49: 모델 타입 = xgboost
2025-06-24 09:25:24,960 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:24,961 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:24,961 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:24,961 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:24,961 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:24,961 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:24,961 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:24,961 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:24,961 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:24,962 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:24,962 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:24,962 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:24,962 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:24,962 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:24,962 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:24,962 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:24,962 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:24,962 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:24,963 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:24,963 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:24,963 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:24,963 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:24,966 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:24,968 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,968 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:24,968 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:24,968 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:24,968 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:24,968 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:24,968 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:24,971 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:24,972 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:24,972 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,972 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,972 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:24,972 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:24,972 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:24,973 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,973 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:24,973 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,974 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,974 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:24,974 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:24,974 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:24,975 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:24,975 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:24,975 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:24,975 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:24,975 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:24,975 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:24,975 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:24,975 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:24,975 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,975 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,975 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,976 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,976 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,976 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:24,977 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,977 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:24,977 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   n_estimators: 430
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   learning_rate: 0.1804892664511068
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   subsample: 0.7240973217947033
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7319174857634566
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   reg_alpha: 0.0032312321183842947
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   reg_lambda: 0.6941288572073859
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:24,978 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:24,987 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:24,987 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:24,987 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:24,987 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:24,987 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:24,988 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:24,989 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:24,989 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:24,989 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:24,989 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:24,989 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:24,990 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:24,990 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:24,990 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:24,990 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:24,990 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:24,990 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:24,990 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:24,990 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:24,990 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:24,990 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:24,990 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:24,990 - src.hyperparameter_tuning - ERROR - Trial 49 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,007 - src.hyperparameter_tuning - INFO - Trial 50: 모델 타입 = xgboost
2025-06-24 09:25:25,010 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,011 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,011 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,011 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,011 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,011 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,011 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,011 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,011 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,012 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,012 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,012 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,012 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,012 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,012 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,012 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,012 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,012 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,013 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,013 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,013 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,013 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,016 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,019 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,019 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,019 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,019 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,019 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,019 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,019 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,021 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,023 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,023 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,023 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,023 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,023 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,023 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,023 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,023 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,024 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,024 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,024 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,025 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,025 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,025 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,025 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,025 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,025 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,025 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,025 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,025 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,025 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,025 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,025 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,025 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,025 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,025 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,026 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,027 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,027 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,027 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,028 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,028 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,028 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,028 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,028 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,028 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,028 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,028 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,028 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   n_estimators: 541
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   max_depth: 9
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   learning_rate: 0.07125957809364941
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   subsample: 0.8312032021181727
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6494404050180482
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   reg_alpha: 3.5845850004506444e-05
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   reg_lambda: 0.06397004500862312
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,029 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,044 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,045 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,045 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,045 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,046 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,046 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,046 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,046 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,046 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,047 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,047 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,047 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,047 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,047 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,047 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,047 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,047 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,047 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,047 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,047 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,047 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,047 - src.hyperparameter_tuning - ERROR - Trial 50 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,064 - src.hyperparameter_tuning - INFO - Trial 51: 모델 타입 = xgboost
2025-06-24 09:25:25,068 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,069 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,069 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,069 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,069 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,069 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,069 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,069 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,069 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,070 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,070 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,070 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,070 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,070 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,070 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,070 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,070 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,070 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,071 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,071 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,071 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,071 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,074 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,076 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,076 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,076 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,076 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,076 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,076 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,076 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,078 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,080 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,080 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,080 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,080 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,080 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,080 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,080 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,081 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,081 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,081 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,081 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,081 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,082 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,082 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,082 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,082 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,082 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,082 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,082 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,082 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,082 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,082 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,082 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,082 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,083 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,084 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,084 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,084 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,085 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,085 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,085 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,085 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   n_estimators: 658
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   learning_rate: 0.034601828263179514
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   subsample: 0.7872784986272265
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6726462554343288
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   min_child_weight: 9
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   reg_alpha: 0.07767750626699792
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   reg_lambda: 2.5813054874658548
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,086 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,111 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,112 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,112 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,112 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,113 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,113 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,113 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,114 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,114 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,114 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,114 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,114 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,114 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,114 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,114 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,114 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,114 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,114 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,114 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,114 - src.hyperparameter_tuning - ERROR - Trial 51 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,130 - src.hyperparameter_tuning - INFO - Trial 52: 모델 타입 = xgboost
2025-06-24 09:25:25,134 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,135 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,135 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,135 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,135 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,135 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,135 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,135 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,135 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,135 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,135 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,135 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,136 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,136 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,136 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,136 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,136 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,136 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,136 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,136 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,137 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,137 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,137 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,137 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,137 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,137 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,137 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,137 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,140 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,142 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,142 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,142 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,142 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,142 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,142 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,142 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,144 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,146 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,146 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,146 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,146 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,146 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,146 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,146 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,146 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,147 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,147 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,147 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,148 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,148 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,148 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,148 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,148 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,148 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,148 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,148 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,148 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,148 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,148 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,148 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,148 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,148 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,148 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,149 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,150 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,150 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,150 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,151 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,151 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,151 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,151 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   n_estimators: 731
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   learning_rate: 0.045264804556252265
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   subsample: 0.8441633309961236
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9952454433996614
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,151 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO -   reg_alpha: 4.125247890869154
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO -   reg_lambda: 0.2451609055333755
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,152 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,172 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,172 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,172 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,172 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,173 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,174 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,174 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,174 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,174 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,175 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,175 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,175 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,175 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,175 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,175 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,175 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,175 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,175 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,175 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,175 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,175 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,175 - src.hyperparameter_tuning - ERROR - Trial 52 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,192 - src.hyperparameter_tuning - INFO - Trial 53: 모델 타입 = xgboost
2025-06-24 09:25:25,196 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,197 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,197 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,197 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,197 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,197 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,197 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,197 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,197 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,198 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,198 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,198 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,198 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,198 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,198 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,198 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,198 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,198 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,199 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,199 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,199 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,199 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,202 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,204 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,204 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,204 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,204 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,204 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,204 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,204 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,206 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,208 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,208 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,209 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,209 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,209 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,209 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,209 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,209 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,210 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,210 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,210 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,211 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,211 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,211 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,211 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,211 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,211 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,211 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,211 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,211 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,211 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,211 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,211 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,211 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,211 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,212 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,212 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,212 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,213 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,214 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,214 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   n_estimators: 878
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   max_depth: 12
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   learning_rate: 0.05717610201554704
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   subsample: 0.8658342387347022
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   colsample_bytree: 0.703959850414281
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   min_child_weight: 10
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   reg_alpha: 0.20464324584873575
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   reg_lambda: 1.84901540098007
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,214 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,215 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,233 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,233 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,233 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,234 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,235 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,235 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,235 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,235 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,235 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,236 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,236 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,236 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,236 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,236 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,236 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,236 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,236 - src.hyperparameter_tuning - ERROR - Trial 53 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,253 - src.hyperparameter_tuning - INFO - Trial 54: 모델 타입 = xgboost
2025-06-24 09:25:25,256 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,257 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,257 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,257 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,257 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,257 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,257 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,257 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,257 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,258 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,258 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,258 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,258 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,258 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,258 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,258 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,258 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,258 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,259 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,259 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,259 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,259 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,262 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,264 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,264 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,264 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,264 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,264 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,264 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,264 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,266 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,268 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,268 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,268 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,268 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,268 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,268 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,268 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,268 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,268 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,268 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,269 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,269 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,269 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,269 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,269 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,270 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,270 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,270 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,270 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,270 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,270 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,270 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,270 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,270 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,270 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,270 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,271 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,272 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,272 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,272 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,273 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,273 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,273 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,273 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   n_estimators: 630
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   learning_rate: 0.10355452708216979
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   subsample: 0.9997004443796105
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6338705715259689
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   reg_alpha: 0.00023122038720601063
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   reg_lambda: 0.7623950102138848
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,274 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,297 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,297 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,297 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,297 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,298 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,299 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,299 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,299 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,299 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,299 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,300 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,300 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,300 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,300 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,300 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,300 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,300 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,300 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,300 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,300 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,300 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,300 - src.hyperparameter_tuning - ERROR - Trial 54 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,317 - src.hyperparameter_tuning - INFO - Trial 55: 모델 타입 = xgboost
2025-06-24 09:25:25,320 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,321 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,321 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,321 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,321 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,321 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,321 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,321 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,321 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,322 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,322 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,322 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,322 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,322 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,322 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,322 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,322 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,322 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,323 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,323 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,323 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,323 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,326 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,328 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,328 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,328 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,328 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,328 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,328 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,328 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,330 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,332 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,332 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,332 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,332 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,333 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,333 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,333 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,333 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,334 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,334 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,334 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,335 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,335 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,335 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,335 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,335 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,335 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,335 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,335 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,335 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,335 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,335 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,335 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,335 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,335 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,335 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,335 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,336 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,336 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,336 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,337 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,338 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,338 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,338 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,338 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   n_estimators: 765
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   learning_rate: 0.0872695500305814
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   subsample: 0.8117310893244194
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6153983721169413
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   min_child_weight: 7
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,338 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,339 - src.models.xgboost_model - INFO -   reg_alpha: 2.0146033362193987
2025-06-24 09:25:25,339 - src.models.xgboost_model - INFO -   reg_lambda: 2.5893596931027907e-05
2025-06-24 09:25:25,339 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,339 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,339 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,352 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,353 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,353 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,353 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,354 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,354 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,354 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,354 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,355 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,355 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,355 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,355 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,355 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,355 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,355 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,355 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,355 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,355 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,355 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,355 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,355 - src.hyperparameter_tuning - ERROR - Trial 55 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,372 - src.hyperparameter_tuning - INFO - Trial 56: 모델 타입 = xgboost
2025-06-24 09:25:25,376 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,376 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,376 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,376 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,376 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,376 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,376 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,376 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,376 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,377 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,377 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,377 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,377 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,377 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,377 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,377 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,377 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,377 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,378 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,378 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,378 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,378 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,382 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,384 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,384 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,384 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,384 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,384 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,384 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,384 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,386 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,388 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,388 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,388 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,388 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,388 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,388 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,388 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,388 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,388 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,388 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,389 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,389 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,389 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,389 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,389 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,390 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,390 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,390 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,390 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,390 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,390 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,390 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,390 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,390 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,390 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,390 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,390 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,392 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,392 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,392 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,393 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,393 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,393 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,393 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   n_estimators: 474
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   learning_rate: 0.15955110994063237
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   subsample: 0.9199729455787573
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6885712835817486
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   reg_alpha: 2.1688355302711294e-08
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   reg_lambda: 0.00013027514822087265
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,394 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,407 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,407 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,407 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,407 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,407 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,408 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,409 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,409 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,409 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,409 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,409 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,410 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,410 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,410 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,410 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,410 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,410 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,410 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,410 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,410 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,410 - src.hyperparameter_tuning - ERROR - Trial 56 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,427 - src.hyperparameter_tuning - INFO - Trial 57: 모델 타입 = xgboost
2025-06-24 09:25:25,431 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,431 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,431 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,431 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,431 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,431 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,431 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,431 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,431 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,432 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,432 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,432 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,432 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,432 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,432 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,432 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,432 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,432 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,433 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,433 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,433 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,433 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,437 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,439 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,439 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,439 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,439 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,439 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,439 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,439 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,441 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,442 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,442 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,443 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,443 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,443 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,444 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,444 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,444 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,445 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,445 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,445 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,445 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,445 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,445 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,445 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,445 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,445 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,445 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,445 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,445 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,445 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,445 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,445 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,445 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,446 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,446 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,447 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,448 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,448 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   n_estimators: 803
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   learning_rate: 0.12328464824387185
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   subsample: 0.7393575197608402
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7168277374943876
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   reg_alpha: 0.04913346947062682
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   reg_lambda: 8.091670889329816e-06
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,448 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,449 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,465 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,465 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,465 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,465 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,465 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,466 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,467 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,467 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,467 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,467 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,467 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,467 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,468 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,468 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,468 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,468 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,468 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,468 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,468 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,468 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,468 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,468 - src.hyperparameter_tuning - ERROR - Trial 57 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,485 - src.hyperparameter_tuning - INFO - Trial 58: 모델 타입 = xgboost
2025-06-24 09:25:25,488 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,489 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,489 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,489 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,489 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,489 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,489 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,489 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,489 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,490 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,490 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,490 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,490 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,490 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,490 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,490 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,490 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,490 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,491 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,491 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,491 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,491 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,494 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,496 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,496 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,496 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,496 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,496 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,496 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,496 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,498 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,500 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,500 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,500 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,500 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,500 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,500 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,500 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,500 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,500 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,500 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,501 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,501 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,501 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,501 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,501 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,502 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,502 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,502 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,502 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,502 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,502 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,502 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,502 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,502 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,502 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,502 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,503 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,504 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,504 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,504 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,505 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,505 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,505 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,505 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   n_estimators: 713
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   max_depth: 9
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   learning_rate: 0.02877890524381143
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   subsample: 0.7744968157211797
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6613521579450681
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   min_child_weight: 8
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   reg_alpha: 1.264172185275746e-07
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   reg_lambda: 1.8438880988303907e-07
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,506 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,539 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,539 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,539 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,539 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,539 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,539 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,539 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,539 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,540 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,541 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,541 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,541 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,541 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,541 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,541 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,541 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,541 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,541 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,541 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,541 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,541 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,542 - src.hyperparameter_tuning - ERROR - Trial 58 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,559 - src.hyperparameter_tuning - INFO - Trial 59: 모델 타입 = xgboost
2025-06-24 09:25:25,563 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,564 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,564 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,564 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,564 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,564 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,564 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,564 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,564 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,565 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,565 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,565 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,565 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,565 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,565 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,565 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,565 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,565 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,566 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,566 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,566 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,566 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,569 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,571 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,571 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,571 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,571 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,571 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,571 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,571 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,573 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,575 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,575 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,575 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,576 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,576 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,576 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,576 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,577 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,577 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,577 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,578 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,578 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,578 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,578 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,578 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,578 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,578 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,578 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,578 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,578 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,578 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,578 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,578 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,579 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,579 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,580 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,581 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,581 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,581 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,581 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   n_estimators: 348
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   learning_rate: 0.0775060616033584
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   subsample: 0.822774978046291
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8032996697823546
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   min_child_weight: 9
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   reg_alpha: 1.0336394052983589e-08
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   reg_lambda: 0.02426337372106349
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,581 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,582 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,596 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,596 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,596 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,596 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,596 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,596 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,596 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,596 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,597 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,598 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,598 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,598 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,598 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,598 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,598 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,598 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,598 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,598 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,598 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,598 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,598 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,599 - src.hyperparameter_tuning - ERROR - Trial 59 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,616 - src.hyperparameter_tuning - INFO - Trial 60: 모델 타입 = xgboost
2025-06-24 09:25:25,620 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,621 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,621 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,621 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,621 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,621 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,621 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,621 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,621 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,621 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,621 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,621 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,621 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,622 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,622 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,622 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,622 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,622 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,622 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,623 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,623 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,623 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,623 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,626 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,628 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,628 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,628 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,628 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,628 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,628 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,628 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,630 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,632 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,633 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,633 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,633 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,633 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,633 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,633 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,633 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,634 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,634 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,634 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,635 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,635 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,635 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,635 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,635 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,635 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,635 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,635 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,635 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,635 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,635 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,635 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,635 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,635 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,635 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,635 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,636 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,636 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,636 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,637 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,638 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,638 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,638 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   n_estimators: 413
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   max_depth: 11
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   learning_rate: 0.053859474429395815
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   subsample: 0.7140694592116312
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6437821525449181
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,638 - src.models.xgboost_model - INFO -   reg_alpha: 0.010830516798855553
2025-06-24 09:25:25,639 - src.models.xgboost_model - INFO -   reg_lambda: 0.26017228321039604
2025-06-24 09:25:25,639 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,639 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,639 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,659 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,659 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,659 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,659 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,660 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,661 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,661 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,661 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,661 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,661 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,661 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,661 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,661 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,661 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,662 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,662 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,662 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,662 - src.hyperparameter_tuning - ERROR - Trial 60 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,679 - src.hyperparameter_tuning - INFO - Trial 61: 모델 타입 = xgboost
2025-06-24 09:25:25,683 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,684 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,684 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,684 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,684 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,684 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,684 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,684 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,684 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,685 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,685 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,685 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,685 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,685 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,685 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,685 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,685 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,685 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,686 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,686 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,686 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,686 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,690 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,692 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,692 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,692 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,692 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,692 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,692 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,692 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,694 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,696 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,696 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,696 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,696 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,696 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,696 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,696 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,696 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,697 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,697 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,697 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,698 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,698 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,698 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,698 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,698 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,698 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,698 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,698 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,698 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,698 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,698 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,698 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,698 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,698 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,698 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,698 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,699 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,699 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,699 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,700 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,701 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,701 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,701 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,701 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO -   n_estimators: 690
2025-06-24 09:25:25,701 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   learning_rate: 0.014546989331885148
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   subsample: 0.6753294906853499
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6085297963037174
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   reg_alpha: 0.0005269403362868235
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   reg_lambda: 1.5293803009834095e-06
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,702 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,767 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,767 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,767 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,767 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,768 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,768 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,768 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,768 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,768 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,769 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,769 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,769 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,769 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,769 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,769 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,769 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,769 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,769 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,769 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,769 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,769 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,770 - src.hyperparameter_tuning - ERROR - Trial 61 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,787 - src.hyperparameter_tuning - INFO - Trial 62: 모델 타입 = xgboost
2025-06-24 09:25:25,791 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,792 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,792 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,792 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,792 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,792 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,792 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,792 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,792 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,793 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,793 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,793 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,793 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,793 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,793 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,793 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,793 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,793 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,794 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,794 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,794 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,794 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,797 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,799 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,799 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,799 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,799 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,799 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,799 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,799 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,801 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,803 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,803 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,803 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,803 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,803 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,803 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,803 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,803 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,803 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,803 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,804 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,804 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,805 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,805 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,805 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,805 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,805 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,805 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,805 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,805 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,805 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,805 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,806 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,806 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,806 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,806 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,806 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,807 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,807 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,807 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,808 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,808 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,808 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,808 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   n_estimators: 584
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   learning_rate: 0.011529166424374461
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   subsample: 0.6196043318951782
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6305394260320045
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   reg_alpha: 2.107485048565797e-05
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   reg_lambda: 7.1681666026899905e-06
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,809 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:25,890 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:25,891 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:25,891 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,891 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,892 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,892 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,892 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,892 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:25,893 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:25,893 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:25,893 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:25,893 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:25,893 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,893 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:25,893 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:25,893 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:25,893 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:25,893 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:25,893 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:25,893 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:25,893 - src.hyperparameter_tuning - ERROR - Trial 62 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:25,911 - src.hyperparameter_tuning - INFO - Trial 63: 모델 타입 = xgboost
2025-06-24 09:25:25,915 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:25,915 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:25,916 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:25,916 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:25,916 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:25,916 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:25,916 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:25,916 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:25,916 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:25,916 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:25,916 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:25,916 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:25,916 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:25,916 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:25,916 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:25,916 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:25,916 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:25,916 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:25,917 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:25,917 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:25,917 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:25,917 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:25,921 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:25,923 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,923 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:25,923 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:25,923 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:25,923 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:25,923 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:25,923 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:25,925 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:25,927 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:25,927 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,927 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,927 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:25,927 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:25,927 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,927 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:25,927 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,928 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,928 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:25,928 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:25,929 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:25,929 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:25,929 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:25,929 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:25,929 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:25,929 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:25,929 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:25,929 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:25,929 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:25,929 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,929 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:25,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:25,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,929 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:25,930 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,931 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,931 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:25,931 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:25,932 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,932 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:25,932 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:25,932 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:25,932 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   n_estimators: 522
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   learning_rate: 0.013137316922394032
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   subsample: 0.66030551920044
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6666629197984876
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   reg_alpha: 8.094504252859514e-05
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   reg_lambda: 6.903878038959463e-07
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:25,933 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,010 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,010 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,010 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,010 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,011 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,012 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,012 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,012 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,012 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,012 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,012 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,012 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,012 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,013 - src.hyperparameter_tuning - ERROR - Trial 63 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,031 - src.hyperparameter_tuning - INFO - Trial 64: 모델 타입 = xgboost
2025-06-24 09:25:26,035 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,036 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,036 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,036 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,036 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,036 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,036 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,036 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,036 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,037 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,037 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,037 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,037 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,037 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,037 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,037 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,037 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,037 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,038 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,038 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,038 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,038 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,042 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,044 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,044 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,044 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,044 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,044 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,044 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,044 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,046 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,048 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,048 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,048 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,048 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,048 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,048 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,048 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,048 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,048 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,048 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,049 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,049 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,050 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,050 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,050 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,050 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,050 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,050 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,050 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,050 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,050 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,050 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,051 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,051 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,051 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,051 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,051 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,052 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,052 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,052 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,053 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,054 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,054 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   n_estimators: 603
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   learning_rate: 0.01907906250177294
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   subsample: 0.6942534441572816
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   colsample_bytree: 0.938464434101627
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   reg_alpha: 0.00022682936396780558
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   reg_lambda: 4.45561669868669
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,054 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,091 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,091 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,091 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,091 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,091 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,092 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,093 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,093 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,093 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,093 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,094 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,094 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,094 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,094 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,094 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,094 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,094 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,094 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,094 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,094 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,094 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,094 - src.hyperparameter_tuning - ERROR - Trial 64 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,112 - src.hyperparameter_tuning - INFO - Trial 65: 모델 타입 = xgboost
2025-06-24 09:25:26,116 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,117 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,117 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,117 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,117 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,117 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,117 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,117 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,117 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,117 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,117 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,117 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,117 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,117 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,117 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,117 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,118 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,118 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,118 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,119 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,119 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,119 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,119 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,122 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,124 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,124 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,124 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,124 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,124 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,124 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,124 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,126 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,128 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,128 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,128 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,128 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,128 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,128 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,128 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,128 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,128 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,128 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,129 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,129 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,129 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,129 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,129 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,130 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,130 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,130 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,130 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,130 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,130 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,130 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,130 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,130 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,130 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,130 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,130 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,130 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,131 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,132 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,132 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,132 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,133 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,133 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,133 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,133 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   n_estimators: 639
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   learning_rate: 0.015539591247548544
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   subsample: 0.8476657650935041
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6885737118864246
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   reg_alpha: 2.135344482122875e-06
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   reg_lambda: 9.507584963345197
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,134 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,188 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,188 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,188 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,188 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,188 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,189 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,189 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,189 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,189 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,189 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,190 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,190 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,190 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,190 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,190 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,191 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,191 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,191 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,191 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,191 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,191 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,191 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,191 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,191 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,191 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,191 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,191 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,191 - src.hyperparameter_tuning - ERROR - Trial 65 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,209 - src.hyperparameter_tuning - INFO - Trial 66: 모델 타입 = xgboost
2025-06-24 09:25:26,214 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,215 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,215 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,215 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,215 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,215 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,215 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,215 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,216 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,216 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,216 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,216 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,216 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,216 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,216 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,216 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,216 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,216 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,217 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,217 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,217 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,217 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,221 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,223 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,223 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,223 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,223 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,223 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,223 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,223 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,225 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,227 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,227 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,227 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,227 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,227 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,227 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,227 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,228 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,228 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,229 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,229 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,229 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,229 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,230 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,230 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,230 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,230 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,230 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,230 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,230 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,230 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,230 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,230 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,230 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,231 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,231 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,231 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,232 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,233 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   n_estimators: 759
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   learning_rate: 0.03979327596125047
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   subsample: 0.8903803852114492
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6519922289069321
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   reg_alpha: 6.360497158046327e-06
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   reg_lambda: 6.120976221733305e-08
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,233 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,234 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,268 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,268 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,268 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,268 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,268 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,268 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,269 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,270 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,270 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,270 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,270 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,270 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,270 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,270 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,271 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,271 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,271 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,271 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,271 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,271 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,271 - src.hyperparameter_tuning - ERROR - Trial 66 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,289 - src.hyperparameter_tuning - INFO - Trial 67: 모델 타입 = xgboost
2025-06-24 09:25:26,294 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,294 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,294 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,294 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,294 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,294 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,294 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,294 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,294 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,295 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,295 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,295 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,295 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,295 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,295 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,295 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,295 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,295 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,296 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,296 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,296 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,296 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,300 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,302 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,302 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,302 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,302 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,302 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,302 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,302 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,304 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,306 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,306 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,306 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,306 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,306 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,306 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,306 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,306 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,306 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,306 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,307 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,307 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,307 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,307 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,307 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,308 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,308 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,308 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,308 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,308 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,308 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,308 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,308 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,308 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,308 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,308 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,308 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,309 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,310 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,310 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,310 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,311 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,311 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,311 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,311 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   n_estimators: 460
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   learning_rate: 0.010279355645218053
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   subsample: 0.788610647676336
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6007402282383875
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   reg_alpha: 2.1648599920690632e-07
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   reg_lambda: 3.822412525449798e-06
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,312 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,415 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,415 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,415 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,415 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,415 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,416 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,416 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,416 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,417 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,418 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,418 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,418 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,418 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,418 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,418 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,418 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,418 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,419 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,419 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,419 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,419 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,419 - src.hyperparameter_tuning - ERROR - Trial 67 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,437 - src.hyperparameter_tuning - INFO - Trial 68: 모델 타입 = xgboost
2025-06-24 09:25:26,441 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,442 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,442 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,442 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,442 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,442 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,442 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,442 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,442 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,443 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,443 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,443 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,443 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,443 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,443 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,443 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,443 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,443 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,444 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,444 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,444 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,444 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,447 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,449 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,449 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,449 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,449 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,449 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,449 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,449 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,451 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,453 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,453 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,453 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,453 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,453 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,453 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,453 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,454 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,454 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,454 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,455 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,455 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,455 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,456 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,456 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,456 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,456 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,456 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,456 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,456 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,456 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,456 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,456 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,456 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,456 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,456 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,456 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,457 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,457 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,458 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,459 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   n_estimators: 487
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   learning_rate: 0.09730090926348017
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   subsample: 0.6404051273442564
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   colsample_bytree: 0.703047110166788
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   reg_alpha: 4.604550476563442e-05
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   reg_lambda: 1.0047451535654421
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,459 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,460 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,474 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,474 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,474 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,474 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,474 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,475 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,476 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,476 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,476 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,476 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,476 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,477 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,477 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,477 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,477 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,477 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,477 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,477 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,477 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,477 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,477 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,477 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,477 - src.hyperparameter_tuning - ERROR - Trial 68 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,495 - src.hyperparameter_tuning - INFO - Trial 69: 모델 타입 = xgboost
2025-06-24 09:25:26,498 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,499 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,499 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,499 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,499 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,499 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,499 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,499 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,499 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,499 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,499 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,499 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,499 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,499 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,499 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,499 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,499 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,499 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,500 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,500 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,500 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,500 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,500 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,501 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,501 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,501 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,501 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,501 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,504 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,506 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,506 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,506 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,506 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,506 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,506 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,506 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,508 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,510 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,510 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,510 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,510 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,510 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,510 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,510 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,510 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,510 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,511 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,511 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,512 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,512 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,512 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,513 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,513 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,513 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,513 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,513 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,513 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,513 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,513 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,513 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,513 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,513 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,513 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,514 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,514 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,514 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,515 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,516 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,516 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,516 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,516 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   n_estimators: 568
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   learning_rate: 0.06647890428280832
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   subsample: 0.7553577490504471
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6230458931249605
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,516 - src.models.xgboost_model - INFO -   reg_alpha: 0.5602581457564217
2025-06-24 09:25:26,517 - src.models.xgboost_model - INFO -   reg_lambda: 0.10299929639216457
2025-06-24 09:25:26,517 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,517 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,517 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,536 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,536 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,536 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,536 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,537 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,538 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,538 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,538 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,539 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,539 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,539 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,539 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,539 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,539 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,539 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,539 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,540 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,540 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,540 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,540 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,540 - src.hyperparameter_tuning - ERROR - Trial 69 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,558 - src.hyperparameter_tuning - INFO - Trial 70: 모델 타입 = xgboost
2025-06-24 09:25:26,562 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,563 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,563 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,563 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,563 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,563 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,563 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,563 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,563 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,563 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,563 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,564 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,564 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,564 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,564 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,564 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,564 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,564 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,564 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,565 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,565 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,565 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,565 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,568 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,570 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,570 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,570 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,570 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,570 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,570 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,570 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,572 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,574 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,574 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,574 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,574 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,574 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,574 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,574 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,574 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,574 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,574 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,575 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,575 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,575 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,575 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,575 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,576 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,576 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,576 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,576 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,576 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,576 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,576 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,576 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,576 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,576 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,576 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,576 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,576 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,577 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,578 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,578 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,578 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,579 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,579 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,579 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,579 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   n_estimators: 695
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   learning_rate: 0.02344019160201767
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   subsample: 0.8642627275318365
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6708359461260636
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   reg_alpha: 6.220432273522753e-08
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   reg_lambda: 2.3941535049884575
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,580 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,624 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,624 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,624 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,624 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,625 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,626 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,626 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,626 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,626 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,626 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,626 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,626 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,626 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,627 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,627 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,627 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,627 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,627 - src.hyperparameter_tuning - ERROR - Trial 70 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,645 - src.hyperparameter_tuning - INFO - Trial 71: 모델 타입 = xgboost
2025-06-24 09:25:26,649 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,650 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,650 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,650 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,650 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,650 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,650 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,650 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,650 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,651 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,651 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,651 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,651 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,651 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,651 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,651 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,651 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,651 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,652 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,652 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,652 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,652 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,656 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,658 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,658 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,658 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,658 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,658 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,658 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,658 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,660 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,662 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,662 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,662 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,662 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,663 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,663 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,663 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,664 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,664 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,664 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,665 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,665 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,665 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,665 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,665 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,665 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,665 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,665 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,665 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,665 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,665 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,665 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,665 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,665 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,668 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,668 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   n_estimators: 384
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   learning_rate: 0.04634783282470217
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   subsample: 0.6495556176249225
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9432352490990602
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   reg_alpha: 8.887669300615459
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   reg_lambda: 0.34889850438251785
2025-06-24 09:25:26,668 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,669 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,669 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,691 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,691 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,691 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,691 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,691 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,692 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,692 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,693 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,693 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,693 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,694 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,694 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,694 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,694 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,694 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,694 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,694 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,694 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,694 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,694 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,694 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,694 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,695 - src.hyperparameter_tuning - ERROR - Trial 71 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,713 - src.hyperparameter_tuning - INFO - Trial 72: 모델 타입 = xgboost
2025-06-24 09:25:26,717 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,718 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,718 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,718 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,718 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,718 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,718 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,718 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,718 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,719 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,719 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,719 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,719 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,719 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,719 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,719 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,719 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,719 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,720 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,720 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,720 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,720 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,724 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,726 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,726 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,726 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,726 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,726 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,726 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,726 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,728 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,730 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,730 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,730 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,730 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,730 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,730 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,730 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,730 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,730 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,730 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,731 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,731 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,731 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,731 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,731 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,732 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,732 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,732 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,732 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,732 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,732 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,732 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,732 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,732 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,732 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,732 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,734 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,734 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,734 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,735 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,735 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,735 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,735 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   n_estimators: 284
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   learning_rate: 0.08385288060187905
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   subsample: 0.6657162896381135
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8316137715558425
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   reg_alpha: 2.7179151631949225
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   reg_lambda: 0.09595386642381562
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,736 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,752 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,752 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,752 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,752 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,753 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,754 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,754 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,754 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,754 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,754 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,754 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,754 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,754 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,754 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,754 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,754 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,754 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,755 - src.hyperparameter_tuning - ERROR - Trial 72 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,773 - src.hyperparameter_tuning - INFO - Trial 73: 모델 타입 = xgboost
2025-06-24 09:25:26,777 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,778 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,778 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,778 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,778 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,778 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,778 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,778 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,778 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,778 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,778 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,778 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,778 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,779 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,779 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,779 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,779 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,779 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,779 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,780 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,780 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,780 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,780 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,783 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,785 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,785 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,785 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,786 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,786 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,786 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,786 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,787 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,790 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,790 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,790 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,790 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,790 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,791 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,791 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,791 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,792 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,792 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,792 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,792 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,792 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,792 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,792 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,792 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,792 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,792 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,792 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,792 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,793 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,794 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,794 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,794 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,795 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,795 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,795 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,795 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   n_estimators: 332
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   max_depth: 9
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   learning_rate: 0.06564385259487518
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   subsample: 0.6366226835102399
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8752546753201617
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   reg_alpha: 5.150012366819398
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   reg_lambda: 1.003711451020569
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,796 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,814 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,814 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,815 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,815 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,816 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,817 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,817 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,817 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,817 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,817 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,817 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,817 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,817 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,817 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,817 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,817 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,817 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,818 - src.hyperparameter_tuning - ERROR - Trial 73 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,835 - src.hyperparameter_tuning - INFO - Trial 74: 모델 타입 = xgboost
2025-06-24 09:25:26,840 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,840 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,840 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,840 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,840 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,840 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,840 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,840 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,840 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,841 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,841 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,841 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,841 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,841 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,841 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,841 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,841 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,841 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,842 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,842 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,842 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,842 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,846 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,848 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,848 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,848 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,848 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,848 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,848 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,848 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,850 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,852 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,852 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,852 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,852 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,852 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,853 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,853 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,853 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,854 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,854 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,854 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,854 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,854 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,854 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,854 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,854 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,854 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,854 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,854 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,854 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,854 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,854 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,854 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,855 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,855 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,857 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,857 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   n_estimators: 447
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   learning_rate: 0.05989345129213702
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   subsample: 0.6925861679392898
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6843827350824451
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,857 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,858 - src.models.xgboost_model - INFO -   reg_alpha: 5.118786379381839e-07
2025-06-24 09:25:26,858 - src.models.xgboost_model - INFO -   reg_lambda: 1.093596014940291e-06
2025-06-24 09:25:26,858 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,858 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,858 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,876 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,876 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,876 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,876 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,877 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,878 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,878 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,878 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,878 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,878 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,878 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,878 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,878 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,878 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,878 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,878 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,878 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,879 - src.hyperparameter_tuning - ERROR - Trial 74 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,896 - src.hyperparameter_tuning - INFO - Trial 75: 모델 타입 = xgboost
2025-06-24 09:25:26,901 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,902 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,902 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,902 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,902 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,902 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,902 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,902 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,902 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,903 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,903 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,903 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,903 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,903 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,903 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,903 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,903 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,903 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,904 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,904 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,904 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,904 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,908 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,910 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,910 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,910 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,910 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,910 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,910 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,910 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,912 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,914 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,914 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,914 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,914 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,914 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,914 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,914 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,914 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,914 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,914 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,915 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,915 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,915 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,915 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,915 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,916 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,916 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,916 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,916 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,916 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,916 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,916 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,916 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,916 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,916 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,916 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,916 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,916 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,917 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,918 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,918 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,918 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,919 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,919 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,919 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,919 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   n_estimators: 366
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   learning_rate: 0.07545121326757587
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   subsample: 0.6217112676073377
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7461623645206352
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   reg_alpha: 3.591723831798953e-08
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   reg_lambda: 4.624302543074102
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,920 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:26,938 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:26,939 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:26,939 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:26,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,939 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,939 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,939 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,940 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:26,941 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:26,941 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:26,941 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:26,941 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:26,941 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,941 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:26,941 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:26,941 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:26,941 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:26,942 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:26,942 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:26,942 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:26,942 - src.hyperparameter_tuning - ERROR - Trial 75 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:26,960 - src.hyperparameter_tuning - INFO - Trial 76: 모델 타입 = xgboost
2025-06-24 09:25:26,965 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:26,966 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:26,966 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:26,966 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:26,966 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:26,966 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:26,966 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:26,966 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:26,966 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:26,967 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:26,967 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:26,967 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:26,967 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:26,967 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:26,967 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:26,967 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:26,967 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:26,967 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:26,968 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:26,968 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:26,968 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:26,968 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:26,972 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:26,974 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,974 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:26,974 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:26,974 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:26,974 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:26,974 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:26,974 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:26,976 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:26,978 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:26,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:26,978 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:26,978 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,978 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:26,978 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:26,978 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,978 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,979 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:26,979 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,979 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,979 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:26,979 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:26,980 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:26,980 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:26,980 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:26,980 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:26,980 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:26,980 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:26,980 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:26,980 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:26,980 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:26,980 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,980 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:26,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:26,980 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,981 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,982 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,982 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,982 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:26,983 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:26,984 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:26,984 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   n_estimators: 251
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   learning_rate: 0.01779375529974472
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   subsample: 0.7987341374614242
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8559164726165345
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   reg_alpha: 1.5034238745928261
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   reg_lambda: 0.032844738310108486
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:26,984 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:26,985 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,021 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,021 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,021 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,021 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,021 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,021 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,022 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,023 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,023 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,023 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,023 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,023 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,023 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,023 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,023 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,023 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,024 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,024 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,024 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,024 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,024 - src.hyperparameter_tuning - ERROR - Trial 76 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,042 - src.hyperparameter_tuning - INFO - Trial 77: 모델 타입 = xgboost
2025-06-24 09:25:27,046 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,047 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,047 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,047 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,047 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,047 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,047 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,047 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,047 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,048 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,048 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,048 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,048 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,048 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,048 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,048 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,048 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,048 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,049 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,049 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,049 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,049 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,052 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,054 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,054 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,054 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,054 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,054 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,054 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,054 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,056 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,058 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,058 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,058 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,059 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,059 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,059 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,060 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,060 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,060 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,061 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,061 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,061 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,061 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,061 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,061 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,061 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,061 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,061 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,061 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,061 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,061 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,061 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,061 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,061 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,061 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,062 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,062 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,062 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,063 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,064 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,064 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,064 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,064 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   n_estimators: 531
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   learning_rate: 0.23849423555782936
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   subsample: 0.9419379172450565
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7863023467758691
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,064 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   reg_alpha: 0.0032362074058608914
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   reg_lambda: 0.008381574440545663
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,065 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,072 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,072 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,072 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,072 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,072 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,073 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,074 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,074 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,074 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,074 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,074 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,074 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,075 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,075 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,075 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,075 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,075 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,075 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,075 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,075 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,075 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,075 - src.hyperparameter_tuning - ERROR - Trial 77 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,093 - src.hyperparameter_tuning - INFO - Trial 78: 모델 타입 = xgboost
2025-06-24 09:25:27,097 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,098 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,098 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,098 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,098 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,098 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,098 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,098 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,098 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,099 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,099 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,099 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,099 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,099 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,099 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,099 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,099 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,099 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,100 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,100 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,100 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,100 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,104 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,106 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,106 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,106 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,106 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,106 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,106 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,106 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,108 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,110 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,110 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,110 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,110 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,110 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,110 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,110 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,110 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,111 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,111 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,111 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,112 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,112 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,112 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,112 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,112 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,112 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,112 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,112 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,112 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,112 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,112 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,112 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,112 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,113 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,114 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,114 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,114 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,115 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,115 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,115 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,115 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   n_estimators: 998
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   learning_rate: 0.013420812289042905
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   subsample: 0.7718479733534648
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6443965869624858
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,115 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   reg_alpha: 0.8415509018451914
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   reg_lambda: 0.001152784143478744
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,116 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,178 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,178 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,178 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,178 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,178 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,179 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,180 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,180 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,180 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,180 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,180 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,180 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,180 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,180 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,181 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,181 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,181 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,181 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,181 - src.hyperparameter_tuning - ERROR - Trial 78 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,199 - src.hyperparameter_tuning - INFO - Trial 79: 모델 타입 = xgboost
2025-06-24 09:25:27,203 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,204 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,204 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,204 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,204 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,204 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,204 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,204 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,204 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,205 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,205 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,205 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,205 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,205 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,205 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,205 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,205 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,205 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,206 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,206 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,206 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,206 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,209 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,211 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,211 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,211 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,211 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,211 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,212 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,212 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,213 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,215 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,215 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,215 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,216 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,216 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,216 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,217 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,217 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,217 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,218 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,218 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,218 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,218 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,218 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,218 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,218 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,218 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,218 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,218 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,218 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,218 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,219 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,219 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,219 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,220 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,221 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   n_estimators: 505
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   learning_rate: 0.09223704045252305
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   subsample: 0.6084206452361289
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6576916197629644
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   reg_alpha: 0.0011987901971062102
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   reg_lambda: 0.00029030914836418713
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,221 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,222 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,238 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,238 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,238 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,238 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,238 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,238 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,238 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,238 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,239 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,240 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,240 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,240 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,240 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,240 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,240 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,240 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,240 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,240 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,240 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,240 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,240 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,241 - src.hyperparameter_tuning - ERROR - Trial 79 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,259 - src.hyperparameter_tuning - INFO - Trial 80: 모델 타입 = xgboost
2025-06-24 09:25:27,263 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,264 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,264 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,264 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,264 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,264 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,264 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,264 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,264 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,264 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,265 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,265 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,265 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,265 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,265 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,265 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,265 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,265 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,266 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,266 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,266 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,266 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,269 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,271 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,271 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,271 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,271 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,271 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,271 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,271 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,273 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,275 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,275 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,275 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,275 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,275 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,275 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,276 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,276 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,276 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,277 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,277 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,277 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,278 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,278 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,278 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,278 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,278 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,278 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,278 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,278 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,278 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,278 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,278 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,278 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,279 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,279 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,279 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,280 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,281 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   n_estimators: 804
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   learning_rate: 0.14958986572942531
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   subsample: 0.7068138084717677
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7255899090155987
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   reg_alpha: 3.0035571687042233
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   reg_lambda: 0.45430900321965184
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,281 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,282 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,290 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,290 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,290 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,290 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,291 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,292 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,292 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,292 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,292 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,292 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,293 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,293 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,293 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,293 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,293 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,293 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,293 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,293 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,293 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,293 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,293 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,293 - src.hyperparameter_tuning - ERROR - Trial 80 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,311 - src.hyperparameter_tuning - INFO - Trial 81: 모델 타입 = xgboost
2025-06-24 09:25:27,316 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,317 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,317 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,317 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,317 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,317 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,317 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,317 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,317 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,317 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,317 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,317 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,317 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,317 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,317 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,317 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,317 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,317 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,318 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,318 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,319 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,319 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,319 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,322 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,324 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,324 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,324 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,324 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,324 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,324 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,324 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,326 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,328 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,328 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,328 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,328 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,328 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,328 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,328 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,328 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,328 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,328 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,329 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,329 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,330 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,330 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,330 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,330 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,330 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,330 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,330 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,331 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,331 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,331 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,331 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,331 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,331 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,331 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,331 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,332 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,332 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,332 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,333 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,334 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   n_estimators: 212
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   learning_rate: 0.10124151949395611
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   subsample: 0.8977558406443732
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9169269819543159
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   reg_alpha: 1.604827585576437e-05
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   reg_lambda: 1.9944937535964806e-07
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,334 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,349 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,349 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,350 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,350 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,351 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,351 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,351 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,351 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,352 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,352 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,352 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,352 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,352 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,352 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,352 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,352 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,352 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,352 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,352 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,352 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,352 - src.hyperparameter_tuning - ERROR - Trial 81 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,371 - src.hyperparameter_tuning - INFO - Trial 82: 모델 타입 = xgboost
2025-06-24 09:25:27,375 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,375 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,375 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,376 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,376 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,376 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,376 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,376 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,376 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,376 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,376 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,376 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,376 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,376 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,376 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,376 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,376 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,376 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,377 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,377 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,377 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,377 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,381 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,383 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,383 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,383 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,383 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,383 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,383 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,383 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,385 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,387 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,387 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,387 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,387 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,387 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,388 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,388 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,388 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,389 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,389 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,389 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,389 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,389 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,389 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,389 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,389 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,389 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,389 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,389 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,389 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,389 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,390 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,391 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,391 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,391 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,392 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,392 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,392 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,392 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO -   n_estimators: 657
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO -   max_depth: 12
2025-06-24 09:25:27,392 - src.models.xgboost_model - INFO -   learning_rate: 0.11635234042364859
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   subsample: 0.9566328378597991
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9010712058196666
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   reg_alpha: 2.8789055328268898e-05
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   reg_lambda: 5.2128193857019155e-05
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,393 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,406 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,406 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,406 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,406 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,406 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,407 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,408 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,408 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,408 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,408 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,408 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,408 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,408 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,408 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,408 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,408 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,409 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,409 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,409 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,409 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,409 - src.hyperparameter_tuning - ERROR - Trial 82 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,427 - src.hyperparameter_tuning - INFO - Trial 83: 모델 타입 = xgboost
2025-06-24 09:25:27,431 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,432 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,432 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,432 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,432 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,432 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,432 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,432 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,432 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,433 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,433 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,433 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,433 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,433 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,433 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,433 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,433 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,433 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,434 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,434 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,434 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,434 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,437 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,439 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,439 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,439 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,439 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,439 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,439 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,439 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,441 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,443 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,443 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,443 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,443 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,443 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,443 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,443 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,444 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,444 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,445 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,445 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,445 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,445 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,445 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,445 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,445 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,446 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,446 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,446 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,446 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,446 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,446 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,446 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,446 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,447 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,447 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,447 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,448 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,448 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,448 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   n_estimators: 432
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   learning_rate: 0.19949127461965904
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   subsample: 0.9266994348532946
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9647751920673402
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   reg_alpha: 1.033975156966066e-05
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   reg_lambda: 8.837805119907822e-08
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,449 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,457 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,457 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,457 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,457 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,458 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,459 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,459 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,459 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,459 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,459 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,459 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,459 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,459 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,460 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,460 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,460 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,460 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,460 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,460 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,460 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,460 - src.hyperparameter_tuning - ERROR - Trial 83 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,479 - src.hyperparameter_tuning - INFO - Trial 84: 모델 타입 = xgboost
2025-06-24 09:25:27,483 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,484 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,484 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,484 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,484 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,484 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,484 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,484 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,484 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,485 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,485 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,485 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,485 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,485 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,485 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,485 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,485 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,485 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,486 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,486 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,486 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,486 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,490 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,492 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,492 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,492 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,492 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,492 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,492 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,492 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,494 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,496 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,496 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,496 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,496 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,496 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,496 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,496 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,496 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,496 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,496 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,497 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,497 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,497 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,497 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,497 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,498 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,498 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,498 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,498 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,498 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,498 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,498 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,498 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,498 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,498 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,498 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,498 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,498 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,499 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,500 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,500 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,500 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,501 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,502 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   n_estimators: 75
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   learning_rate: 0.12420949805942995
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   subsample: 0.8371142000275339
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6968342314621331
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   reg_alpha: 0.00010100942954259031
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   reg_lambda: 1.8723966846963856e-08
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,502 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,503 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,517 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,517 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,517 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,517 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,517 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,517 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,517 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,518 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,519 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,519 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,519 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,519 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,519 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,519 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,519 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,519 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,520 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,520 - src.hyperparameter_tuning - ERROR - Trial 84 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,539 - src.hyperparameter_tuning - INFO - Trial 85: 모델 타입 = xgboost
2025-06-24 09:25:27,543 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,544 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,544 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,544 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,544 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,544 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,544 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,544 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,544 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,544 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,544 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,544 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,544 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,544 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,544 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,544 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,544 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,544 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,545 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,546 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,546 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,546 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,546 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,549 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,551 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,551 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,551 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,551 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,551 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,551 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,551 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,553 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,555 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,555 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,555 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,555 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,555 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,555 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,555 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,556 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,556 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,556 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,556 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,556 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,557 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,557 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,557 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,557 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,557 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,557 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,557 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,557 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,557 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,557 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,557 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,558 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,559 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,559 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,559 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,560 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,560 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,560 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   n_estimators: 398
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   max_depth: 15
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   learning_rate: 0.10780550385328953
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   subsample: 0.8574317376375139
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   colsample_bytree: 0.9270886334494652
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   reg_alpha: 2.7879189687947814e-06
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   reg_lambda: 1.842362074149553e-05
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,561 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,574 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,574 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,574 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,574 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,575 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,576 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,576 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,576 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,576 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,576 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,576 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,576 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,576 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,576 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,576 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,576 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,576 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,577 - src.hyperparameter_tuning - ERROR - Trial 85 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,595 - src.hyperparameter_tuning - INFO - Trial 86: 모델 타입 = xgboost
2025-06-24 09:25:27,600 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,600 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,600 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,600 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,600 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,600 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,600 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,600 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,600 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,601 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,601 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,601 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,601 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,601 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,601 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,601 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,601 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,601 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,602 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,602 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,602 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,602 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,606 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,608 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,608 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,608 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,608 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,608 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,608 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,608 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,610 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,612 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,612 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,612 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,612 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,612 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,612 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,612 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,612 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,612 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,612 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,612 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,613 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,613 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,613 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,613 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,613 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,613 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,613 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,613 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,613 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,614 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,614 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,614 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,614 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,614 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,614 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,614 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,614 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,614 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,614 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,614 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,614 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,615 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,616 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,616 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,616 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,617 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,617 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,617 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,617 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   n_estimators: 96
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   learning_rate: 0.17618335294055193
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   subsample: 0.8813213588471572
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   colsample_bytree: 0.965381550396305
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   reg_alpha: 1.0825398750320777e-06
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   reg_lambda: 0.1705978216866465
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,618 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,626 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,626 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,626 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,626 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,627 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,628 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,628 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,628 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,628 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,628 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,628 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,628 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,628 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,628 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,629 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,629 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,629 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,629 - src.hyperparameter_tuning - ERROR - Trial 86 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,647 - src.hyperparameter_tuning - INFO - Trial 87: 모델 타입 = xgboost
2025-06-24 09:25:27,652 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,652 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,652 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,652 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,652 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,652 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,652 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,652 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,653 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,653 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,653 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,653 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,653 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,653 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,653 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,653 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,653 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,653 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,654 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,654 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,654 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,654 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,658 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,660 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,660 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,660 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,660 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,660 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,660 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,660 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,662 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,664 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,664 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,664 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,664 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,664 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,664 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,664 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,665 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,665 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,665 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,665 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,665 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,666 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,666 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,666 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,666 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,666 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,666 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,666 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,666 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,666 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,668 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,668 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,670 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,670 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   n_estimators: 169
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   learning_rate: 0.07042498529131146
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   subsample: 0.9134481974541603
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6373529145130514
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   min_child_weight: 5
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   reg_alpha: 1.776238835262612e-08
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   reg_lambda: 1.0781176718191016e-08
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,670 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,671 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,690 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,690 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,690 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,690 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,691 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,692 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,692 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,692 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,692 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,692 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,692 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,692 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,692 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,692 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,693 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,693 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,693 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,693 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,693 - src.hyperparameter_tuning - ERROR - Trial 87 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,711 - src.hyperparameter_tuning - INFO - Trial 88: 모델 타입 = xgboost
2025-06-24 09:25:27,716 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,716 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,716 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,716 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,716 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,716 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,716 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,716 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,717 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,717 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,717 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,717 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,717 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,717 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,717 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,717 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,717 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,717 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,718 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,718 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,718 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,718 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,722 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,724 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,724 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,724 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,724 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,724 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,724 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,724 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,726 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,728 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,728 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,728 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,728 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,728 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,728 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,728 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,728 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,729 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,729 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,729 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,729 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,729 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,730 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,730 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,730 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,730 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,730 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,730 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,730 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,730 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,730 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,730 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,730 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,730 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,730 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,730 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,731 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,732 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,732 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,732 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,733 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,733 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,733 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,733 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   n_estimators: 50
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   max_depth: 11
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   learning_rate: 0.04837107008052651
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   subsample: 0.8185572360906911
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6805457813036034
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   min_child_weight: 4
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   reg_alpha: 0.256221915858353
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   reg_lambda: 2.983978754380211e-07
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,734 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,748 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,748 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,748 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,748 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,749 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,749 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,749 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,749 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,749 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,750 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,750 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,750 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,750 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,750 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,750 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,750 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,750 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,750 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,750 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,750 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,750 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,750 - src.hyperparameter_tuning - ERROR - Trial 88 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,769 - src.hyperparameter_tuning - INFO - Trial 89: 모델 타입 = xgboost
2025-06-24 09:25:27,773 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,773 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,773 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,773 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,773 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,773 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,774 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,774 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,774 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,774 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,774 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,774 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,774 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,774 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,774 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,774 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,774 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,774 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,775 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,775 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,775 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,775 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,779 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,781 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,781 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,781 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,781 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,781 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,781 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,781 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,783 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,785 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,785 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,785 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,785 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,785 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,785 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,785 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,785 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,785 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,785 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,786 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,786 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,786 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,786 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,786 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,787 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,787 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,787 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,787 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,787 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,787 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,787 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,787 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,787 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,787 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,787 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,787 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,787 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,788 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,789 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,789 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,789 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,790 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,790 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,790 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,790 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   n_estimators: 138
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   max_depth: 13
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   learning_rate: 0.0563312460123962
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   subsample: 0.8270640535313987
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8905166252075778
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   min_child_weight: 1
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   reg_alpha: 7.74630120863801e-08
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   reg_lambda: 2.0198812673168107
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,791 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,810 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,810 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,810 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,810 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,810 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,811 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,812 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,812 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,812 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,812 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,812 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,812 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,812 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,812 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,812 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,813 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,813 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,813 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,813 - src.hyperparameter_tuning - ERROR - Trial 89 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,835 - src.hyperparameter_tuning - INFO - Trial 90: 모델 타입 = xgboost
2025-06-24 09:25:27,840 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,840 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,840 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,840 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,841 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,841 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,841 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,841 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,841 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,841 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,841 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,841 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,841 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,841 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,841 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,841 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,841 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,841 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,842 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,842 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,842 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,842 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:27,846 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:27,848 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,848 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:27,848 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:27,848 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:27,848 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:27,848 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:27,848 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,850 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:27,852 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:27,853 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,853 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,853 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:27,853 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:27,853 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,853 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:27,853 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,854 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,854 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:27,854 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:27,855 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:27,855 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:27,855 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:27,855 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:27,855 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:27,855 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:27,855 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:27,855 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:27,855 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:27,855 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,855 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:27,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:27,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,855 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,855 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:27,856 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,857 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,857 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,857 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:27,858 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,858 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:27,858 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,858 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   n_estimators: 618
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   max_depth: 3
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   learning_rate: 0.08258044671319616
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   subsample: 0.6871168082573467
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6534170794170923
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   min_child_weight: 2
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   reg_alpha: 0.07217022334431503
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   reg_lambda: 0.014209048856980655
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:27,859 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:27,962 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:27,963 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:27,963 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:27,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:27,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,963 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:27,963 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:27,964 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:27,967 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:27,967 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:27,968 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:27,968 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:27,968 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:27,968 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:27,968 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:27,968 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:27,968 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:27,968 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:27,968 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:27,968 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:27,968 - src.hyperparameter_tuning - ERROR - Trial 90 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:27,988 - src.hyperparameter_tuning - INFO - Trial 91: 모델 타입 = xgboost
2025-06-24 09:25:27,993 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:27,994 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:27,994 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:27,994 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:27,994 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:27,994 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:27,994 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:27,994 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:27,994 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:27,995 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:27,995 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:27,995 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:27,995 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:27,995 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:27,995 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:27,995 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:27,995 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:27,995 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:27,996 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:27,996 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:27,996 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:27,996 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,001 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,003 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,003 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,003 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,003 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,003 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,003 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,003 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,005 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,007 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,007 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,007 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,007 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,007 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,007 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,007 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,007 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,007 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,007 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,008 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,008 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,009 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,009 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,009 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,010 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,010 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,010 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,010 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,010 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,010 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,010 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,010 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,010 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,010 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,010 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,010 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,010 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,010 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,011 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,011 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,011 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,012 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,013 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,013 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,013 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,013 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   n_estimators: 559
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   learning_rate: 0.011887643464300901
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   subsample: 0.7366060849280066
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7659288922219541
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   min_child_weight: 8
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,013 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,014 - src.models.xgboost_model - INFO -   reg_alpha: 0.003309847217561616
2025-06-24 09:25:28,014 - src.models.xgboost_model - INFO -   reg_lambda: 0.6950227539399666
2025-06-24 09:25:28,014 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,014 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,014 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,080 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,080 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,080 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,080 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,081 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,082 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,082 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,082 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,082 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,082 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,082 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,082 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,082 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,083 - src.hyperparameter_tuning - ERROR - Trial 91 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,102 - src.hyperparameter_tuning - INFO - Trial 92: 모델 타입 = xgboost
2025-06-24 09:25:28,106 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,107 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,107 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,107 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,107 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,107 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,107 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,107 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,107 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,108 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,108 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,108 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,108 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,108 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,108 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,108 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,108 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,108 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,109 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,109 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,109 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,109 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,113 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,115 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,115 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,115 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,115 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,115 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,115 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,115 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,117 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,119 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,119 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,119 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,119 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,119 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,120 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,120 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,120 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,120 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,120 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,121 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,121 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,121 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,121 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,121 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,121 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,121 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,121 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,121 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,121 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,121 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,121 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,122 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,123 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,123 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,123 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,124 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,124 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,124 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,124 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   n_estimators: 740
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   learning_rate: 0.010221425817591378
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   subsample: 0.666657201786488
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7115646485463037
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   min_child_weight: 8
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   reg_alpha: 0.0004411662029686766
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   reg_lambda: 1.2482848444244687
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,125 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,205 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,205 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,205 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,205 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,206 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,206 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,206 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,207 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,208 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,208 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,208 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,208 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,208 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,208 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,208 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,209 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,209 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,209 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,209 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,209 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,209 - src.hyperparameter_tuning - ERROR - Trial 92 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,231 - src.hyperparameter_tuning - INFO - Trial 93: 모델 타입 = xgboost
2025-06-24 09:25:28,235 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,236 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,236 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,236 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,236 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,236 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,236 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,236 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,236 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,237 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,237 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,237 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,237 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,237 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,237 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,237 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,237 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,237 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,238 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,238 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,238 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,238 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,242 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,244 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,244 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,244 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,244 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,244 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,244 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,244 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,246 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,248 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,248 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,248 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,248 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,248 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,248 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,248 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,249 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,249 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,250 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,250 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,250 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,251 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,251 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,251 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,251 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,251 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,251 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,251 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,251 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,251 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,251 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,251 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,251 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,252 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,252 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,252 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,253 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,254 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,254 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,254 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,254 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,254 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   n_estimators: 612
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   max_depth: 6
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   learning_rate: 0.015564496481951108
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   subsample: 0.6823923516183442
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7417688479762209
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   min_child_weight: 10
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   reg_alpha: 0.00018189998886927023
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   reg_lambda: 4.8979257643987095
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,255 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,303 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,303 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,303 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,303 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,303 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,304 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,305 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,305 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,305 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,305 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,306 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,306 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,306 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,306 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,306 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,306 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,306 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,306 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,307 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,307 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,307 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,307 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,307 - src.hyperparameter_tuning - ERROR - Trial 93 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,326 - src.hyperparameter_tuning - INFO - Trial 94: 모델 타입 = xgboost
2025-06-24 09:25:28,330 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,331 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,331 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,331 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,331 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,331 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,331 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,331 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,331 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,331 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,332 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,332 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,332 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,332 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,332 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,332 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,332 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,332 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,333 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,333 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,333 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,333 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,336 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,338 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,338 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,338 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,338 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,338 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,338 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,338 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,340 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,342 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,342 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,342 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,342 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,342 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,342 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,342 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,342 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,342 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,342 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,343 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,343 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,344 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,344 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,344 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,344 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,345 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,345 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,345 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,345 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,345 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,345 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,345 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,345 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,345 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,345 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,345 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,346 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,346 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,346 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,347 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,348 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,348 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   n_estimators: 639
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   max_depth: 10
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   learning_rate: 0.012461445908281925
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   subsample: 0.6584671873372798
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   colsample_bytree: 0.8170644717190884
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   min_child_weight: 7
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   reg_alpha: 0.024258190676820907
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   reg_lambda: 4.151493439520333e-06
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,348 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,349 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,409 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,409 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,409 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,409 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,410 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,411 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,411 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,411 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,411 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,411 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,411 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,411 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,411 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,411 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,412 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,412 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,412 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,412 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,412 - src.hyperparameter_tuning - ERROR - Trial 94 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,431 - src.hyperparameter_tuning - INFO - Trial 95: 모델 타입 = xgboost
2025-06-24 09:25:28,436 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,437 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,437 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,437 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,437 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,437 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,437 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,437 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,437 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,437 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,437 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,437 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,437 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,437 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,437 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,437 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,437 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,437 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,438 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,438 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,438 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,438 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,442 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,444 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,444 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,444 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,444 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,444 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,444 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,444 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,446 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,448 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,448 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,448 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,448 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,448 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,448 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,448 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,448 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,448 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,448 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,449 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,449 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,449 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,449 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,449 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,450 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,450 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,450 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,450 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,450 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,450 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,450 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,450 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,450 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,450 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,450 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,450 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,451 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,452 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,452 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,452 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,453 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,453 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,453 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,453 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   n_estimators: 588
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   max_depth: 14
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   learning_rate: 0.09181070251964117
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   subsample: 0.7204929404670175
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6967990350212042
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   min_child_weight: 10
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   reg_alpha: 1.0601784908506723e-05
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   reg_lambda: 2.812262199281051
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,454 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,468 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,468 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,468 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,468 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,469 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,470 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,470 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,470 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,470 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,470 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,470 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,470 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,470 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,470 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,470 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,470 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,470 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,471 - src.hyperparameter_tuning - ERROR - Trial 95 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,490 - src.hyperparameter_tuning - INFO - Trial 96: 모델 타입 = xgboost
2025-06-24 09:25:28,494 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,495 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,495 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,495 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,495 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,495 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,495 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,495 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,495 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,495 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,495 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,495 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,495 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,495 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,495 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,495 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,496 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,496 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,496 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,496 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,497 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,497 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,497 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,497 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,497 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,497 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,497 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,497 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,500 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,502 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,502 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,502 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,502 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,502 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,502 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,502 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,504 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,506 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,506 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,506 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,506 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,506 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,506 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,506 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,506 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,506 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,507 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,507 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,508 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,508 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,508 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,508 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,509 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,509 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,509 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,509 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,509 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,509 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,509 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,509 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,509 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,509 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,509 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,510 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,510 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,510 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,511 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,512 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,512 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   n_estimators: 710
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   max_depth: 8
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   learning_rate: 0.017518784533526184
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   subsample: 0.7054057845088054
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6759885155452908
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   min_child_weight: 9
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   reg_alpha: 6.87861471549386e-05
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   reg_lambda: 6.3161374087561155
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,512 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,555 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,555 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,555 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,555 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,555 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,555 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,556 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,557 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,557 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,557 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,557 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,557 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,557 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,557 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,557 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,558 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,558 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,558 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,558 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,558 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,558 - src.hyperparameter_tuning - ERROR - Trial 96 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,578 - src.hyperparameter_tuning - INFO - Trial 97: 모델 타입 = xgboost
2025-06-24 09:25:28,582 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,583 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,583 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,583 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,583 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,583 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,583 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,583 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,583 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,583 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,583 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,583 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,583 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,583 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,583 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,583 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,583 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,583 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,584 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,584 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,584 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,584 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,585 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,585 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,585 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,585 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,585 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,585 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,588 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,590 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,590 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,590 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,590 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,590 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,590 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,590 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,592 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,594 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,594 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,594 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,594 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,594 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,594 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,594 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,594 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,594 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,594 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,595 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,595 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,595 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,596 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,596 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,596 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,596 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,596 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,596 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,596 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,596 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,596 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,596 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,596 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,596 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,596 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,597 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,598 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,598 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,598 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,599 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,599 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,599 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,599 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   n_estimators: 675
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   max_depth: 7
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   learning_rate: 0.040727213276816776
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   subsample: 0.8113569985028878
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7248662560212005
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   min_child_weight: 3
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   reg_alpha: 0.0370620663398509
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   reg_lambda: 0.3457651462620648
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,600 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,622 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,622 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,623 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,623 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,623 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,623 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,624 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,625 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,625 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,625 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,625 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,625 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,625 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,625 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,625 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,625 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,626 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,626 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,626 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,626 - src.hyperparameter_tuning - ERROR - Trial 97 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,646 - src.hyperparameter_tuning - INFO - Trial 98: 모델 타입 = xgboost
2025-06-24 09:25:28,650 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,651 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,651 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,651 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,651 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,651 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,651 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,651 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,651 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,652 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,652 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,652 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,652 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,652 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,652 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,652 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,652 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,652 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,653 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,653 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,653 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,653 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,657 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,659 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,659 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,659 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,659 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,659 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,659 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,659 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,661 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,663 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,663 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,663 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,663 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,663 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,663 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,664 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,664 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,664 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,665 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,665 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,665 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,666 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,666 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,666 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,666 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,666 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,666 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,666 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,666 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,666 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,666 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,666 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,666 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,666 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,667 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,668 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,668 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,668 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,669 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,669 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,669 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,669 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,669 - src.models.xgboost_model - INFO -   n_estimators: 494
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   max_depth: 5
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   learning_rate: 0.05167009358358815
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   subsample: 0.8426970731862589
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   colsample_bytree: 0.6641367287057586
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   min_child_weight: 6
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   reg_alpha: 0.005958076178548152
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   reg_lambda: 1.0792349551592184
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,670 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,695 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,695 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,696 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,696 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,696 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,696 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,696 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,696 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,697 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,698 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,698 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,698 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,698 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,698 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,698 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,698 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,698 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,699 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,699 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,699 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,699 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,699 - src.hyperparameter_tuning - ERROR - Trial 98 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,719 - src.hyperparameter_tuning - INFO - Trial 99: 모델 타입 = xgboost
2025-06-24 09:25:28,724 - src.hyperparameter_tuning - INFO - 데이터 로드: 1000개 행 사용
2025-06-24 09:25:28,725 - src.splits - INFO - 데이터 분할 완료:
2025-06-24 09:25:28,725 - src.splits - INFO -   - 전체 데이터: 1,000 행
2025-06-24 09:25:28,725 - src.splits - INFO -   - 훈련/검증 데이터: 856 행
2025-06-24 09:25:28,725 - src.splits - INFO -   - 테스트 데이터: 144 행
2025-06-24 09:25:28,725 - src.splits - INFO -   - 테스트 ID 수: 19개
2025-06-24 09:25:28,725 - src.training - INFO - 교차 검증 시작
2025-06-24 09:25:28,725 - src.splits - INFO - 순수 그룹 기반 K-Fold 검증 전략 사용
2025-06-24 09:25:28,725 - src.splits - INFO - 그룹 K-Fold 분할: 107개 ID를 3개 폴드로 분할
2025-06-24 09:25:28,725 - src.splits - INFO - 그룹 K-Fold 폴드 1 생성 완료
2025-06-24 09:25:28,725 - src.splits - INFO -   - 훈련 데이터: 570 행 (71개 ID)
2025-06-24 09:25:28,725 - src.splits - INFO -   - 검증 데이터: 286 행 (36개 ID)
2025-06-24 09:25:28,725 - src.splits - INFO -   - 훈련 연도 범위: (2015, 2024)
2025-06-24 09:25:28,725 - src.splits - INFO -   - 검증 연도 범위: (2015, 2024)
2025-06-24 09:25:28,725 - src.training - INFO - === 폴드 1 학습 ===
2025-06-24 09:25:28,726 - src.preprocessing - INFO - 전처리 파이프라인 피팅 시작
2025-06-24 09:25:28,726 - src.preprocessing - INFO - 시계열 보간 적용: ['anxiety_score', 'depress_score', 'sleep_score', 'comp']
2025-06-24 09:25:28,726 - src.preprocessing - INFO - Fallback 전략: mean
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 수치형 컬럼: ['anxiety_score', 'depress_score', 'sleep_score', 'comp', 'age']
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 범주형 컬럼: ['sex']
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 통과시킬 컬럼: ['suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 전처리 파이프라인 생성 완료
2025-06-24 09:25:28,727 - src.preprocessing - INFO -   - 수치형 전략: mean
2025-06-24 09:25:28,727 - src.preprocessing - INFO -   - 범주형 전략: most_frequent
2025-06-24 09:25:28,727 - src.preprocessing - INFO -   - 범주형 인코딩: ordinal
2025-06-24 09:25:28,727 - src.preprocessing - INFO - 전처리 파이프라인 피팅 중...
2025-06-24 09:25:28,731 - src.preprocessing - INFO - 데이터 변환 중...
2025-06-24 09:25:28,733 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,733 - src.preprocessing - INFO - 전처리 파이프라인 피팅 완료
2025-06-24 09:25:28,733 - src.feature_engineering - INFO - 피처 엔지니어링 비활성화 - 기본 피처만 사용
2025-06-24 09:25:28,733 - src.feature_engineering - INFO - 피처 엔지니어링 완료: 33개 피처
2025-06-24 09:25:28,733 - src.feature_engineering - INFO -   - 원본 피처: 33개
2025-06-24 09:25:28,733 - src.feature_engineering - INFO -   - 새로 생성된 피처: 0개 (비활성화)
2025-06-24 09:25:28,733 - src.feature_engineering - INFO - [DEBUG] 피처 엔지니어링 직후 컬럼 목록: ['id', 'yov', 'dov', 'age', 'sex', 'comp', 'anxiety_score', 'depress_score', 'sleep_score', 'suicide_t', 'suicide_a', 'suicide_c', 'suicide_y', 'psychia_cate', 'check', 'age_group', 'anxiety_score_next_year', 'depress_score_next_year', 'sleep_score_next_year', 'suicide_t_next_year', 'suicide_a_next_year', 'month', 'day_of_week', 'day_of_year', 'anxiety_score_rolling_mean_2y', 'anxiety_score_rolling_std_2y', 'anxiety_score_yoy_change', 'depress_score_rolling_mean_2y', 'depress_score_rolling_std_2y', 'depress_score_yoy_change', 'sleep_score_rolling_mean_2y', 'sleep_score_rolling_std_2y', 'sleep_score_yoy_change']
2025-06-24 09:25:28,735 - src.preprocessing - INFO - 데이터 변환 완료: (570, 33)
2025-06-24 09:25:28,737 - src.preprocessing - INFO - 데이터 변환 완료: (286, 33)
2025-06-24 09:25:28,737 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,737 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,737 - src.feature_engineering - INFO - 피처 엔지니어링 적용 (기본 피처만 사용)
2025-06-24 09:25:28,737 - src.feature_engineering - INFO - 피처 엔지니어링 적용 완료: 33개 피처
2025-06-24 09:25:28,737 - src.training - INFO - [DEBUG] train_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,737 - src.training - INFO - [DEBUG] val_engineered 컬럼: ['num__anxiety_score', 'num__depress_score', 'num__sleep_score', 'num__comp', 'num__age', 'cat__sex', 'pass__suicide_t', 'pass__suicide_a', 'pass__suicide_c', 'pass__suicide_y', 'pass__psychia_cate', 'pass__check', 'pass__age_group', 'pass__anxiety_score_next_year', 'pass__depress_score_next_year', 'pass__sleep_score_next_year', 'pass__suicide_t_next_year', 'pass__suicide_a_next_year', 'pass__month', 'pass__day_of_week', 'pass__day_of_year', 'pass__anxiety_score_rolling_mean_2y', 'pass__anxiety_score_rolling_std_2y', 'pass__anxiety_score_yoy_change', 'pass__depress_score_rolling_mean_2y', 'pass__depress_score_rolling_std_2y', 'pass__depress_score_yoy_change', 'pass__sleep_score_rolling_mean_2y', 'pass__sleep_score_rolling_std_2y', 'pass__sleep_score_yoy_change', 'id', 'yov', 'dov']
2025-06-24 09:25:28,737 - src.feature_engineering - INFO - selected_features 기반 피처 컬럼 선택(타겟 제외): 6개
2025-06-24 09:25:28,737 - src.training - INFO - [DEBUG] feature_columns: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,737 - src.training - INFO - [DEBUG] target_columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] X_train shape: (570, 6), y_train shape: (570, 1)
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] X_val shape: (286, 6), y_val shape: (286, 1)
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] y_train 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] y_val 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,738 - src.preprocessing - INFO - 리샘플링이 비활성화되어 있습니다.
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] X_train_resampled shape: (570, 6), y_train_resampled shape: (570, 1)
2025-06-24 09:25:28,738 - src.training - INFO - [DEBUG] y_train_resampled 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,739 - src.training - INFO - 폴드 1 - 리샘플링 전 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,739 - src.training - INFO - 폴드 1 - 리샘플링 후 클래스 분포: {(0.0,): 499, (1.0,): 1}
2025-06-24 09:25:28,739 - src.training - INFO - 모델 학습 시작
2025-06-24 09:25:28,740 - src.training - INFO - 결측 타겟 제거: train 570->500, val 286->250
2025-06-24 09:25:28,740 - src.training - INFO - 모델 타입: xgboost
2025-06-24 09:25:28,740 - src.models.model_factory - INFO - 모델 타입 'xgboost'으로 모델을 생성합니다.
2025-06-24 09:25:28,740 - src.models.base_model - INFO - XGBOOST 모델 초기화 완료
2025-06-24 09:25:28,740 - src.models.base_model - INFO -   - 회귀 타겟: []
2025-06-24 09:25:28,740 - src.models.base_model - INFO -   - 분류 타겟: ['suicide_a_next_year']
2025-06-24 09:25:28,740 - src.models.xgboost_model - INFO -   - Focal Loss 사용: False
2025-06-24 09:25:28,740 - src.models.xgboost_model - INFO - XGBoost 모델 학습 시작
2025-06-24 09:25:28,740 - src.models.xgboost_model - INFO - Early Stopping 활성화 (rounds: 10)
2025-06-24 09:25:28,740 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,740 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 전 X shape: (500, 6)
2025-06-24 09:25:28,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (500, 6)
2025-06-24 09:25:28,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,740 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,740 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (500, 6)
2025-06-24 09:25:28,741 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (500, 6), y shape: (500, 1)
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,742 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,742 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X shape: (500, 6)
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,742 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,743 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,744 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6), y shape: (250, 1)
2025-06-24 09:25:28,744 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 y 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO - [DEBUG] _validate_input_data 호출 후 X_val shape: (250, 6)
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO - 사용 가능한 타겟 컬럼: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO - 타겟 suicide_a_next_year 모델 학습 중...
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   - scale_pos_weight: 499.00
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO - === suicide_a_next_year 모델 파라미터 ===
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   n_estimators: 658
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   max_depth: 4
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   learning_rate: 0.12741588401247655
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   subsample: 0.743973892325305
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   colsample_bytree: 0.7570921210139582
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   min_child_weight: 9
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   scale_pos_weight: 499.0
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   early_stopping_rounds: 10
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   verbose: 0
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   n_jobs: 28
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   use_focal_loss: False
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   focal_loss: {'alpha': 0.25, 'gamma': 2.0}
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   reg_alpha: 0.0003424597989175272
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   reg_lambda: 0.0020946747439076156
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   objective: binary:logistic
2025-06-24 09:25:28,744 - src.models.xgboost_model - INFO -   eval_metric: logloss
2025-06-24 09:25:28,745 - src.models.xgboost_model - INFO - model 인스턴스 타입: <class 'xgboost.sklearn.XGBClassifier'>
2025-06-24 09:25:28,757 - src.models.xgboost_model - INFO -   - suicide_a_next_year 모델 학습 완료
2025-06-24 09:25:28,758 - src.models.xgboost_model - INFO - 모든 모델 학습 완료 (1개)
2025-06-24 09:25:28,758 - src.models.xgboost_model - INFO - XGBoost 모델 예측 시작
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X shape: (250, 6)
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] _validate_input_data 입력 X dtypes: object    6
Name: count, dtype: int64
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] 컬럼 cat__sex을 숫자로 변환 성공
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__age을 숫자로 변환 성공
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__anxiety_score을 숫자로 변환 성공
2025-06-24 09:25:28,758 - src.models.base_model - INFO - [DEBUG] 컬럼 num__comp을 숫자로 변환 성공
2025-06-24 09:25:28,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__depress_score을 숫자로 변환 성공
2025-06-24 09:25:28,759 - src.models.base_model - INFO - [DEBUG] 컬럼 num__sleep_score을 숫자로 변환 성공
2025-06-24 09:25:28,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X shape: (250, 6)
2025-06-24 09:25:28,759 - src.models.base_model - INFO - [DEBUG] select_dtypes 후 X 컬럼: ['cat__sex', 'num__age', 'num__anxiety_score', 'num__comp', 'num__depress_score', 'num__sleep_score']
2025-06-24 09:25:28,759 - src.models.base_model - INFO - [DEBUG] _validate_input_data 출력 X shape: (250, 6)
2025-06-24 09:25:28,760 - src.models.xgboost_model - INFO -   - suicide_a_next_year 예측 완료
2025-06-24 09:25:28,760 - src.models.xgboost_model - INFO - 예측 완료: (250, 1)
2025-06-24 09:25:28,760 - src.training - INFO - === 예측 결과 평가 시작 ===
2025-06-24 09:25:28,760 - src.training - INFO - y_true shape: (250, 1), y_pred shape: (250, 1)
2025-06-24 09:25:28,760 - src.training - INFO - y_true columns: ['pass__suicide_a_next_year']
2025-06-24 09:25:28,760 - src.training - INFO - y_pred columns: ['suicide_a_next_year']
2025-06-24 09:25:28,760 - src.training - INFO - 타겟 'pass__suicide_a_next_year' 평가 중...
2025-06-24 09:25:28,760 - src.training - INFO -   접두사 제거 매칭: suicide_a_next_year
2025-06-24 09:25:28,760 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 유효한 샘플 수: 250
2025-06-24 09:25:28,760 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - true_vals unique: [0.0]
2025-06-24 09:25:28,760 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - pred_vals unique: [0 1]
2025-06-24 09:25:28,760 - src.training - INFO - 타겟 'pass__suicide_a_next_year' - 분류 문제로 처리
2025-06-24 09:25:28,761 - src.hyperparameter_tuning - ERROR - Trial 99 실패: Classification metrics can't handle a mix of unknown and binary targets
2025-06-24 09:25:28,761 - src.hyperparameter_tuning - INFO - 튜닝 완료 - 최고 성능: -inf
2025-06-24 09:25:28,761 - src.hyperparameter_tuning - INFO - 튜닝 시간: 6.95초
2025-06-24 09:25:28,766 - __main__ - INFO - 튜닝 결과 저장 중...
2025-06-24 09:25:28,767 - __main__ - ERROR - 하이퍼파라미터 튜닝 실패: 'NoneType' object has no attribute 'copy'
